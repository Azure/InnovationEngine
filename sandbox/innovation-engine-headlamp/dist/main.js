(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(`/**
 * Copyright (c) 2014 The xterm.js authors. All rights reserved.
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * https://github.com/chjj/term.js
 * @license MIT
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 *   The original design remains. The terminal itself
 *   has been extended to include xterm CSI codes, among
 *   other features.
 */.xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:10;color:transparent;pointer-events:none}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{text-decoration:double underline}.xterm-underline-3{text-decoration:wavy underline}.xterm-underline-4{text-decoration:dotted underline}.xterm-underline-5{text-decoration:dashed underline}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:overline underline}.xterm-overline.xterm-underline-2{text-decoration:overline double underline}.xterm-overline.xterm-underline-3{text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}`)),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(fe,nr){typeof exports=="object"&&typeof module<"u"?nr(require("react/jsx-runtime"),require("@kinvolk/headlamp-plugin/lib"),require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["react/jsx-runtime","@kinvolk/headlamp-plugin/lib","react","react-dom"],nr):(fe=typeof globalThis<"u"?globalThis:fe||self,nr(fe.pluginLib.ReactJSX,fe.pluginLib,fe.pluginLib.React,fe.pluginLib.ReactDOM))})(this,function(fe,nr,qe,Cl){"use strict";function ys(e){if(e&&typeof e=="object"&&"default"in e)return e;const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const i in e)if(i!=="default"){const t=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,t.get?t:{enumerable:!0,get:()=>e[i]})}}return r.default=e,Object.freeze(r)}const I=ys(qe),yl=ys(Cl);var jr=(e=>(e.NOTSTARTED="NOTSTARTED",e.EXECUTING="EXECUTING",e.SUCCESS="SUCCESS",e.FAILED="FAILED",e))(jr||{});const nn=qe.createContext(null),Sl=()=>{const e=qe.useContext(nn);if(!e)throw new Error("useExecutableDocsContext must be used within an ExecutableDocsProvider");return e},wl=({children:e})=>{const[r,i]=qe.useState(null),[t,s]=qe.useState(null),[l,_]=qe.useState("NOTSTARTED"),[n,a]=qe.useState(""),[c,p]=qe.useState(!1),u=qe.useMemo(()=>({resizeSocket:t,terminalSocket:r,selectedTutorial:n,confirmSelection:c,scenarioStatus:l,setScenarioStatus:_,setConfirmSelection:p,setSelectedTutorial:a,setTerminalSocket:i,setResizeSocket:s}),[t,r,l,n,c]);return fe.jsx(nn.Provider,{value:u,children:e})};var sn=function(e,r){return sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,t){i.__proto__=t}||function(i,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])},sn(e,r)};function Le(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");sn(e,r);function i(){this.constructor=e}e.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}var O=function(){return O=Object.assign||function(r){for(var i,t=1,s=arguments.length;t<s;t++){i=arguments[t];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])}return r},O.apply(this,arguments)};function yr(e,r){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)r.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(i[t[s]]=e[t[s]]);return i}function Ss(e,r,i,t){var s=arguments.length,l=s<3?r:t===null?t=Object.getOwnPropertyDescriptor(r,i):t,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,r,i,t);else for(var n=e.length-1;n>=0;n--)(_=e[n])&&(l=(s<3?_(l):s>3?_(r,i,l):_(r,i))||l);return s>3&&l&&Object.defineProperty(r,i,l),l}function ge(e,r,i){if(i||arguments.length===2)for(var t=0,s=r.length,l;t<s;t++)(l||!(t in r))&&(l||(l=Array.prototype.slice.call(r,0,t)),l[t]=r[t]);return e.concat(l||Array.prototype.slice.call(r))}typeof SuppressedError=="function"&&SuppressedError;var ws={},gi=void 0;try{gi=window}catch{}function Es(e,r){if(typeof gi<"u"){var i=gi.__packages__=gi.__packages__||{};if(!i[e]||!ws[e]){ws[e]=r;var t=i[e]=i[e]||[];t.push(r)}}}Es("@fluentui/set-version","6.0.0");var on="__global__",ks="__shadow_dom_stylesheet__",xs={stylesheetKey:on,inShadow:!1,window:void 0,__isShadowConfig__:!0},El=function(e,r,i){return{stylesheetKey:e,inShadow:r,window:i,__isShadowConfig__:!0}},$r=function(e){return e&&kl(e)?e.__isShadowConfig__===!0:!1};function kl(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Ds(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var t=[],s=[],l=e;function _(n){for(var a=0,c=n;a<c.length;a++){var p=c[a];if(p&&!$r(p))if(typeof p=="string")if(p.indexOf(" ")>=0)_(p.split(" "));else{var u=l.argsFromClassName(p);u?_(u):t.indexOf(p)===-1&&t.push(p)}else Array.isArray(p)?_(p):typeof p=="object"&&s.push(p)}}return _(r),{classes:t,objects:s}}function Is(e){Sr!==e&&(Sr=e)}function Ts(){return Sr===void 0&&(Sr=typeof document<"u"&&!!document.documentElement&&document.documentElement.getAttribute("dir")==="rtl"),Sr}var Sr;Sr=Ts();function bi(){return{rtl:Ts(),shadowConfig:xs}}var qr={none:0,insertNode:1,appendChild:2},Rs="__stylesheet__",xl=typeof navigator<"u"&&/rv:11.0/.test(navigator.userAgent),$t={};try{$t=window||{}}catch{}var wr,nt=function(){function e(r,i){var t,s,l,_,n,a;this._rules=[],this._preservedRules=[],this._counter=0,this._keyToClassName={},this._onInsertRuleCallbacks=[],this._onResetCallbacks=[],this._classNameToArgs={},this._config=O({injectionMode:typeof document>"u"?qr.none:qr.insertNode,defaultPrefix:"css",namespace:void 0,cspSettings:void 0},r),this._classNameToArgs=(t=i==null?void 0:i.classNameToArgs)!==null&&t!==void 0?t:this._classNameToArgs,this._counter=(s=i==null?void 0:i.counter)!==null&&s!==void 0?s:this._counter,this._keyToClassName=(_=(l=this._config.classNameCache)!==null&&l!==void 0?l:i==null?void 0:i.keyToClassName)!==null&&_!==void 0?_:this._keyToClassName,this._preservedRules=(n=i==null?void 0:i.preservedRules)!==null&&n!==void 0?n:this._preservedRules,this._rules=(a=i==null?void 0:i.rules)!==null&&a!==void 0?a:this._rules}return e.getInstance=function(r){if(wr=$t[Rs],$t[ks])return $t[ks].getInstance(r);if(!wr||wr._lastStyleElement&&wr._lastStyleElement.ownerDocument!==document){var i=($t==null?void 0:$t.FabricConfig)||{},t=new e(i.mergeStyles,i.serializedStylesheet);wr=t,$t[Rs]=t}return wr},e.prototype.serialize=function(){return JSON.stringify({classNameToArgs:this._classNameToArgs,counter:this._counter,keyToClassName:this._keyToClassName,preservedRules:this._preservedRules,rules:this._rules})},e.prototype.setConfig=function(r){this._config=O(O({},this._config),r)},e.prototype.onReset=function(r){var i=this;return this._onResetCallbacks.push(r),function(){i._onResetCallbacks=i._onResetCallbacks.filter(function(t){return t!==r})}},e.prototype.onInsertRule=function(r){var i=this;return this._onInsertRuleCallbacks.push(r),function(){i._onInsertRuleCallbacks=i._onInsertRuleCallbacks.filter(function(t){return t!==r})}},e.prototype.getClassName=function(r){var i=this._config.namespace,t=r||this._config.defaultPrefix;return"".concat(i?i+"-":"").concat(t,"-").concat(this._counter++)},e.prototype.cacheClassName=function(r,i,t,s){this._keyToClassName[this._getCacheKey(i)]=r,this._classNameToArgs[r]={args:t,rules:s}},e.prototype.classNameFromKey=function(r){return this._keyToClassName[this._getCacheKey(r)]},e.prototype.getClassNameCache=function(){return this._keyToClassName},e.prototype.argsFromClassName=function(r){var i=this._classNameToArgs[r];return i&&i.args},e.prototype.insertedRulesFromClassName=function(r){var i=this._classNameToArgs[r];return i&&i.rules},e.prototype.insertRule=function(r,i,t){t===void 0&&(t=on);var s=this._config.injectionMode,l=s!==qr.none?this._getStyleElement():void 0;if(i&&this._preservedRules.push(r),l)switch(s){case qr.insertNode:this._insertRuleIntoSheet(l.sheet,r);break;case qr.appendChild:l.appendChild(document.createTextNode(r));break}else this._rules.push(r);this._config.onInsertRule&&this._config.onInsertRule(r),this._onInsertRuleCallbacks.forEach(function(_){return _({key:t,sheet:l?l.sheet:void 0,rule:r})})},e.prototype.getRules=function(r){return(r?this._preservedRules.join(""):"")+this._rules.join("")},e.prototype.reset=function(){this._rules=[],this._counter=0,this._classNameToArgs={},this._keyToClassName={},this._onResetCallbacks.forEach(function(r){return r()})},e.prototype.resetKeys=function(){this._keyToClassName={}},e.prototype._createStyleElement=function(){var r,i=((r=this._config.window)===null||r===void 0?void 0:r.document)||document,t=i.head,s=i.createElement("style"),l=null;s.setAttribute("data-merge-styles","true");var _=this._config.cspSettings;if(_&&_.nonce&&s.setAttribute("nonce",_.nonce),this._lastStyleElement)l=this._lastStyleElement.nextElementSibling;else{var n=this._findPlaceholderStyleTag();n?l=n.nextElementSibling:l=t.childNodes[0]}return t.insertBefore(s,t.contains(l)?l:null),this._lastStyleElement=s,s},e.prototype._insertRuleIntoSheet=function(r,i){if(!r)return!1;try{return r.insertRule(i,r.cssRules.length),!0}catch{}return!1},e.prototype._getCacheKey=function(r){return r},e.prototype._getStyleElement=function(){var r=this;if(!this._styleElement&&(this._styleElement=this._createStyleElement(),!xl)){var i=this._config.window||window;i.requestAnimationFrame(function(){r._styleElement=void 0})}return this._styleElement},e.prototype._findPlaceholderStyleTag=function(){var r=document.head;return r?r.querySelector("style[data-merge-styles]"):null},e}(),Ms={};function Dl(e,r){var i=e[r];i.charAt(0)!=="-"&&(e[r]=Ms[i]=Ms[i]||i.replace(/([A-Z])/g,"-$1").toLowerCase())}var Ci;function Il(){var e;if(!Ci){var r=typeof document<"u"?document:void 0,i=typeof navigator<"u"?navigator:void 0,t=(e=i==null?void 0:i.userAgent)===null||e===void 0?void 0:e.toLowerCase();r?Ci={isWebkit:!!(r&&"WebkitAppearance"in r.documentElement.style),isMoz:!!(t&&t.indexOf("firefox")>-1),isOpera:!!(t&&t.indexOf("opera")>-1),isMs:!!(i&&(/rv:11.0/i.test(i.userAgent)||/Edge\/\d./i.test(navigator.userAgent)))}:Ci={isWebkit:!0,isMoz:!0,isOpera:!0,isMs:!0}}return Ci}var Ls={"user-select":1};function Tl(e,r){var i=Il(),t=e[r];if(Ls[t]){var s=e[r+1];Ls[t]&&(i.isWebkit&&e.push("-webkit-"+t,s),i.isMoz&&e.push("-moz-"+t,s),i.isMs&&e.push("-ms-"+t,s),i.isOpera&&e.push("-o-"+t,s))}}var Rl=["column-count","font-weight","flex","flex-grow","flex-shrink","fill-opacity","opacity","order","z-index","zoom"];function Ml(e,r){var i=e[r],t=e[r+1];if(typeof t=="number"){var s=Rl.indexOf(i)>-1,l=i.indexOf("--")>-1,_=s||l?"":"px";e[r+1]="".concat(t).concat(_)}}var yi,qt="left",Gt="right",Ll="@noflip",Bs=(yi={},yi[qt]=Gt,yi[Gt]=qt,yi),As={"w-resize":"e-resize","sw-resize":"se-resize","nw-resize":"ne-resize"};function Bl(e,r,i){if(e.rtl){var t=r[i];if(!t)return;var s=r[i+1];if(typeof s=="string"&&s.indexOf(Ll)>=0)r[i+1]=s.replace(/\s*(?:\/\*\s*)?\@noflip\b(?:\s*\*\/)?\s*?/g,"");else if(t.indexOf(qt)>=0)r[i]=t.replace(qt,Gt);else if(t.indexOf(Gt)>=0)r[i]=t.replace(Gt,qt);else if(String(s).indexOf(qt)>=0)r[i+1]=s.replace(qt,Gt);else if(String(s).indexOf(Gt)>=0)r[i+1]=s.replace(Gt,qt);else if(Bs[t])r[i]=Bs[t];else if(As[s])r[i+1]=As[s];else switch(t){case"margin":case"padding":r[i+1]=Pl(s);break;case"box-shadow":r[i+1]=Al(s,0);break}}}function Al(e,r){var i=e.split(" "),t=parseInt(i[r],10);return i[0]=i[0].replace(String(t),String(t*-1)),i.join(" ")}function Pl(e){if(typeof e=="string"){var r=e.split(" ");if(r.length===4)return"".concat(r[0]," ").concat(r[3]," ").concat(r[2]," ").concat(r[1])}return e}function Ol(e){for(var r=[],i=0,t=0,s=0;s<e.length;s++)switch(e[s]){case"(":t++;break;case")":t&&t--;break;case"	":case" ":t||(s>i&&r.push(e.substring(i,s)),i=s+1);break}return i<e.length&&r.push(e.substring(i)),r}var Nl="displayName";function Fl(e){var r=e&&e["&"];return r?r.displayName:void 0}var Ps=/\:global\((.+?)\)/g;function Hl(e){if(!Ps.test(e))return e;for(var r=[],i=/\:global\((.+?)\)/g,t=null;t=i.exec(e);)t[1].indexOf(",")>-1&&r.push([t.index,t.index+t[0].length,t[1].split(",").map(function(s){return":global(".concat(s.trim(),")")}).join(", ")]);return r.reverse().reduce(function(s,l){var _=l[0],n=l[1],a=l[2],c=s.slice(0,_),p=s.slice(n);return c+a+p},e)}function Wl(e){return e.indexOf(":global(")>=0||e.indexOf(":")===0}function Os(e,r){return e.indexOf(":global(")>=0?e.replace(Ps,"$1"):e.indexOf(":host(")===0?e:e.indexOf(":")===0?r+e:e.indexOf("&")<0?r+" "+e:e}function Ns(e,r,i,t,s){r===void 0&&(r={__order:[]}),i.indexOf("@")===0?(i=i+"{"+e,Er([t],r,i,s)):i.indexOf(",")>-1?Hl(i).split(",").map(function(l){return l.trim()}).forEach(function(l){return Er([t],r,Os(l,e),s)}):Er([t],r,Os(i,e),s)}function Er(e,r,i,t){r===void 0&&(r={__order:[]}),i===void 0&&(i="&");var s=r[i];s||(s={},r[i]=s,r.__order.push(i));for(var l=0,_=e;l<_.length;l++){var n=_[l];if(typeof n=="string"){var a=t.argsFromClassName(n);a&&Er(a,r,i,t)}else if(Array.isArray(n))Er(n,r,i,t);else for(var c in n)if(n.hasOwnProperty(c)){var p=n[c];if(c==="selectors"){var u=n.selectors;for(var v in u)u.hasOwnProperty(v)&&Ns(i,r,v,u[v],t)}else typeof p=="object"||Wl(c)?p!=null&&Ns(i,r,c,p,t):p!==void 0&&(c==="margin"||c==="padding"?Ul(s,c,p):s[c]=p)}}return r}function Ul(e,r,i){var t=typeof i=="string"?Ol(i):[i];t.length===0&&t.push(i),t[t.length-1]==="!important"&&(t=t.slice(0,-1).map(function(s){return s+" !important"})),e[r+"Top"]=t[0],e[r+"Right"]=t[1]||t[0],e[r+"Bottom"]=t[2]||t[0],e[r+"Left"]=t[3]||t[1]||t[0]}function Kl(e,r){for(var i=[e.rtl?"rtl":"ltr"],t=!1,s=0,l=r.__order;s<l.length;s++){var _=l[s];i.push(_);var n=r[_];for(var a in n)n.hasOwnProperty(a)&&n[a]!==void 0&&(t=!0,i.push(a,n[a]))}return t?i.join(""):void 0}function Fs(e,r){return r<=0?"":r===1?e:e+Fs(e,r-1)}function an(e,r){if(!r)return"";var i=[];for(var t in r)r.hasOwnProperty(t)&&t!==Nl&&r[t]!==void 0&&i.push(t,r[t]);for(var s=0;s<i.length;s+=2)Dl(i,s),Ml(i,s),Bl(e,i,s),Tl(i,s);for(var s=1;s<i.length;s+=4)i.splice(s,1,":",i[s],";");return i.join("")}function Hs(e){for(var r,i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];var s=(r=e.stylesheet)!==null&&r!==void 0?r:nt.getInstance(e.shadowConfig),l=Er(i,void 0,void 0,s),_=Kl(e,l);if(_){var n={className:s.classNameFromKey(_),key:_,args:i};if(!n.className){n.className=s.getClassName(Fl(l));for(var a=[],c=0,p=l.__order;c<p.length;c++){var u=p[c];a.push(u,an(e,l[u]))}n.rulesToInsert=a}return n}}function Ws(e,r,i,t){r===void 0&&(r=1);var s=t??nt.getInstance(i),l=e.className,_=e.key,n=e.args,a=e.rulesToInsert;if(a){for(var c=0;c<a.length;c+=2){var p=a[c+1];if(p){var u=a[c];u=u.replace(/&/g,Fs(".".concat(e.className),r));var v="".concat(u,"{").concat(p,"}").concat(u.indexOf("@")===0?"}":"");s.insertRule(v)}}s.cacheClassName(l,_,n,a)}}function zl(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var t=Hs.apply(void 0,ge([e],r,!1));return t?(Ws(t,e.specificityMultiplier,e.shadowConfig,e.stylesheet),t.className):""}function Pt(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return jl(e,bi())}function jl(e,r){var i=e instanceof Array?e:[e],t=r||{},s=$r(i[0]);s&&(t.shadowConfig=i[0]),t.stylesheet=nt.getInstance(t.shadowConfig);var l=Ds(t.stylesheet,i),_=l.classes,n=l.objects;return n.length&&_.push(zl(t,n)),_.join(" ")}function Vt(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e&&e.length===1&&e[0]&&!e[0].subComponentStyles&&!$r(e[0]))return e[0];for(var i={},t={},s=0,l=e;s<l.length;s++){var _=l[s];if(_&&!$r(_)){for(var n in _)if(_.hasOwnProperty(n)){if(n==="subComponentStyles"&&_.subComponentStyles!==void 0){var a=_.subComponentStyles;for(var c in a)a.hasOwnProperty(c)&&(t.hasOwnProperty(c)?t[c].push(a[c]):t[c]=[a[c]]);continue}var p=i[n],u=_[n];p===void 0?i[n]=u:i[n]=ge(ge([],Array.isArray(p)?p:[p],!0),Array.isArray(u)?u:[u],!0)}}}if(Object.keys(t).length>0){i.subComponentStyles={};var v=i.subComponentStyles,g=function(S){if(t.hasOwnProperty(S)){var b=t[S];v[S]=function(o){return Vt.apply(void 0,b.map(function(h){return typeof h=="function"?h(o):h}))}}};for(var c in t)g(c)}return i}function Gr(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Us(e,bi())}function Us(e,r){var i={subComponentStyles:{}},t=void 0,s;$r(e[0])?(t=e[0],s=e[1]):s=e[0],t??(t=r==null?void 0:r.shadowConfig);var l=O(O({},r),{shadowConfig:t});if(!s&&e.length<=1)return{subComponentStyles:{}};var _=nt.getInstance(t);l.stylesheet=_;var n=Vt.apply(void 0,e),a=[];for(var c in n)if(n.hasOwnProperty(c)){if(c==="subComponentStyles"){i.subComponentStyles=n.subComponentStyles||{};continue}else if(c==="__shadowConfig__")continue;var p=n[c],u=Ds(_,p),v=u.classes,g=u.objects;if(g!=null&&g.length){var S=Hs(l||{},{displayName:c},g);S&&(a.push(S),i[c]=v.concat([S.className]).join(" "))}else i[c]=v.join(" ")}for(var b=0,o=a;b<o.length;b++){var S=o[b];S&&Ws(S,r==null?void 0:r.specificityMultiplier,t)}return i}function Ks(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];for(var t=[],s=0,l=r;s<l.length;s++){var _=l[s];_&&t.push(typeof _=="function"?_(e):_)}return t.length===1?t[0]:t.length?Vt.apply(void 0,t):{}}function zs(e){var r=nt.getInstance(),i=an(bi(),e),t=r.classNameFromKey(i);if(!t){var s=r.getClassName();r.insertRule("@font-face{".concat(i,"}"),!0),r.cacheClassName(s,i,[],["font-face",i])}}function st(e){var r=nt.getInstance(),i=[];for(var t in e)e.hasOwnProperty(t)&&i.push(t,"{",an(bi(),e[t]),"}");var s=i.join(""),l=r.classNameFromKey(s);if(l)return l;var _=r.getClassName();return r.insertRule("@keyframes ".concat(_,"{").concat(s,"}"),!0),r.cacheClassName(_,s,[],["keyframes",s]),_}function $l(e){var r={},i=function(s){if(e.hasOwnProperty(s)){var l;Object.defineProperty(r,s,{get:function(){return l===void 0&&(l=Pt(e[s]).toString()),l},enumerable:!0,configurable:!0})}};for(var t in e)i(t);return r}function ln(){return typeof window<"u"&&!!(window.document&&window.document.createElement)}var cn=void 0;try{cn=window}catch{}function _e(e){if(!(!ln()||typeof cn>"u")){var r=e;return r&&r.ownerDocument&&r.ownerDocument.defaultView?r.ownerDocument.defaultView:cn}}var Vr=function(){function e(r,i){this._timeoutIds=null,this._immediateIds=null,this._intervalIds=null,this._animationFrameIds=null,this._isDisposed=!1,this._parent=r||null,this._onErrorHandler=i,this._noop=function(){}}return e.prototype.dispose=function(){var r;if(this._isDisposed=!0,this._parent=null,this._timeoutIds){for(r in this._timeoutIds)this._timeoutIds.hasOwnProperty(r)&&this.clearTimeout(parseInt(r,10));this._timeoutIds=null}if(this._immediateIds){for(r in this._immediateIds)this._immediateIds.hasOwnProperty(r)&&this.clearImmediate(parseInt(r,10));this._immediateIds=null}if(this._intervalIds){for(r in this._intervalIds)this._intervalIds.hasOwnProperty(r)&&this.clearInterval(parseInt(r,10));this._intervalIds=null}if(this._animationFrameIds){for(r in this._animationFrameIds)this._animationFrameIds.hasOwnProperty(r)&&this.cancelAnimationFrame(parseInt(r,10));this._animationFrameIds=null}},e.prototype.setTimeout=function(r,i){var t=this,s=0;return this._isDisposed||(this._timeoutIds||(this._timeoutIds={}),s=setTimeout(function(){try{t._timeoutIds&&delete t._timeoutIds[s],r.apply(t._parent)}catch(l){t._logError(l)}},i),this._timeoutIds[s]=!0),s},e.prototype.clearTimeout=function(r){this._timeoutIds&&this._timeoutIds[r]&&(clearTimeout(r),delete this._timeoutIds[r])},e.prototype.setImmediate=function(r,i){var t=this,s=0,l=_e(i);if(!this._isDisposed){this._immediateIds||(this._immediateIds={});var _=function(){try{t._immediateIds&&delete t._immediateIds[s],r.apply(t._parent)}catch(n){t._logError(n)}};s=l.setTimeout(_,0),this._immediateIds[s]=!0}return s},e.prototype.clearImmediate=function(r,i){var t=_e(i);this._immediateIds&&this._immediateIds[r]&&(t.clearTimeout(r),delete this._immediateIds[r])},e.prototype.setInterval=function(r,i){var t=this,s=0;return this._isDisposed||(this._intervalIds||(this._intervalIds={}),s=setInterval(function(){try{r.apply(t._parent)}catch(l){t._logError(l)}},i),this._intervalIds[s]=!0),s},e.prototype.clearInterval=function(r){this._intervalIds&&this._intervalIds[r]&&(clearInterval(r),delete this._intervalIds[r])},e.prototype.throttle=function(r,i,t){var s=this;if(this._isDisposed)return this._noop;var l=i||0,_=!0,n=!0,a=0,c,p,u=null;t&&typeof t.leading=="boolean"&&(_=t.leading),t&&typeof t.trailing=="boolean"&&(n=t.trailing);var v=function(S){var b=Date.now(),o=b-a,h=_?l-o:l;return o>=l&&(!S||_)?(a=b,u&&(s.clearTimeout(u),u=null),c=r.apply(s._parent,p)):u===null&&n&&(u=s.setTimeout(v,h)),c},g=function(){for(var S=[],b=0;b<arguments.length;b++)S[b]=arguments[b];return p=S,v(!0)};return g},e.prototype.debounce=function(r,i,t){var s=this;if(this._isDisposed){var l=function(){};return l.cancel=function(){},l.flush=function(){return null},l.pending=function(){return!1},l}var _=i||0,n=!1,a=!0,c=null,p=0,u=Date.now(),v,g,S=null;t&&typeof t.leading=="boolean"&&(n=t.leading),t&&typeof t.trailing=="boolean"&&(a=t.trailing),t&&typeof t.maxWait=="number"&&!isNaN(t.maxWait)&&(c=t.maxWait);var b=function(w){S&&(s.clearTimeout(S),S=null),u=w},o=function(w){b(w),v=r.apply(s._parent,g)},h=function(w){var E=Date.now(),C=!1;w&&(n&&E-p>=_&&(C=!0),p=E);var k=E-p,D=_-k,L=E-u,R=!1;return c!==null&&(L>=c&&S?R=!0:D=Math.min(D,c-L)),k>=_||R||C?o(E):(S===null||!w)&&a&&(S=s.setTimeout(h,D)),v},d=function(){return!!S},f=function(){d()&&b(Date.now())},m=function(){return d()&&o(Date.now()),v},y=function(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];return g=w,h(!0)};return y.cancel=f,y.flush=m,y.pending=d,y},e.prototype.requestAnimationFrame=function(r,i){var t=this,s=0,l=_e(i);if(!this._isDisposed){this._animationFrameIds||(this._animationFrameIds={});var _=function(){try{t._animationFrameIds&&delete t._animationFrameIds[s],r.apply(t._parent)}catch(n){t._logError(n)}};s=l.requestAnimationFrame?l.requestAnimationFrame(_):l.setTimeout(_,0),this._animationFrameIds[s]=!0}return s},e.prototype.cancelAnimationFrame=function(r,i){var t=_e(i);this._animationFrameIds&&this._animationFrameIds[r]&&(t.cancelAnimationFrame?t.cancelAnimationFrame(r):t.clearTimeout(r),delete this._animationFrameIds[r])},e.prototype._logError=function(r){this._onErrorHandler&&this._onErrorHandler(r)},e}();function ql(e){return e&&!!e._virtual}function Gl(e){var r;return e&&ql(e)&&(r=e._virtual.parent),r}function Ct(e,r){var i,t;if(r===void 0&&(r=!0),!e)return null;var s=r&&Gl(e);return s||(typeof e.assignedElements!="function"&&(!((i=e.assignedSlot)===null||i===void 0)&&i.parentNode)?e.assignedSlot:((t=e.parentNode)===null||t===void 0?void 0:t.nodeType)===11?e.parentNode.host:e.parentNode)}function Ge(e,r,i){i===void 0&&(i=!0);var t=!1;if(e&&r)if(i)if(e===r)t=!0;else for(t=!1;r;){var s=Ct(r);if(s===e){t=!0;break}r=s}else e.contains&&(t=e.contains(r));return t}function un(e,r,i){return i??(i=document),!e||e===i.body||e instanceof Document?null:r(e)?e:un(Ct(e),r)}function Vl(e,r,i){var t=un(e,function(s){return s.hasAttribute(r)},i);return t&&t.getAttribute(r)}var Si=function(e){for(var r=e.activeElement;r!=null&&r.shadowRoot;)r=r.shadowRoot.activeElement;return r},js=function(e){var r=e.target;return r&&r.shadowRoot&&(r=e.composedPath()[0]),r},hn="data-portal-element";function Xl(e){e.setAttribute(hn,"true")}function $s(e,r,i){var t,s=un(e,function(l){var _;return r===l||!!(!((_=l.hasAttribute)===null||_===void 0)&&_.call(l,hn))},i);return s!==null&&!!(!((t=s.hasAttribute)===null||t===void 0)&&t.call(s,hn))}function Yl(e,r){var i=e,t=r;i._virtual||(i._virtual={children:[]});var s=i._virtual.parent;if(s&&s!==r){var l=s._virtual.children.indexOf(i);l>-1&&s._virtual.children.splice(l,1)}i._virtual.parent=t||void 0,t&&(t._virtual||(t._virtual={children:[]}),t._virtual.children.push(i))}function ke(e){if(!(!ln()||typeof document>"u")){var r=e;return r&&r.ownerDocument?r.ownerDocument:document}}var Zl="data-is-focusable",Jl="data-is-visible",Ql="data-focuszone-id",ec="data-is-sub-focuszone";function qs(e,r,i,t){return Pe(e,r,!0,!1,!1,i,void 0,void 0,void 0,t)}function Gs(e,r,i,t){return We(e,r,!0,!1,!0,i,void 0,void 0,t)}function tc(e,r,i,t,s){return Pe(e,r,t,!1,!1,i,!1,!0,void 0,s)}function rc(e,r,i,t,s){return We(e,r,t,!1,!0,i,!1,!0,s)}function ic(e,r,i){var t=Pe(e,e,!0,!1,!1,!0,void 0,void 0,r,i);return t?(Ys(t),!0):!1}function We(e,r,i,t,s,l,_,n,a){var c;if(!r||!_&&r===e)return null;var p=wi(r);if(s&&p&&(l||!(Ot(r)||dn(r)))){var u=r.lastElementChild||a&&((c=r.shadowRoot)===null||c===void 0?void 0:c.lastElementChild),v=We(e,u,!0,!0,!0,l,_,n,a);if(v){if(n&&yt(v,!0,a)||!n)return v;var g=We(e,v.previousElementSibling,!0,!0,!0,l,_,n,a);if(g)return g;for(var S=v.parentElement;S&&S!==r;){var b=We(e,S.previousElementSibling,!0,!0,!0,l,_,n,a);if(b)return b;S=S.parentElement}}}if(i&&p&&yt(r,n,a))return r;var o=We(e,r.previousElementSibling,!0,!0,!0,l,_,n,a);return o||(t?null:We(e,r.parentElement,!0,!1,!1,l,_,n,a))}function Pe(e,r,i,t,s,l,_,n,a,c){var p;if(!r||r===e&&s&&!_)return null;var u=a?Vs:wi,v=u(r);if(i&&v&&yt(r,n,c))return r;if(!s&&v&&(l||!(Ot(r)||dn(r)))){var g=r.firstElementChild||c&&((p=r.shadowRoot)===null||p===void 0?void 0:p.firstElementChild),S=Pe(e,g,!0,!0,!1,l,_,n,a,c);if(S)return S}if(r===e)return null;var b=Pe(e,r.nextElementSibling,!0,!0,!1,l,_,n,a,c);return b||(t?null:Pe(e,r.parentElement,!1,!1,!0,l,_,n,a,c))}function wi(e){if(!e||!e.getAttribute)return!1;var r=e.getAttribute(Jl);return r!=null?r==="true":e.offsetHeight!==0||e.offsetParent!==null||e.isVisible===!0}function Vs(e,r){var i=r??_e();return!!e&&wi(e)&&!e.hidden&&i.getComputedStyle(e).visibility!=="hidden"}function yt(e,r,i){if(i===void 0&&(i=!0),!e||e.disabled)return!1;var t=0,s=null;e&&e.getAttribute&&(s=e.getAttribute("tabIndex"),s&&(t=parseInt(s,10)));var l=e.getAttribute?e.getAttribute(Zl):null,_=s!==null&&t>=0,n=i&&e.shadowRoot?!!e.shadowRoot.delegatesFocus:!1,a=!!e&&l!=="false"&&(e.tagName==="A"||e.tagName==="BUTTON"||e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.tagName==="SELECT"||l==="true"||_||n);return r?t!==-1&&a:a}function Ot(e){return!!(e&&e.getAttribute&&e.getAttribute(Ql))}function dn(e){return!!(e&&e.getAttribute&&e.getAttribute(ec)==="true")}function nc(e){var r=ke(e),i=r&&r.activeElement;return!!(i&&Ge(e,i))}function Xs(e,r,i){var t=ke();return Vl(e,r,t)!=="true"}var Ei=void 0;function Ys(e){if(e){var r=_e(e);r&&(Ei!==void 0&&r.cancelAnimationFrame(Ei),Ei=r.requestAnimationFrame(function(){e&&e.focus(),Ei=void 0}))}}function sc(e,r){for(var i=e,t=0,s=r;t<s.length;t++){var l=s[t],_=i.children[Math.min(l,i.children.length-1)];if(!_)break;i=_}return i=yt(i)&&wi(i)?i:Pe(e,i,!0)||We(e,i),i}function oc(e,r){for(var i=[];r&&e&&r!==e;){var t=Ct(r,!0);if(t===null)return[];i.unshift(Array.prototype.indexOf.call(t.children,r)),r=t}return i}function Xt(e,r,i,t){return e.addEventListener(r,i,t),function(){return e.removeEventListener(r,i,t)}}function fn(e,r){if(!e||!r)return!e&&!r;for(var i in e)if(e.hasOwnProperty(i)&&(!r.hasOwnProperty(i)||r[i]!==e[i]))return!1;for(var i in r)if(r.hasOwnProperty(i)&&!e.hasOwnProperty(i))return!1;return!0}function sr(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return ac.apply(this,[null,e].concat(r))}function ac(e,r){for(var i=[],t=2;t<arguments.length;t++)i[t-2]=arguments[t];r=r||{};for(var s=0,l=i;s<l.length;s++){var _=l[s];if(_)for(var n in _)_.hasOwnProperty(n)&&(!e||e(n))&&(r[n]=_[n])}return r}var St=function(){function e(r){this._id=e._uniqueId++,this._parent=r,this._eventRecords=[]}return e.raise=function(r,i,t,s,l){var _,n=l??ke();if(e._isElement(r)){if(typeof n<"u"&&n.createEvent){var a=n.createEvent("HTMLEvents");a.initEvent(i,s||!1,!0),sr(a,t),_=r.dispatchEvent(a)}else if(typeof n<"u"&&n.createEventObject){var c=n.createEventObject(t);r.fireEvent("on"+i,c)}}else for(;r&&_!==!1;){var p=r.__events__,u=p?p[i]:null;if(u){for(var v in u)if(u.hasOwnProperty(v))for(var g=u[v],S=0;_!==!1&&S<g.length;S++){var b=g[S];b.objectCallback&&(_=b.objectCallback.call(b.parent,t))}}r=s?r.parent:null}return _},e.isObserved=function(r,i){var t=r&&r.__events__;return!!t&&!!t[i]},e.isDeclared=function(r,i){var t=r&&r.__declaredEvents;return!!t&&!!t[i]},e.stopPropagation=function(r){r.stopPropagation?r.stopPropagation():r.cancelBubble=!0},e._isElement=function(r){return!!r&&(!!r.addEventListener||typeof HTMLElement<"u"&&r instanceof HTMLElement)},e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this.off(),this._parent=null)},e.prototype.onAll=function(r,i,t){for(var s in i)i.hasOwnProperty(s)&&this.on(r,s,i[s],t)},e.prototype.on=function(r,i,t,s){var l=this;if(i.indexOf(",")>-1)for(var _=i.split(/[ ,]+/),n=0;n<_.length;n++)this.on(r,_[n],t,s);else{var a=this._parent,c={target:r,eventName:i,parent:a,callback:t,options:s},_=r.__events__=r.__events__||{};if(_[i]=_[i]||{count:0},_[i][this._id]=_[i][this._id]||[],_[i][this._id].push(c),_[i].count++,e._isElement(r)){var p=function(){for(var g=[],S=0;S<arguments.length;S++)g[S]=arguments[S];if(!l._isDisposed){var b;try{if(b=t.apply(a,g),b===!1&&g[0]){var o=g[0];o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation(),o.cancelBubble=!0}}catch{}return b}};c.elementCallback=p,r.addEventListener?r.addEventListener(i,p,s):r.attachEvent&&r.attachEvent("on"+i,p)}else{var u=function(){for(var g=[],S=0;S<arguments.length;S++)g[S]=arguments[S];if(!l._isDisposed)return t.apply(a,g)};c.objectCallback=u}this._eventRecords.push(c)}},e.prototype.off=function(r,i,t,s){for(var l=0;l<this._eventRecords.length;l++){var _=this._eventRecords[l];if((!r||r===_.target)&&(!i||i===_.eventName)&&(!t||t===_.callback)&&(typeof s!="boolean"||s===_.options)){var n=_.target.__events__,a=n[_.eventName],c=a?a[this._id]:null;c&&(c.length===1||!t?(a.count-=c.length,delete n[_.eventName][this._id]):(a.count--,c.splice(c.indexOf(_),1)),a.count||delete n[_.eventName]),_.elementCallback&&(_.target.removeEventListener?_.target.removeEventListener(_.eventName,_.elementCallback,_.options):_.target.detachEvent&&_.target.detachEvent("on"+_.eventName,_.elementCallback)),this._eventRecords.splice(l--,1)}}},e.prototype.raise=function(r,i,t){return e.raise(this._parent,r,i,t)},e.prototype.declare=function(r){var i=this._parent.__declaredEvents=this._parent.__declaredEvents||{};if(typeof r=="string")i[r]=!0;else for(var t=0;t<r.length;t++)i[r[t]]=!0},e._uniqueId=0,e}(),_n,Xr=0,Zs=Pt({overflow:"hidden !important"}),Js="data-is-scrollable",lc=function(e,r){var i=_e(e);if(!(!e||!i)){var t=0,s=null,l=i.getComputedStyle(e),_=function(a){a.targetTouches.length===1&&(t=a.targetTouches[0].clientY)},n=function(a){if(a.targetTouches.length===1&&(a.stopPropagation(),!!s)){var c=a.targetTouches[0].clientY-t,p=eo(a.target);p&&s!==p&&(s=p,l=i.getComputedStyle(s));var u=s.scrollTop,v=(l==null?void 0:l.flexDirection)==="column-reverse";u===0&&(v?c<0:c>0)&&a.preventDefault(),s.scrollHeight-Math.abs(Math.ceil(u))<=s.clientHeight&&(v?c>0:c<0)&&a.preventDefault()}};r.on(e,"touchstart",_,{passive:!1}),r.on(e,"touchmove",n,{passive:!1}),s=e}},cc=function(e,r){if(e){var i=function(t){t.stopPropagation()};r.on(e,"touchmove",i,{passive:!1})}},Qs=function(e){e.preventDefault()};function uc(){var e=ke();e&&e.body&&!Xr&&(e.body.classList.add(Zs),e.body.addEventListener("touchmove",Qs,{passive:!1,capture:!1})),Xr++}function hc(){if(Xr>0){var e=ke();e&&e.body&&Xr===1&&(e.body.classList.remove(Zs),e.body.removeEventListener("touchmove",Qs)),Xr--}}function dc(e){if(_n===void 0){var r=ke(),i=r.createElement("div");i.style.setProperty("width","100px"),i.style.setProperty("height","100px"),i.style.setProperty("overflow","scroll"),i.style.setProperty("position","absolute"),i.style.setProperty("top","-9999px"),r.body.appendChild(i),_n=i.offsetWidth-i.clientWidth,r.body.removeChild(i)}return _n}function eo(e){for(var r=e,i=ke(e);r&&r!==i.body;){if(r.getAttribute(Js)==="true")return r;r=r.parentElement}for(r=e;r&&r!==i.body;){if(r.getAttribute(Js)!=="false"){var t=getComputedStyle(r),s=t?t.getPropertyValue("overflow-y"):"";if(s&&(s==="scroll"||s==="auto"))return r}r=r.parentElement}return(!r||r===i.body)&&(r=_e(e)),r}function fc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var to={exports:{}},Ce=to.exports={},wt,Et;function vn(){throw new Error("setTimeout has not been defined")}function pn(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?wt=setTimeout:wt=vn}catch{wt=vn}try{typeof clearTimeout=="function"?Et=clearTimeout:Et=pn}catch{Et=pn}})();function ro(e){if(wt===setTimeout)return setTimeout(e,0);if((wt===vn||!wt)&&setTimeout)return wt=setTimeout,setTimeout(e,0);try{return wt(e,0)}catch{try{return wt.call(null,e,0)}catch{return wt.call(this,e,0)}}}function _c(e){if(Et===clearTimeout)return clearTimeout(e);if((Et===pn||!Et)&&clearTimeout)return Et=clearTimeout,clearTimeout(e);try{return Et(e)}catch{try{return Et.call(null,e)}catch{return Et.call(this,e)}}}var Nt=[],kr=!1,or,ki=-1;function vc(){!kr||!or||(kr=!1,or.length?Nt=or.concat(Nt):ki=-1,Nt.length&&io())}function io(){if(!kr){var e=ro(vc);kr=!0;for(var r=Nt.length;r;){for(or=Nt,Nt=[];++ki<r;)or&&or[ki].run();ki=-1,r=Nt.length}or=null,kr=!1,_c(e)}}Ce.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)r[i-1]=arguments[i];Nt.push(new no(e,r)),Nt.length===1&&!kr&&ro(io)};function no(e,r){this.fun=e,this.array=r}no.prototype.run=function(){this.fun.apply(null,this.array)},Ce.title="browser",Ce.browser=!0,Ce.env={},Ce.argv=[],Ce.version="",Ce.versions={};function Ft(){}Ce.on=Ft,Ce.addListener=Ft,Ce.once=Ft,Ce.off=Ft,Ce.removeListener=Ft,Ce.removeAllListeners=Ft,Ce.emit=Ft,Ce.prependListener=Ft,Ce.prependOnceListener=Ft,Ce.listeners=function(e){return[]},Ce.binding=function(e){throw new Error("process.binding is not supported")},Ce.cwd=function(){return"/"},Ce.chdir=function(e){throw new Error("process.chdir is not supported")},Ce.umask=function(){return 0};var pc=to.exports;const kt=fc(pc);function xt(e){console&&console.warn&&console.warn(e)}function mn(e,r,i,t,s){if(s===!0&&kt.env.NODE_ENV!=="production")for(var l=0,_=i;l<_.length;l++){var n=_[l];n in r||xt("".concat(e," property '").concat(n,"' is required when '").concat(t,"' is used.'"))}}function gn(e,r,i){if(kt.env.NODE_ENV!=="production"){for(var t in i)if(r&&r[t]!==void 0){var s=i[t];s&&r[s]!==void 0&&xt("".concat(e," property '").concat(t,"' is mutually exclusive with '").concat(i[t],"'. ")+"Use one or the other.")}}}function xr(e,r,i){if(kt.env.NODE_ENV!=="production"){for(var t in i)if(r&&t in r){var s="".concat(e," property '").concat(t,"' was used but has been deprecated."),l=i[t];l&&(s+=" Use '".concat(l,"' instead.")),xt(s)}}}(function(e){Le(r,e);function r(i,t){var s=e.call(this,i,t)||this;return mc(s,r.prototype,["componentDidMount","shouldComponentUpdate","getSnapshotBeforeUpdate","render","componentDidUpdate","componentWillUnmount"]),s}return r.prototype.componentDidUpdate=function(i,t){this._updateComponentRef(i,this.props)},r.prototype.componentDidMount=function(){this._setComponentRef(this.props.componentRef,this)},r.prototype.componentWillUnmount=function(){if(this._setComponentRef(this.props.componentRef,null),this.__disposables){for(var i=0,t=this._disposables.length;i<t;i++){var s=this.__disposables[i];s.dispose&&s.dispose()}this.__disposables=null}},Object.defineProperty(r.prototype,"className",{get:function(){if(!this.__className){var i=/function (.{1,})\(/,t=i.exec(this.constructor.toString());this.__className=t&&t.length>1?t[1]:""}return this.__className},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_disposables",{get:function(){return this.__disposables||(this.__disposables=[]),this.__disposables},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_async",{get:function(){return this.__async||(this.__async=new Vr(this),this._disposables.push(this.__async)),this.__async},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_events",{get:function(){return this.__events||(this.__events=new St(this),this._disposables.push(this.__events)),this.__events},enumerable:!1,configurable:!0}),r.prototype._resolveRef=function(i){var t=this;return this.__resolves||(this.__resolves={}),this.__resolves[i]||(this.__resolves[i]=function(s){return t[i]=s}),this.__resolves[i]},r.prototype._updateComponentRef=function(i,t){t===void 0&&(t={}),i&&t&&i.componentRef!==t.componentRef&&(this._setComponentRef(i.componentRef,null),this._setComponentRef(t.componentRef,this))},r.prototype._warnDeprecations=function(i){xr(this.className,this.props,i)},r.prototype._warnMutuallyExclusive=function(i){gn(this.className,this.props,i)},r.prototype._warnConditionallyRequiredProps=function(i,t,s){mn(this.className,this.props,i,t,s)},r.prototype._setComponentRef=function(i,t){!this._skipComponentRefResolution&&i&&(typeof i=="function"&&i(t),typeof i=="object"&&(i.current=t))},r})(I.Component);function mc(e,r,i){for(var t=0,s=i.length;t<s;t++)gc(e,r,i[t])}function gc(e,r,i){var t=e[i],s=r[i];(t||s)&&(e[i]=function(){for(var l=[],_=0;_<arguments.length;_++)l[_]=arguments[_];var n;return s&&(n=s.apply(this,l)),t!==s&&(n=t.apply(this,l)),n})}function xi(){return null}var bn="__globalSettings__",Cn="__callbacks__",bc=0,so=function(){function e(){}return e.getValue=function(r,i){var t=yn();return t[r]===void 0&&(t[r]=typeof i=="function"?i():i),t[r]},e.setValue=function(r,i){var t=yn(),s=t[Cn],l=t[r];if(i!==l){t[r]=i;var _={oldValue:l,value:i,key:r};for(var n in s)s.hasOwnProperty(n)&&s[n](_)}return i},e.addChangeListener=function(r){var i=r.__id__,t=oo();i||(i=r.__id__=String(bc++)),t[i]=r},e.removeChangeListener=function(r){var i=oo();delete i[r.__id__]},e}();function yn(){var e,r=_e(),i=r||{};return i[bn]||(i[bn]=(e={},e[Cn]={},e)),i[bn]}function oo(){var e=yn();return e[Cn]}var Y={tab:9,enter:13,alt:18,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},ot=function(){function e(r,i,t,s){r===void 0&&(r=0),i===void 0&&(i=0),t===void 0&&(t=0),s===void 0&&(s=0),this.top=t,this.bottom=s,this.left=r,this.right=i}return Object.defineProperty(e.prototype,"width",{get:function(){return this.right-this.left},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!1,configurable:!0}),e.prototype.equals=function(r){return parseFloat(this.top.toFixed(4))===parseFloat(r.top.toFixed(4))&&parseFloat(this.bottom.toFixed(4))===parseFloat(r.bottom.toFixed(4))&&parseFloat(this.left.toFixed(4))===parseFloat(r.left.toFixed(4))&&parseFloat(this.right.toFixed(4))===parseFloat(r.right.toFixed(4))},e}();function Cc(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return r.length<2?r[0]:function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];r.forEach(function(l){return l&&l.apply(e,t)})}}function Dr(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.filter(function(t){return t}).join(" ").trim();return i===""?void 0:i}function yc(e,r,i){i===void 0&&(i=0);for(var t=-1,s=i;e&&s<e.length;s++)if(r(e[s],s)){t=s;break}return t}function Sc(e,r,i){var t=e.slice();return t.splice(r,0,i),t}function wc(e,r){if(e.length!==r.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==r[i])return!1;return!0}function ao(e){var r=null;try{var i=_e();r=i?i.sessionStorage.getItem(e):null}catch{}return r}function Ec(e,r){var i;try{(i=_e())===null||i===void 0||i.sessionStorage.setItem(e,r)}catch{}}var lo="isRTL",Ht;function Ue(e){if(e===void 0&&(e={}),e.rtl!==void 0)return e.rtl;if(Ht===void 0){var r=ao(lo);r!==null&&(Ht=r==="1",kc(Ht));var i=ke();Ht===void 0&&i&&(Ht=(i.body&&i.body.getAttribute("dir")||i.documentElement.getAttribute("dir"))==="rtl",Is(Ht))}return!!Ht}function kc(e,r){r===void 0&&(r=!1);var i=ke();i&&i.documentElement.setAttribute("dir",e?"rtl":"ltr"),r&&Ec(lo,e?"1":"0"),Ht=e,Is(Ht)}var xc=50,Dc=5,Di=0,Sn=nt.getInstance();Sn&&Sn.onReset&&Sn.onReset(function(){return Di++});var Ii="__retval__";function Je(e){e===void 0&&(e={});var r=new Map,i=0,t=0,s=Di,l=function(_,n){var a;if(n===void 0&&(n={}),e.useStaticStyles&&typeof _=="function"&&_.__noStyleOverride__)return _(n);t++;var c=_?_.__shadowConfig__:void 0,p=c&&c.window?c.window:"__default__";r.has(p)||r.set(p,new Map);var u=r.get(p),v=n.theme,g=v&&v.rtl!==void 0?v.rtl:Ue(),S=e.disableCaching;if(s!==Di&&(s=Di,r.set(p,new Map),u=r.get(p),i=0),e.disableCaching||(u=co(r.get(p),_),u=co(u,n)),(S||!u[Ii])&&(_===void 0?u[Ii]={}:u[Ii]=Us([typeof _=="function"?_(n):_],{shadowConfig:_.__shadowConfig__,rtl:!!g,specificityMultiplier:e.useStaticStyles?Dc:void 0}),S||i++),i>(e.cacheSize||xc)){var b=_e();!((a=b==null?void 0:b.FabricConfig)===null||a===void 0)&&a.enableClassNameCacheFullWarning&&(console.warn("Styles are being recalculated too frequently. Cache miss rate is ".concat(i,"/").concat(t,".")),console.trace()),r.get(p).clear(),i=0,e.disableCaching=!0}return u[Ii]};return l}function wn(e,r){return r=Ic(r),e.has(r)||e.set(r,new Map),e.get(r)}function co(e,r){if(typeof r=="function"){var i=r.__cachedInputs__;if(i)for(var t=0,s=r.__cachedInputs__;t<s.length;t++){var l=s[t];e=wn(e,l)}else e=wn(e,r)}else if(typeof r=="object")for(var _ in r)r.hasOwnProperty(_)&&(e=wn(e,r[_]));return e}function Ic(e){switch(e){case void 0:return"__undefined__";case null:return"__null__";default:return e}}var uo=!1,Ti=0,Tc={empty:!0},En={},Yr=typeof WeakMap>"u"?null:WeakMap;function Rc(){Ti++}function ye(e,r,i){if(r===void 0&&(r=100),i===void 0&&(i=!1),!Yr)return e;if(!uo){var t=nt.getInstance();t&&t.onReset&&nt.getInstance().onReset(Rc),uo=!0}var s,l=0,_=Ti;return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var p=s;(s===void 0||_!==Ti||r>0&&l>r)&&(s=ho(),l=0,_=Ti),p=s;for(var u=0;u<a.length;u++){var v=Mc(a[u]);p.map.has(v)||p.map.set(v,ho()),p=p.map.get(v)}return p.hasOwnProperty("value")||(p.value=e.apply(void 0,a),l++),i&&(p.value===null||p.value===void 0)&&(p.value=e.apply(void 0,a)),p.value}}function Ir(e){if(!Yr)return e;var r=new Yr;function i(t){if(!t||typeof t!="function"&&typeof t!="object")return e(t);if(r.has(t))return r.get(t);var s=e(t);return r.set(t,s),s}return i}function Mc(e){if(e){if(typeof e=="object"||typeof e=="function")return e;En[e]||(En[e]={val:e})}else return Tc;return En[e]}function ho(){return{map:Yr?new Yr:null}}function Lc(e){var r=e,i=Ir(function(t){if(e===t)throw new Error("Attempted to compose a component with itself.");var s=t,l=Ir(function(n){var a=function(c){return I.createElement(s,O({},c,{defaultRender:n}))};return a}),_=function(n){var a=n.defaultRender;return I.createElement(r,O({},n,{defaultRender:a?l(a):s}))};return _});return i}var Bc=Ir(Lc);function at(e,r){return Bc(e)(r)}function fo(e,r){return e[r]!==void 0&&e[r]!==null}function Qe(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i=[],t=0,s=e;t<s.length;t++){var l=s[t];if(l)if(typeof l=="string")i.push(l);else if(l.hasOwnProperty("toString")&&typeof l.toString=="function")i.push(l.toString());else for(var _ in l)l[_]&&i.push(_)}return i.join(" ")}var Ac="customizations",Pc={settings:{},scopedSettings:{},inCustomizerContext:!1},Yt=so.getValue(Ac,{settings:{},scopedSettings:{},inCustomizerContext:!1}),Ri=[],dt=function(){function e(){}return e.reset=function(){Yt.settings={},Yt.scopedSettings={}},e.applySettings=function(r){Yt.settings=O(O({},Yt.settings),r),e._raiseChange()},e.applyScopedSettings=function(r,i){Yt.scopedSettings[r]=O(O({},Yt.scopedSettings[r]),i),e._raiseChange()},e.getSettings=function(r,i,t){t===void 0&&(t=Pc);for(var s={},l=i&&t.scopedSettings[i]||{},_=i&&Yt.scopedSettings[i]||{},n=0,a=r;n<a.length;n++){var c=a[n];s[c]=l[c]||t.settings[c]||_[c]||Yt.settings[c]}return s},e.applyBatchedUpdates=function(r,i){e._suppressUpdates=!0;try{r()}catch{}e._suppressUpdates=!1,i||e._raiseChange()},e.observe=function(r){Ri.push(r)},e.unobserve=function(r){Ri=Ri.filter(function(i){return i!==r})},e._raiseChange=function(){e._suppressUpdates||Ri.forEach(function(r){return r()})},e}(),Mi=I.createContext({customizations:{inCustomizerContext:!1,settings:{},scopedSettings:{}}});function Oc(e,r){e===void 0&&(e={});var i=_o(r)?r:Fc(r);return i(e)}function Nc(e,r){e===void 0&&(e={});var i=_o(r)?r:Hc(r);return i(e)}function _o(e){return typeof e=="function"}function Fc(e){return function(r){return e?O(O({},r),e):r}}function Hc(e){return e===void 0&&(e={}),function(r){var i=O({},r);for(var t in e)e.hasOwnProperty(t)&&(i[t]=O(O({},r[t]),e[t]));return i}}function Wc(e,r){var i=(r||{}).customizations,t=i===void 0?{settings:{},scopedSettings:{}}:i;return{customizations:{settings:Oc(t.settings,e.settings),scopedSettings:Nc(t.scopedSettings,e.scopedSettings),inCustomizerContext:!0}}}var Uc=function(e){Le(r,e);function r(){var i=e!==null&&e.apply(this,arguments)||this;return i._onCustomizationChange=function(){return i.forceUpdate()},i}return r.prototype.componentDidMount=function(){dt.observe(this._onCustomizationChange)},r.prototype.componentWillUnmount=function(){dt.unobserve(this._onCustomizationChange)},r.prototype.render=function(){var i=this,t=this.props.contextTransform;return I.createElement(Mi.Consumer,null,function(s){var l=Wc(i.props,s);return t&&(l=t(l)),I.createElement(Mi.Provider,{value:l},i.props.children)})},r}(I.Component);function Kc(e,r){for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);return r}var kn=function(){return!1},zc=function(){return xs},jc=function(){return new Map},xn=function(){},$c=function(){return{stylesheets:new Map,useAdoptedStylesheetEx:kn,useAdoptedStylesheet:kn,useShadowConfig:zc,useMergeStylesShadowRootContext:xn,useHasMergeStylesShadowRootContext:kn,useMergeStylesRootStylesheets:jc,useWindow:xn,useStyled:xn}},qc=I.createContext($c()),vo=function(){var e=I.useContext(qc);return{useAdoptedStylesheet:e.useAdoptedStylesheet,useAdoptedStylesheetEx:e.useAdoptedStylesheetEx,useShadowConfig:e.useShadowConfig,useMergeStylesShadowRootContext:e.useMergeStylesShadowRootContext,useHasMergeStylesShadowRootContext:e.useHasMergeStylesShadowRootContext,useMergeStylesRootStylesheets:e.useMergeStylesRootStylesheets,useWindow:e.useWindow,useStyled:e.useStyled}},po=I.createContext(void 0),Gc=function(){return!!mo()},mo=function(){return I.useContext(po)},Vc=function(e){var r=e.stylesheetKey,i=e.children,t=vo(),s=t.useAdoptedStylesheetEx,l=t.useMergeStylesRootStylesheets,_=t.useWindow,n=mo(),a=l(),c=_();return s(on,n,a,c),s(r,n,a,c),i(!!n)},Zr=I.createContext({window:typeof window=="object"?window:void 0}),Li=function(){return I.useContext(Zr).window},Xc=function(){var e;return(e=I.useContext(Zr).window)===null||e===void 0?void 0:e.document},Yc=ye(El),Zc=ye(function(e,r,i){var t,s=(t=r??e)!==null&&t!==void 0?t:{};return s.__shadowConfig__=i,s});function go(e,r,i){return function(s){var l,_=(l=function(n){Le(a,n);function a(c){var p=n.call(this,c)||this;return p._styleCache={},p._onSettingChanged=p._onSettingChanged.bind(p),p}return a.prototype.componentDidMount=function(){dt.observe(this._onSettingChanged)},a.prototype.componentWillUnmount=function(){dt.unobserve(this._onSettingChanged)},a.prototype.render=function(){var c=this;return I.createElement(Vc,{stylesheetKey:e},function(p){return I.createElement(Mi.Consumer,null,function(u){var v,g=dt.getSettings(r,e,u.customizations),S=(v=c.context.window)!==null&&v!==void 0?v:_e(),b=Yc(e,p,S),o=c.props;if(g.styles&&typeof g.styles=="function"&&(g.styles=g.styles(O(O({},g),o))),g.styles){if(c._styleCache.default!==g.styles||c._styleCache.component!==o.styles){var h=Vt(g.styles,o.styles);h.__shadowConfig__=b,c._styleCache.default=g.styles,c._styleCache.component=o.styles,c._styleCache.merged=h}return I.createElement(s,O({},g,o,{styles:c._styleCache.merged}))}var d=Zc(g.styles,o.styles,b);return I.createElement(s,O({},g,o,{styles:d}))})})},a.prototype._onSettingChanged=function(){this.forceUpdate()},a}(I.Component),l.displayName="Customized"+e,l.contextType=Zr,l);return Kc(s,_)}}function Jc(e,r){var i=Qc(),t=I.useContext(Mi).customizations,s=t.inCustomizerContext;return I.useEffect(function(){return s||dt.observe(i),function(){s||dt.unobserve(i)}},[s]),dt.getSettings(e,r,t)}function Qc(){var e=I.useState(0),r=e[1];return function(){return r(function(i){return++i})}}function bo(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=Cc(e,e[i],r[i]))}var Bi="__currentId__",eu="id__",Ai=_e()||{};Ai[Bi]===void 0&&(Ai[Bi]=0);var Co=!1;function lt(e){if(!Co){var r=nt.getInstance();r&&r.onReset&&r.onReset(tu),Co=!0}var i=Ai[Bi]++;return(e===void 0?eu:e)+i}function tu(e){e===void 0&&(e=0),Ai[Bi]=e}var be=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i={},t=0,s=e;t<s.length;t++)for(var l=s[t],_=Array.isArray(l)?l:Object.keys(l),n=0,a=_;n<a.length;n++){var c=a[n];i[c]=1}return i},ru=be(["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),iu=be(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),xe=be(iu,ru);be(xe,["form"]);var nu=be(xe,["height","loop","muted","preload","src","width"]);be(nu,["poster"]),be(xe,["start"]),be(xe,["value"]);var yo=be(xe,["download","href","hrefLang","media","rel","target","type"]),ar=be(xe,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]);be(ar,["accept","alt","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","minLength","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]),be(ar,["autoCapitalize","cols","dirname","form","maxLength","minLength","placeholder","readOnly","required","rows","wrap"]),be(ar,["form","multiple","required"]),be(xe,["selected","value"]),be(xe,["cellPadding","cellSpacing"]),be(xe,["rowSpan","scope"]),be(xe,["colSpan","headers","rowSpan","scope"]),be(xe,["span"]),be(xe,["span"]),be(xe,["acceptCharset","action","encType","encType","method","noValidate","target"]),be(xe,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]);var su=be(xe,["alt","crossOrigin","height","src","srcSet","useMap","width"]),Wt=xe;function De(e,r,i){for(var t=Array.isArray(r),s={},l=Object.keys(e),_=0,n=l;_<n.length;_++){var a=n[_],c=!t&&r[a]||t&&r.indexOf(a)>=0||a.indexOf("data-")===0||a.indexOf("aria-")===0;c&&(!i||(i==null?void 0:i.indexOf(a))===-1)&&(s[a]=e[a])}return s}function lr(e){bo(e,{componentDidMount:ou,componentDidUpdate:au,componentWillUnmount:lu})}function ou(){Pi(this.props.componentRef,this)}function au(e){e.componentRef!==this.props.componentRef&&(Pi(e.componentRef,null),Pi(this.props.componentRef,this))}function lu(){Pi(this.props.componentRef,null)}function Pi(e,r){e&&(typeof e=="object"?e.current=r:typeof e=="function"&&e(r))}var ft,cu=(ft={},ft[Y.up]=1,ft[Y.down]=1,ft[Y.left]=1,ft[Y.right]=1,ft[Y.home]=1,ft[Y.end]=1,ft[Y.tab]=1,ft[Y.pageUp]=1,ft[Y.pageDown]=1,ft);function So(e){return!!cu[e]}var se="ms-Fabric--isFocusVisible",wo="ms-Fabric--isFocusHidden";function Eo(e,r){e&&(e.classList.add(r?se:wo),e.classList.remove(r?wo:se))}function cr(e,r,i){var t;i?i.forEach(function(s){return Eo(s.current,e)}):Eo((t=_e(r))===null||t===void 0?void 0:t.document.body,e)}var ko=new WeakMap,xo=new WeakMap;function Do(e,r){var i,t=ko.get(e);return t?i=t+r:i=1,ko.set(e,i),i}function uu(e){var r=xo.get(e);if(r)return r;var i=function(_){return Ro(_,e.registeredProviders)},t=function(_){return Mo(_,e.registeredProviders)},s=function(_){return Lo(_,e.registeredProviders)},l=function(_){return Bo(_,e.registeredProviders)};return r={onMouseDown:i,onPointerDown:t,onKeyDown:s,onKeyUp:l},xo.set(e,r),r}var Jr=I.createContext(void 0);function Io(e){var r=I.useContext(Jr);I.useEffect(function(){var i,t,s,l,_=_e(e==null?void 0:e.current);if(!(!_||((i=_.FabricConfig)===null||i===void 0?void 0:i.disableFocusRects)===!0)){var n=_,a,c,p,u;if(!((t=r==null?void 0:r.providerRef)===null||t===void 0)&&t.current&&(!((l=(s=r==null?void 0:r.providerRef)===null||s===void 0?void 0:s.current)===null||l===void 0)&&l.addEventListener)){n=r.providerRef.current;var v=uu(r);a=v.onMouseDown,c=v.onPointerDown,p=v.onKeyDown,u=v.onKeyUp}else a=Ro,c=Mo,p=Lo,u=Bo;var g=Do(n,1);return g<=1&&(n.addEventListener("mousedown",a,!0),n.addEventListener("pointerdown",c,!0),n.addEventListener("keydown",p,!0),n.addEventListener("keyup",u,!0)),function(){var S;!_||((S=_.FabricConfig)===null||S===void 0?void 0:S.disableFocusRects)===!0||(g=Do(n,-1),g===0&&(n.removeEventListener("mousedown",a,!0),n.removeEventListener("pointerdown",c,!0),n.removeEventListener("keydown",p,!0),n.removeEventListener("keyup",u,!0)))}}},[r,e])}var To=function(e){return Io(e.rootRef),null};function Ro(e,r){cr(!1,e.target,r)}function Mo(e,r){e.pointerType!=="mouse"&&cr(!1,e.target,r)}function Lo(e,r){So(e.which)&&cr(!0,e.target,r)}function Bo(e,r){So(e.which)&&cr(!0,e.target,r)}var Ao=function(e){var r=e.providerRef,i=e.layerRoot,t=I.useState([])[0],s=I.useContext(Jr),l=s!==void 0&&!i,_=I.useMemo(function(){return l?void 0:{providerRef:r,registeredProviders:t,registerProvider:function(n){t.push(n),s==null||s.registerProvider(n)},unregisterProvider:function(n){s==null||s.unregisterProvider(n);var a=t.indexOf(n);a>=0&&t.splice(a,1)}}},[r,t,s,l]);return I.useEffect(function(){if(_)return _.registerProvider(_.providerRef),function(){return _.unregisterProvider(_.providerRef)}},[_]),_?I.createElement(Jr.Provider,{value:_},e.children):I.createElement(I.Fragment,null,e.children)};function hu(e){var r=null;try{var i=_e();r=i?i.localStorage.getItem(e):null}catch{}return r}var ur,Po="language";function du(e){if(e===void 0&&(e="sessionStorage"),ur===void 0){var r=ke(),i=e==="localStorage"?hu(Po):e==="sessionStorage"?ao(Po):void 0;i&&(ur=i),ur===void 0&&r&&(ur=r.documentElement.getAttribute("lang")),ur===void 0&&(ur="en")}return ur}function Oo(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];for(var t=0,s=r;t<s.length;t++){var l=s[t];No(e||{},l)}return e}function No(e,r,i){i===void 0&&(i=[]),i.push(r);for(var t in r)if(r.hasOwnProperty(t)&&t!=="__proto__"&&t!=="constructor"&&t!=="prototype"){var s=r[t];if(typeof s=="object"&&s!==null&&!Array.isArray(s)){var l=i.indexOf(s)>-1;e[t]=l?s:No(e[t]||{},s,i)}else e[t]=s}return i.pop(),e}var Dn=function(){return!window||!window.navigator||!window.navigator.userAgent?!1:/iPad|iPhone|iPod/i.test(window.navigator.userAgent)},fu=["TEMPLATE","STYLE","SCRIPT"];function Fo(e){var r=ke(e);if(!r)return function(){};for(var i=[];e!==r.body&&e.parentElement;){for(var t=0,s=e.parentElement.children;t<s.length;t++){var l=s[t],_=l.getAttribute("aria-hidden");l!==e&&(_==null?void 0:_.toLowerCase())!=="true"&&fu.indexOf(l.tagName)===-1&&i.push([l,_])}e=e.parentElement}return i.forEach(function(n){var a=n[0];a.setAttribute("aria-hidden","true")}),function(){_u(i),i=[]}}function _u(e){e.forEach(function(r){var i=r[0],t=r[1];t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")})}var In;function Tn(e){var r;if(typeof In>"u"||e){var i=_e(),t=(r=i==null?void 0:i.navigator)===null||r===void 0?void 0:r.userAgent;In=!!t&&t.indexOf("Macintosh")!==-1}return!!In}function vu(e){var r=Ir(function(i){var t=Ir(function(s){return function(l){return i(l,s)}});return function(s,l){return e(s,l?t(l):i)}});return r}var pu=Ir(vu);function mu(e,r){return pu(e)(r)}var gu=function(e){var r;return function(i){r||(r=new Set,bo(e,{componentWillUnmount:function(){r.forEach(function(s){return cancelAnimationFrame(s)})}}));var t=requestAnimationFrame(function(){r.delete(t),i()});r.add(t)}},bu=["theme","styles"];function et(e,r,i,t,s){t=t||{scope:"",fields:void 0};var l=t.scope,_=t.fields,n=_===void 0?bu:_,a=I.forwardRef(function(p,u){var v=I.useRef(),g=Jc(n,l),S=g.styles;g.dir;var b=yr(g,["styles","dir"]),o=i?i(p):void 0,h=vo().useStyled,d=v.current&&v.current.__cachedInputs__||[],f=p.styles;if(!v.current||S!==d[1]||f!==d[2]){var m=function(y){return Ks(y,r,S,f)};m.__cachedInputs__=[r,S,f],m.__noStyleOverride__=!S&&!f,v.current=m}return v.current.__shadowConfig__=h(l),I.createElement(e,O({ref:u},b,o,p,{styles:v.current}))});a.displayName="Styled".concat(e.displayName||e.name);var c=s?I.memo(a):a;return a.displayName&&(c.displayName=a.displayName),c}var hr;kt.env.NODE_ENV!=="production"&&(hr={valueOnChange:{},valueDefaultValue:{},controlledToUncontrolled:{},uncontrolledToControlled:{}});function Cu(e){if(kt.env.NODE_ENV!=="production"){var r=e.componentId,i=e.componentName,t=e.defaultValueProp,s=e.props,l=e.oldProps,_=e.onChangeProp,n=e.readOnlyProp,a=e.valueProp,c=l?fo(l,a):void 0,p=fo(s,a);if(p){var u=!!s[_],v=!!(n&&s[n]);!(u||v)&&!hr.valueOnChange[r]&&(hr.valueOnChange[r]=!0,xt("Warning: You provided a '".concat(String(a),"' prop to a ").concat(String(i)," without an '").concat(String(_),"' handler. ")+"This will render a read-only field. If the field should be mutable use '".concat(String(t),"'. ")+"Otherwise, set '".concat(String(_),"'").concat(n?" or '".concat(String(n),"'"):"",".")));var g=s[t];g!=null&&!hr.valueDefaultValue[r]&&(hr.valueDefaultValue[r]=!0,xt("Warning: You provided both '".concat(String(a),"' and '").concat(String(t),"' to a ").concat(i,". ")+"Form fields must be either controlled or uncontrolled (specify either the '".concat(String(a),"' prop, ")+"or the '".concat(String(t),"' prop, but not both). Decide between using a controlled or uncontrolled ")+"".concat(i," and remove one of these props. More info: https://fb.me/react-controlled-components")))}if(l&&p!==c){var S=c?"a controlled":"an uncontrolled",b=c?"uncontrolled":"controlled",o=c?hr.controlledToUncontrolled:hr.uncontrolledToControlled;o[r]||(o[r]=!0,xt("Warning: A component is changing ".concat(S," ").concat(i," to be ").concat(b,". ")+"".concat(i,"s should not switch from controlled to uncontrolled (or vice versa). ")+"Decide between using controlled or uncontrolled for the lifetime of the component. More info: https://fb.me/react-controlled-components"))}}}function Qr(e,r){for(var i=O({},r),t=0,s=Object.keys(e);t<s.length;t++){var l=s[t];i[l]===void 0&&(i[l]=e[l])}return i}var yu=function(e){return function(r){for(var i=0,t=e.refs;i<t.length;i++){var s=t[i];typeof s=="function"?s(r):s&&(s.current=r)}}},Ho=function(e){var r={refs:[]};return function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];return(!r.resolver||!wc(r.refs,i))&&(r.resolver=yu(r)),r.refs=i,r.resolver}},Tr=ln()?I.useLayoutEffect:I.useEffect,Su="icons",dr=so.getValue(Su,{__options:{disableWarnings:!1,warnOnMissingIcons:!0},__remapped:{}}),Rn=nt.getInstance();Rn&&Rn.onReset&&Rn.onReset(function(){for(var e in dr)dr.hasOwnProperty(e)&&dr[e].subset&&(dr[e].subset.className=void 0)});var wu=function(e){return e.toLowerCase()};function Eu(e){var r=void 0,i=dr.__options;if(e=e?wu(e):"",e=dr.__remapped[e]||e,e)if(r=dr[e],r){var t=r.subset;t&&t.fontFace&&(t.isRegistered||(zs(t.fontFace),t.isRegistered=!0),t.className||(t.className=Pt(t.style,{fontFamily:t.fontFace.fontFamily,fontWeight:t.fontFace.fontWeight||"normal",fontStyle:t.fontFace.fontStyle||"normal"})))}else!i.disableWarnings&&i.warnOnMissingIcons&&xt('The icon "'.concat(e,'" was used but not registered. See https://github.com/microsoft/fluentui/wiki/Using-icons for more information.'));return r}function ku(e,r,i,t,s){s===void 0&&(s=!1);var l=O({primaryButtonBorder:"transparent",errorText:t?"#F1707B":"#a4262c",messageText:t?"#F3F2F1":"#323130",messageLink:t?"#6CB8F6":"#005A9E",messageLinkHovered:t?"#82C7FF":"#004578",infoIcon:t?"#C8C6C4":"#605e5c",errorIcon:t?"#F1707B":"#A80000",blockingIcon:t?"#442726":"#FDE7E9",warningIcon:t?"#C8C6C4":"#797775",severeWarningIcon:t?"#FCE100":"#D83B01",successIcon:t?"#92C353":"#107C10",infoBackground:t?"#323130":"#f3f2f1",errorBackground:t?"#442726":"#FDE7E9",blockingBackground:t?"#442726":"#FDE7E9",warningBackground:t?"#433519":"#FFF4CE",severeWarningBackground:t?"#4F2A0F":"#FED9CC",successBackground:t?"#393D1B":"#DFF6DD",warningHighlight:t?"#fff100":"#ffb900",successText:t?"#92c353":"#107C10"},i),_=Wo(e,r,l,t);return xu(_,s)}function Wo(e,r,i,t,s){var l={},_=e||{},n=_.white,a=_.black,c=_.themePrimary,p=_.themeDark,u=_.themeDarker,v=_.themeDarkAlt,g=_.themeLighter,S=_.neutralLight,b=_.neutralLighter,o=_.neutralDark,h=_.neutralQuaternary,d=_.neutralQuaternaryAlt,f=_.neutralPrimary,m=_.neutralSecondary,y=_.neutralSecondaryAlt,w=_.neutralTertiary,E=_.neutralTertiaryAlt,C=_.neutralLighterAlt,k=_.accent;return n&&(l.bodyBackground=n,l.bodyFrameBackground=n,l.accentButtonText=n,l.buttonBackground=n,l.primaryButtonText=n,l.primaryButtonTextHovered=n,l.primaryButtonTextPressed=n,l.inputBackground=n,l.inputForegroundChecked=n,l.listBackground=n,l.menuBackground=n,l.cardStandoutBackground=n),a&&(l.bodyTextChecked=a,l.buttonTextCheckedHovered=a),c&&(l.link=c,l.primaryButtonBackground=c,l.inputBackgroundChecked=c,l.inputIcon=c,l.inputFocusBorderAlt=c,l.menuIcon=c,l.menuHeader=c,l.accentButtonBackground=c),p&&(l.primaryButtonBackgroundPressed=p,l.inputBackgroundCheckedHovered=p,l.inputIconHovered=p),u&&(l.linkHovered=u),v&&(l.primaryButtonBackgroundHovered=v),g&&(l.inputPlaceholderBackgroundChecked=g),S&&(l.bodyBackgroundChecked=S,l.bodyFrameDivider=S,l.bodyDivider=S,l.variantBorder=S,l.buttonBackgroundCheckedHovered=S,l.buttonBackgroundPressed=S,l.listItemBackgroundChecked=S,l.listHeaderBackgroundPressed=S,l.menuItemBackgroundPressed=S,l.menuItemBackgroundChecked=S),b&&(l.bodyBackgroundHovered=b,l.buttonBackgroundHovered=b,l.buttonBackgroundDisabled=b,l.buttonBorderDisabled=b,l.primaryButtonBackgroundDisabled=b,l.disabledBackground=b,l.listItemBackgroundHovered=b,l.listHeaderBackgroundHovered=b,l.menuItemBackgroundHovered=b),h&&(l.primaryButtonTextDisabled=h,l.disabledSubtext=h),d&&(l.listItemBackgroundCheckedHovered=d),w&&(l.disabledBodyText=w,l.variantBorderHovered=(i==null?void 0:i.variantBorderHovered)||w,l.buttonTextDisabled=w,l.inputIconDisabled=w,l.disabledText=w),f&&(l.bodyText=f,l.actionLink=f,l.buttonText=f,l.inputBorderHovered=f,l.inputText=f,l.listText=f,l.menuItemText=f),C&&(l.bodyStandoutBackground=C,l.defaultStateBackground=C),o&&(l.actionLinkHovered=o,l.buttonTextHovered=o,l.buttonTextChecked=o,l.buttonTextPressed=o,l.inputTextHovered=o,l.menuItemTextHovered=o),m&&(l.bodySubtext=m,l.focusBorder=m,l.inputBorder=m,l.smallInputBorder=m,l.inputPlaceholderText=m),y&&(l.buttonBorder=y),E&&(l.disabledBodySubtext=E,l.disabledBorder=E,l.buttonBackgroundChecked=E,l.menuDivider=E),k&&(l.accentButtonBackground=k),r!=null&&r.elevation4&&(l.cardShadow=r.elevation4),!t&&(r!=null&&r.elevation8)?l.cardShadowHovered=r.elevation8:l.variantBorderHovered&&(l.cardShadowHovered="0 0 1px "+l.variantBorderHovered),l=O(O({},l),i),l}function xu(e,r){var i="";return r===!0&&(i=" /* @deprecated */"),e.listTextColor=e.listText+i,e.menuItemBackgroundChecked+=i,e.warningHighlight+=i,e.warningText=e.messageText+i,e.successText+=i,e}function Du(e,r){var i,t,s;r===void 0&&(r={});var l=Oo({},e,r,{semanticColors:Wo(r.palette,r.effects,r.semanticColors,r.isInverted===void 0?e.isInverted:r.isInverted)});if(!((i=r.palette)===null||i===void 0)&&i.themePrimary&&!(!((t=r.palette)===null||t===void 0)&&t.accent)&&(l.palette.accent=r.palette.themePrimary),r.defaultFontStyle)for(var _=0,n=Object.keys(l.fonts);_<n.length;_++){var a=n[_];l.fonts[a]=Oo(l.fonts[a],r.defaultFontStyle,(s=r==null?void 0:r.fonts)===null||s===void 0?void 0:s[a])}return l}var Uo={themeDarker:"#004578",themeDark:"#005a9e",themeDarkAlt:"#106ebe",themePrimary:"#0078d4",themeSecondary:"#2b88d8",themeTertiary:"#71afe5",themeLight:"#c7e0f4",themeLighter:"#deecf9",themeLighterAlt:"#eff6fc",black:"#000000",blackTranslucent40:"rgba(0,0,0,.4)",neutralDark:"#201f1e",neutralPrimary:"#323130",neutralPrimaryAlt:"#3b3a39",neutralSecondary:"#605e5c",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#a19f9d",neutralTertiaryAlt:"#c8c6c4",neutralQuaternary:"#d2d0ce",neutralQuaternaryAlt:"#e1dfdd",neutralLight:"#edebe9",neutralLighter:"#f3f2f1",neutralLighterAlt:"#faf9f8",accent:"#0078d4",white:"#ffffff",whiteTranslucent40:"rgba(255,255,255,.4)",yellowDark:"#d29200",yellow:"#ffb900",yellowLight:"#fff100",orange:"#d83b01",orangeLight:"#ea4300",orangeLighter:"#ff8c00",redDark:"#a4262c",red:"#e81123",magentaDark:"#5c005c",magenta:"#b4009e",magentaLight:"#e3008c",purpleDark:"#32145a",purple:"#5c2d91",purpleLight:"#b4a0ff",blueDark:"#002050",blueMid:"#00188f",blue:"#0078d4",blueLight:"#00bcf2",tealDark:"#004b50",teal:"#008272",tealLight:"#00b294",greenDark:"#004b1c",green:"#107c10",greenLight:"#bad80a"},Rr;(function(e){e.depth0="0 0 0 0 transparent",e.depth4="0 1.6px 3.6px 0 rgba(0, 0, 0, 0.132), 0 0.3px 0.9px 0 rgba(0, 0, 0, 0.108)",e.depth8="0 3.2px 7.2px 0 rgba(0, 0, 0, 0.132), 0 0.6px 1.8px 0 rgba(0, 0, 0, 0.108)",e.depth16="0 6.4px 14.4px 0 rgba(0, 0, 0, 0.132), 0 1.2px 3.6px 0 rgba(0, 0, 0, 0.108)",e.depth64="0 25.6px 57.6px 0 rgba(0, 0, 0, 0.22), 0 4.8px 14.4px 0 rgba(0, 0, 0, 0.18)"})(Rr||(Rr={}));var Ko={elevation4:Rr.depth4,elevation8:Rr.depth8,elevation16:Rr.depth16,elevation64:Rr.depth64,roundedCorner2:"2px",roundedCorner4:"4px",roundedCorner6:"6px"},Iu={s2:"4px",s1:"8px",m:"16px",l1:"20px",l2:"32px"},he="cubic-bezier(.1,.9,.2,1)",tt="cubic-bezier(.1,.25,.75,.9)",Oi="0.167s",zo="0.267s",ae="0.367s",jo="0.467s",Te=st({from:{opacity:0},to:{opacity:1}}),Re=st({from:{opacity:1},to:{opacity:0,visibility:"hidden"}}),Tu=Zt(-10),Ru=Zt(-20),Mu=Zt(-40),Lu=Zt(-400),Bu=Zt(10),Au=Zt(20),Pu=Zt(40),Ou=Zt(400),Nu=Ni(10),Fu=Ni(20),Hu=Ni(-10),Wu=Ni(-20),Uu=Jt(10),Ku=Jt(20),zu=Jt(40),ju=Jt(400),$u=Jt(-10),qu=Jt(-20),Gu=Jt(-40),Vu=Jt(-400),Xu=Fi(-10),Yu=Fi(-20),Zu=Fi(10),Ju=Fi(20),Qu=st({from:{transform:"scale3d(.98,.98,1)"},to:{transform:"scale3d(1,1,1)"}}),eh=st({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(.98,.98,1)"}}),th=st({from:{transform:"scale3d(1.03,1.03,1)"},to:{transform:"scale3d(1,1,1)"}}),rh=st({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(1.03,1.03,1)"}}),ih=st({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(90deg)"}}),nh=st({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(-90deg)"}}),$o={easeFunction2:tt,durationValue3:ae},sh={slideRightIn10:re("".concat(Te,",").concat(Tu),ae,he),slideRightIn20:re("".concat(Te,",").concat(Ru),ae,he),slideRightIn40:re("".concat(Te,",").concat(Mu),ae,he),slideRightIn400:re("".concat(Te,",").concat(Lu),ae,he),slideLeftIn10:re("".concat(Te,",").concat(Bu),ae,he),slideLeftIn20:re("".concat(Te,",").concat(Au),ae,he),slideLeftIn40:re("".concat(Te,",").concat(Pu),ae,he),slideLeftIn400:re("".concat(Te,",").concat(Ou),ae,he),slideUpIn10:re("".concat(Te,",").concat(Nu),ae,he),slideUpIn20:re("".concat(Te,",").concat(Fu),ae,he),slideDownIn10:re("".concat(Te,",").concat(Hu),ae,he),slideDownIn20:re("".concat(Te,",").concat(Wu),ae,he),slideRightOut10:re("".concat(Re,",").concat(Uu),ae,he),slideRightOut20:re("".concat(Re,",").concat(Ku),ae,he),slideRightOut40:re("".concat(Re,",").concat(zu),ae,he),slideRightOut400:re("".concat(Re,",").concat(ju),ae,he),slideLeftOut10:re("".concat(Re,",").concat($u),ae,he),slideLeftOut20:re("".concat(Re,",").concat(qu),ae,he),slideLeftOut40:re("".concat(Re,",").concat(Gu),ae,he),slideLeftOut400:re("".concat(Re,",").concat(Vu),ae,he),slideUpOut10:re("".concat(Re,",").concat(Xu),ae,he),slideUpOut20:re("".concat(Re,",").concat(Yu),ae,he),slideDownOut10:re("".concat(Re,",").concat(Zu),ae,he),slideDownOut20:re("".concat(Re,",").concat(Ju),ae,he),scaleUpIn100:re("".concat(Te,",").concat(Qu),ae,he),scaleDownIn100:re("".concat(Te,",").concat(th),ae,he),scaleUpOut103:re("".concat(Re,",").concat(rh),Oi,tt),scaleDownOut98:re("".concat(Re,",").concat(eh),Oi,tt),fadeIn100:re(Te,Oi,tt),fadeIn200:re(Te,zo,tt),fadeIn400:re(Te,ae,tt),fadeIn500:re(Te,jo,tt),fadeOut100:re(Re,Oi,tt),fadeOut200:re(Re,zo,tt),fadeOut400:re(Re,ae,tt),fadeOut500:re(Re,jo,tt),rotate90deg:re(ih,"0.1s",tt),rotateN90deg:re(nh,"0.1s",tt)};function re(e,r,i){return{animationName:e,animationDuration:r,animationTimingFunction:i,animationFillMode:"both"}}function Zt(e){return st({from:{transform:"translate3d(".concat(e,"px,0,0)"),pointerEvents:"none"},to:{transform:"translate3d(0,0,0)",pointerEvents:"auto"}})}function Ni(e){return st({from:{transform:"translate3d(0,".concat(e,"px,0)"),pointerEvents:"none"},to:{transform:"translate3d(0,0,0)",pointerEvents:"auto"}})}function Jt(e){return st({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(".concat(e,"px,0,0)")}})}function Fi(e){return st({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(0,".concat(e,"px,0)")}})}var pe;(function(e){e.Arabic="Segoe UI Web (Arabic)",e.Cyrillic="Segoe UI Web (Cyrillic)",e.EastEuropean="Segoe UI Web (East European)",e.Greek="Segoe UI Web (Greek)",e.Hebrew="Segoe UI Web (Hebrew)",e.Thai="Leelawadee UI Web",e.Vietnamese="Segoe UI Web (Vietnamese)",e.WestEuropean="Segoe UI Web (West European)",e.Selawik="Selawik Web",e.Armenian="Segoe UI Web (Armenian)",e.Georgian="Segoe UI Web (Georgian)"})(pe||(pe={}));var le;(function(e){e.Arabic="'".concat(pe.Arabic,"'"),e.ChineseSimplified="'Microsoft Yahei UI', Verdana, Simsun",e.ChineseTraditional="'Microsoft Jhenghei UI', Pmingliu",e.Cyrillic="'".concat(pe.Cyrillic,"'"),e.EastEuropean="'".concat(pe.EastEuropean,"'"),e.Greek="'".concat(pe.Greek,"'"),e.Hebrew="'".concat(pe.Hebrew,"'"),e.Hindi="'Nirmala UI'",e.Japanese="'Yu Gothic UI', 'Meiryo UI', Meiryo, 'MS Pgothic', Osaka",e.Korean="'Malgun Gothic', Gulim",e.Selawik="'".concat(pe.Selawik,"'"),e.Thai="'Leelawadee UI Web', 'Kmer UI'",e.Vietnamese="'".concat(pe.Vietnamese,"'"),e.WestEuropean="'".concat(pe.WestEuropean,"'"),e.Armenian="'".concat(pe.Armenian,"'"),e.Georgian="'".concat(pe.Georgian,"'")})(le||(le={}));var Ke;(function(e){e.size10="10px",e.size12="12px",e.size14="14px",e.size16="16px",e.size18="18px",e.size20="20px",e.size24="24px",e.size28="28px",e.size32="32px",e.size42="42px",e.size68="68px",e.mini="10px",e.xSmall="10px",e.small="12px",e.smallPlus="12px",e.medium="14px",e.mediumPlus="16px",e.icon="16px",e.large="18px",e.xLarge="20px",e.xLargePlus="24px",e.xxLarge="28px",e.xxLargePlus="32px",e.superLarge="42px",e.mega="68px"})(Ke||(Ke={}));var ve;(function(e){e.light=100,e.semilight=300,e.regular=400,e.semibold=600,e.bold=700})(ve||(ve={}));var Ut;(function(e){e.xSmall="10px",e.small="12px",e.medium="16px",e.large="20px"})(Ut||(Ut={}));var oh="'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', sans-serif",ah="'Segoe UI', '".concat(pe.WestEuropean,"'"),Mn={ar:le.Arabic,bg:le.Cyrillic,cs:le.EastEuropean,el:le.Greek,et:le.EastEuropean,he:le.Hebrew,hi:le.Hindi,hr:le.EastEuropean,hu:le.EastEuropean,ja:le.Japanese,kk:le.EastEuropean,ko:le.Korean,lt:le.EastEuropean,lv:le.EastEuropean,pl:le.EastEuropean,ru:le.Cyrillic,sk:le.EastEuropean,"sr-latn":le.EastEuropean,th:le.Thai,tr:le.EastEuropean,uk:le.Cyrillic,vi:le.Vietnamese,"zh-hans":le.ChineseSimplified,"zh-hant":le.ChineseTraditional,hy:le.Armenian,ka:le.Georgian};function lh(e){return"".concat(e,", ").concat(oh)}function ch(e){for(var r in Mn)if(Mn.hasOwnProperty(r)&&e&&r.indexOf(e)===0)return Mn[r];return ah}function rt(e,r,i){return{fontFamily:i,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontSize:e,fontWeight:r}}function uh(e){var r=ch(e),i=lh(r),t={tiny:rt(Ke.mini,ve.regular,i),xSmall:rt(Ke.xSmall,ve.regular,i),small:rt(Ke.small,ve.regular,i),smallPlus:rt(Ke.smallPlus,ve.regular,i),medium:rt(Ke.medium,ve.regular,i),mediumPlus:rt(Ke.mediumPlus,ve.regular,i),large:rt(Ke.large,ve.regular,i),xLarge:rt(Ke.xLarge,ve.semibold,i),xLargePlus:rt(Ke.xLargePlus,ve.semibold,i),xxLarge:rt(Ke.xxLarge,ve.semibold,i),xxLargePlus:rt(Ke.xxLargePlus,ve.semibold,i),superLarge:rt(Ke.superLarge,ve.semibold,i),mega:rt(Ke.mega,ve.semibold,i)};return t}var hh="https://res-1.cdn.office.net/files/fabric-cdn-prod_20230815.002/assets",dh=uh(du());function fr(e,r,i,t){e="'".concat(e,"'");var s=t!==void 0?"local('".concat(t,"'),"):"";zs({fontFamily:e,src:s+"url('".concat(r,".woff2') format('woff2'),")+"url('".concat(r,".woff') format('woff')"),fontWeight:i,fontStyle:"normal",fontDisplay:"swap"})}function _t(e,r,i,t,s){t===void 0&&(t="segoeui");var l="".concat(e,"/").concat(i,"/").concat(t);fr(r,l+"-light",ve.light,s&&s+" Light"),fr(r,l+"-semilight",ve.semilight,s&&s+" SemiLight"),fr(r,l+"-regular",ve.regular,s),fr(r,l+"-semibold",ve.semibold,s&&s+" SemiBold"),fr(r,l+"-bold",ve.bold,s&&s+" Bold")}function fh(e){if(e){var r="".concat(e,"/fonts");_t(r,pe.Thai,"leelawadeeui-thai","leelawadeeui"),_t(r,pe.Arabic,"segoeui-arabic"),_t(r,pe.Cyrillic,"segoeui-cyrillic"),_t(r,pe.EastEuropean,"segoeui-easteuropean"),_t(r,pe.Greek,"segoeui-greek"),_t(r,pe.Hebrew,"segoeui-hebrew"),_t(r,pe.Vietnamese,"segoeui-vietnamese"),_t(r,pe.WestEuropean,"segoeui-westeuropean","segoeui","Segoe UI"),_t(r,le.Selawik,"selawik","selawik"),_t(r,pe.Armenian,"segoeui-armenian"),_t(r,pe.Georgian,"segoeui-georgian"),fr("Leelawadee UI Web","".concat(r,"/leelawadeeui-thai/leelawadeeui-semilight"),ve.light),fr("Leelawadee UI Web","".concat(r,"/leelawadeeui-thai/leelawadeeui-bold"),ve.semibold)}}function _h(){var e,r,i=(e=_e())===null||e===void 0?void 0:e.FabricConfig;return(r=i==null?void 0:i.fontBaseUrl)!==null&&r!==void 0?r:hh}fh(_h());function ei(e,r){e===void 0&&(e={}),r===void 0&&(r=!1);var i=!!e.isInverted,t={palette:Uo,effects:Ko,fonts:dh,spacing:Iu,isInverted:i,disableGlobalClassNames:!1,semanticColors:ku(Uo,Ko,void 0,i,r),rtl:void 0};return Du(t,e)}var J="@media screen and (-ms-high-contrast: active), screen and (forced-colors: active)",vh="@media screen and (-ms-high-contrast: black-on-white), screen and (forced-colors: active) and (prefers-color-scheme: light)",ti=480,qo=640,ph=1024,Ln=1366,Go=qo-1,mh=768;function Bn(e,r){var i=" and (min-width: ".concat(e,"px)"),t=typeof r=="number"?" and (max-width: ".concat(r,"px)"):"";return"@media only screen".concat(i).concat(t)}function Be(){return{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}}var ri;(function(e){e.Nav=1,e.ScrollablePane=1,e.FocusStyle=1,e.Coachmark=1e3,e.Layer=1e6,e.KeytipLayer=1000001})(ri||(ri={}));function Mr(e,r,i,t,s,l,_,n){return typeof r=="number"||!r?Vo(e,{inset:r,position:i,highContrastStyle:t,borderColor:s,outlineColor:l,isFocusedOnly:_,borderRadius:n}):Vo(e,r)}function Vo(e,r){var i,t;r===void 0&&(r={});var s=r.borderRadius,l=r.inset,_=l===void 0?0:l,n=r.width,a=n===void 0?1:n,c=r.position,p=c===void 0?"relative":c,u=r.highContrastStyle,v=r.borderColor,g=v===void 0?e.palette.white:v,S=r.outlineColor,b=S===void 0?e.palette.neutralSecondary:S,o=r.isFocusedOnly,h=o===void 0?!0:o,d=r.pointerEvents;return{outline:"transparent",position:p,selectors:(i={"::-moz-focus-inner":{border:"0"}},i[".".concat(se," &").concat(h?":focus":"",":after, :host(.").concat(se,") &").concat(h?":focus":"",":after")]={content:'""',position:"absolute",pointerEvents:d,left:_+1,top:_+1,bottom:_+1,right:_+1,border:"".concat(a,"px solid ").concat(g),outline:"".concat(a,"px solid ").concat(b),zIndex:ri.FocusStyle,borderRadius:s,selectors:(t={},t[J]=u,t)},i)}}function gh(){return{selectors:{"&::-moz-focus-inner":{border:0},"&":{outline:"transparent"}}}}var Xo={position:"absolute",width:1,height:1,margin:-1,padding:0,border:0,overflow:"hidden",whiteSpace:"nowrap"},bh=ye(function(e,r){var i=nt.getInstance();return r?Object.keys(e).reduce(function(t,s){return t[s]=i.getClassName(e[s]),t},{}):e});function vt(e,r,i){return bh(e,r.disableGlobalClassNames)}var Lr=function(){return Lr=Object.assign||function(e){for(var r,i=1,t=arguments.length;i<t;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Lr.apply(this,arguments)},ii=typeof window>"u"?globalThis:window,Yo=ii&&ii.CSPSettings&&ii.CSPSettings.nonce,pt=Ch();function Ch(){var e=ii.__themeState__||{theme:void 0,lastStyleElement:void 0,registeredStyles:[]};return e.runState||(e=Lr(Lr({},e),{perf:{count:0,duration:0},runState:{flushTimer:0,mode:0,buffer:[]}})),e.registeredThemableStyles||(e=Lr(Lr({},e),{registeredThemableStyles:[]})),ii.__themeState__=e,e}function yh(e,r){pt.loadStyles?pt.loadStyles(Zo(e).styleString,e):xh(e)}function Sh(e){pt.theme=e,kh()}function wh(e){Eh(pt.registeredThemableStyles),pt.registeredThemableStyles=[]}function Eh(e){e.forEach(function(r){var i=r&&r.styleElement;i&&i.parentElement&&i.parentElement.removeChild(i)})}function kh(){if(pt.theme){for(var e=[],r=0,i=pt.registeredThemableStyles;r<i.length;r++){var t=i[r];e.push(t.themableStyle)}e.length>0&&(wh(),yh([].concat.apply([],e)))}}function Zo(e){var r=pt.theme,i=!1,t=(e||[]).map(function(s){var l=s.theme;if(l){i=!0;var _=r?r[l]:void 0,n=s.defaultValue||"inherit";return r&&!_&&console&&!(l in r)&&typeof DEBUG<"u"&&DEBUG&&console.warn('Theming value not provided for "'.concat(l,'". Falling back to "').concat(n,'".')),_||n}else return s.rawString});return{styleString:t.join(""),themable:i}}function xh(e){if(!(typeof document>"u")){var r=document.getElementsByTagName("head")[0],i=document.createElement("style"),t=Zo(e),s=t.styleString,l=t.themable;i.setAttribute("data-load-themed-styles","true"),Yo&&i.setAttribute("nonce",Yo),i.appendChild(document.createTextNode(s)),pt.perf.count++,r.appendChild(i);var _=document.createEvent("HTMLEvents");_.initEvent("styleinsert",!0,!1),_.args={newStyle:i},document.dispatchEvent(_);var n={styleElement:i,themableStyle:e};l?pt.registeredThemableStyles.push(n):pt.registeredStyles.push(n)}}var ct=ei({}),Dh=[],An="theme";function Jo(){var e,r,i,t=_e();!((r=t==null?void 0:t.FabricConfig)===null||r===void 0)&&r.legacyTheme?Th(t.FabricConfig.legacyTheme):dt.getSettings([An]).theme||(!((i=t==null?void 0:t.FabricConfig)===null||i===void 0)&&i.theme&&(ct=ei(t.FabricConfig.theme)),dt.applySettings((e={},e[An]=ct,e)))}Jo();function Ih(e){return e===void 0&&(e=!1),e===!0&&(ct=ei({},e)),ct}function Th(e,r){var i;return r===void 0&&(r=!1),ct=ei(e,r),Sh(O(O(O(O({},ct.palette),ct.semanticColors),ct.effects),Rh(ct))),dt.applySettings((i={},i[An]=ct,i)),Dh.forEach(function(t){try{t(ct)}catch{}}),ct}function Rh(e){for(var r={},i=0,t=Object.keys(e.fonts);i<t.length;i++)for(var s=t[i],l=e.fonts[s],_=0,n=Object.keys(l);_<n.length;_++){var a=n[_],c=s+a.charAt(0).toUpperCase()+a.slice(1),p=l[a];a==="fontSize"&&typeof p=="number"&&(p=p+"px"),r[c]=p}return r}var Qo={boxShadow:"none",margin:0,padding:0,boxSizing:"border-box"},mt=$l(sh);Es("@fluentui/style-utilities","8.12.2"),Jo();var Se={topLeftEdge:0,topCenter:1,topRightEdge:2,topAutoEdge:3,bottomLeftEdge:4,bottomCenter:5,bottomRightEdge:6,bottomAutoEdge:7,leftTopEdge:8,leftCenter:9,leftBottomEdge:10,rightTopEdge:11,rightCenter:12,rightBottomEdge:13},Z;(function(e){e[e.top=1]="top",e[e.bottom=-1]="bottom",e[e.left=2]="left",e[e.right=-2]="right"})(Z||(Z={}));var ea;(function(e){e[e.top=0]="top",e[e.bottom=1]="bottom",e[e.start=2]="start",e[e.end=3]="end"})(ea||(ea={}));var Oe;function Ve(e,r,i){return{targetEdge:e,alignmentEdge:r,isAuto:i}}var ta=(Oe={},Oe[Se.topLeftEdge]=Ve(Z.top,Z.left),Oe[Se.topCenter]=Ve(Z.top),Oe[Se.topRightEdge]=Ve(Z.top,Z.right),Oe[Se.topAutoEdge]=Ve(Z.top,void 0,!0),Oe[Se.bottomLeftEdge]=Ve(Z.bottom,Z.left),Oe[Se.bottomCenter]=Ve(Z.bottom),Oe[Se.bottomRightEdge]=Ve(Z.bottom,Z.right),Oe[Se.bottomAutoEdge]=Ve(Z.bottom,void 0,!0),Oe[Se.leftTopEdge]=Ve(Z.left,Z.top),Oe[Se.leftCenter]=Ve(Z.left),Oe[Se.leftBottomEdge]=Ve(Z.left,Z.bottom),Oe[Se.rightTopEdge]=Ve(Z.right,Z.top),Oe[Se.rightCenter]=Ve(Z.right),Oe[Se.rightBottomEdge]=Ve(Z.right,Z.bottom),Oe);function Pn(e,r){return!(e.top<r.top||e.bottom>r.bottom||e.left<r.left||e.right>r.right)}function Hi(e,r){var i=[];return e.top<r.top&&i.push(Z.top),e.bottom>r.bottom&&i.push(Z.bottom),e.left<r.left&&i.push(Z.left),e.right>r.right&&i.push(Z.right),i}function Ne(e,r){return e[Z[r]]}function ra(e,r,i){return e[Z[r]]=i,e}function ni(e,r){var i=Ar(r);return(Ne(e,i.positiveEdge)+Ne(e,i.negativeEdge))/2}function Wi(e,r){return e>0?r:r*-1}function On(e,r){return Wi(e,Ne(r,e))}function Dt(e,r,i){var t=Ne(e,i)-Ne(r,i);return Wi(i,t)}function Br(e,r,i,t){t===void 0&&(t=!0);var s=Ne(e,r)-i,l=ra(e,r,i);return t&&(l=ra(e,r*-1,Ne(e,r*-1)-s)),l}function si(e,r,i,t){return t===void 0&&(t=0),Br(e,i,Ne(r,i)+Wi(i,t))}function Mh(e,r,i,t){t===void 0&&(t=0);var s=i*-1,l=Wi(s,t);return Br(e,i*-1,Ne(r,i)+l)}function Ui(e,r,i){var t=On(i,e);return t>On(i,r)}function Lh(e,r){for(var i=Hi(e,r),t=0,s=0,l=i;s<l.length;s++){var _=l[s];t+=Math.pow(Dt(e,r,_),2)}return t}function Bh(e,r,i,t){return t===void 0&&(t=200),i!==Z.bottom&&i!==Z.top?!1:Dt(e,r,i)>=t}function Ah(e,r,i,t,s,l,_){s===void 0&&(s=!1),_===void 0&&(_=0);var n=[Z.left,Z.right,Z.bottom,Z.top];Ue()&&(n[0]*=-1,n[1]*=-1);for(var a=e,c=t.targetEdge,p=t.alignmentEdge,u,v=c,g=p,S=0;S<4;S++){if(Ui(a,i,c))return{elementRectangle:a,targetEdge:c,alignmentEdge:p};if(s&&Bh(r,i,c,l)){switch(c){case Z.bottom:a.bottom=i.bottom;break;case Z.top:a.top=i.top;break}return{elementRectangle:a,targetEdge:c,alignmentEdge:p,forcedInBounds:!0}}else{var b=Lh(a,i);(!u||b<u)&&(u=b,v=c,g=p),n.splice(n.indexOf(c),1),n.length>0&&(n.indexOf(c*-1)>-1?c=c*-1:(p=c,c=n.slice(-1)[0]),a=Ki(e,r,{targetEdge:c,alignmentEdge:p},_))}}return a=Ki(e,r,{targetEdge:v,alignmentEdge:g},_),{elementRectangle:a,targetEdge:v,alignmentEdge:g}}function Ph(e,r,i,t){var s=e.alignmentEdge,l=e.targetEdge,_=e.elementRectangle,n=s*-1,a=Ki(_,r,{targetEdge:l,alignmentEdge:n},i,t);return{elementRectangle:a,targetEdge:l,alignmentEdge:n}}function Oh(e,r,i,t,s,l,_,n,a){s===void 0&&(s=!1),_===void 0&&(_=0);var c=t.alignmentEdge,p=t.alignTargetEdge,u={elementRectangle:e,targetEdge:t.targetEdge,alignmentEdge:c};!n&&!a&&(u=Ah(e,r,i,t,s,l,_));var v=Hi(u.elementRectangle,i),g=n?-u.targetEdge:void 0;if(v.length>0)if(p)if(u.alignmentEdge&&v.indexOf(u.alignmentEdge*-1)>-1){var S=Ph(u,r,_,a);if(Pn(S.elementRectangle,i))return S;u=Nn(Hi(S.elementRectangle,i),u,i,g)}else u=Nn(v,u,i,g);else u=Nn(v,u,i,g);return u}function Nn(e,r,i,t){for(var s=0,l=e;s<l.length;s++){var _=l[s],n=void 0;if(t&&t===_*-1)n=Br(r.elementRectangle,_,Ne(i,_),!1),r.forcedInBounds=!0;else{n=si(r.elementRectangle,i,_);var a=Ui(n,i,_*-1);a||(n=Br(n,_*-1,Ne(i,_*-1),!1),r.forcedInBounds=!0)}r.elementRectangle=n}return r}function ia(e,r,i){var t=Ar(r).positiveEdge,s=ni(e,r),l=s-Ne(e,t);return Br(e,t,i-l)}function Ki(e,r,i,t,s){t===void 0&&(t=0);var l=new ot(e.left,e.right,e.top,e.bottom),_=i.alignmentEdge,n=i.targetEdge,a=s?n:n*-1;if(l=s?si(l,r,n,t):Mh(l,r,n,t),_)l=si(l,r,_);else{var c=ni(r,n);l=ia(l,a,c)}return l}function Ar(e){return e===Z.top||e===Z.bottom?{positiveEdge:Z.left,negativeEdge:Z.right}:{positiveEdge:Z.top,negativeEdge:Z.bottom}}function na(e,r,i){return i&&Math.abs(Dt(e,i,r))>Math.abs(Dt(e,i,r*-1))?r*-1:r}function Nh(e,r,i){return i!==void 0&&Ne(e,r)===Ne(i,r)}function Fh(e,r,i,t,s,l,_,n){var a={},c=zi(r),p=l?i:i*-1,u=s||Ar(i).positiveEdge;return(!_||Nh(e,Qh(u),t))&&(u=na(e,u,t)),a[Z[p]]=Dt(e,c,p),a[Z[u]]=Dt(e,c,u),n&&(a[Z[p*-1]]=Dt(e,c,p*-1),a[Z[u*-1]]=Dt(e,c,u*-1)),a}function Hh(e){return Math.sqrt(e*e*2)}function Wh(e,r,i){if(e===void 0&&(e=Se.bottomAutoEdge),i)return{alignmentEdge:i.alignmentEdge,isAuto:i.isAuto,targetEdge:i.targetEdge};var t=O({},ta[e]);return Ue()?(t.alignmentEdge&&t.alignmentEdge%2===0&&(t.alignmentEdge=t.alignmentEdge*-1),r!==void 0?ta[r]:t):t}function Uh(e,r,i,t,s){return e.isAuto&&(e.alignmentEdge=sa(e.targetEdge,r,i)),e.alignTargetEdge=s,e}function sa(e,r,i){var t=ni(r,e),s=ni(i,e),l=Ar(e),_=l.positiveEdge,n=l.negativeEdge;return t<=s?_:n}function Kh(e,r,i,t,s,l,_,n,a){l===void 0&&(l=!1);var c=Ki(e,r,t,s,a);return Pn(c,i)?{elementRectangle:c,targetEdge:t.targetEdge,alignmentEdge:t.alignmentEdge}:Oh(c,r,i,t,l,_,s,n,a)}function zh(e,r,i){var t=e.targetEdge*-1,s=new ot(0,e.elementRectangle.width,0,e.elementRectangle.height),l={},_=na(e.elementRectangle,e.alignmentEdge?e.alignmentEdge:Ar(t).positiveEdge,i),n=Dt(e.elementRectangle,e.targetRectangle,t),a=n>Math.abs(Ne(r,t));return l[Z[t]]=Ne(r,t),l[Z[_]]=Dt(r,s,_),{elementPosition:O({},l),closestEdge:sa(e.targetEdge,r,s),targetEdge:t,hideBeak:!a}}function jh(e,r){var i=r.targetRectangle,t=Ar(r.targetEdge),s=t.positiveEdge,l=t.negativeEdge,_=ni(i,r.targetEdge),n=new ot(e/2,r.elementRectangle.width-e/2,e/2,r.elementRectangle.height-e/2),a=new ot(0,e,0,e);return a=Br(a,r.targetEdge*-1,-e/2),a=ia(a,r.targetEdge*-1,_-On(s,r.elementRectangle)),Ui(a,n,s)?Ui(a,n,l)||(a=si(a,n,l)):a=si(a,n,s),a}function zi(e){var r=e.getBoundingClientRect();return new ot(r.left,r.right,r.top,r.bottom)}function $h(e){return new ot(e.left,e.right,e.top,e.bottom)}function qh(e,r){var i;if(r){if(r.preventDefault){var t=r;i=new ot(t.clientX,t.clientX,t.clientY,t.clientY)}else if(r.getBoundingClientRect)i=zi(r);else{var s=r,l=s.left||s.x,_=s.top||s.y,n=s.right||l,a=s.bottom||_;i=new ot(l,n,_,a)}if(!Pn(i,e))for(var c=Hi(i,e),p=0,u=c;p<u.length;p++){var v=u[p];i[Z[v]]=e[Z[v]]}}else i=new ot(0,0,0,0);return i}function Gh(e,r,i,t,s,l){s===void 0&&(s=!1);var _=e.gapSpace?e.gapSpace:0,n=qh(i,e.target),a=Uh(Wh(e.directionalHint,e.directionalHintForRTL,t),n,i,e.coverTarget,e.alignTargetEdge),c=Kh(zi(r),n,i,a,_,s,l,e.directionalHintFixed,e.coverTarget);return O(O({},c),{targetRectangle:n})}function Vh(e,r,i,t,s){var l=Fh(e.elementRectangle,r,e.targetEdge,i,e.alignmentEdge,t,s,e.forcedInBounds);return{elementPosition:l,targetEdge:e.targetEdge,alignmentEdge:e.alignmentEdge}}function oa(e,r,i){return r===void 0&&(r=0),i===void 0&&(i=0),Hh(e?r:0)/2+i}function aa(e,r,i,t,s,l,_,n){s===void 0&&(s=!1);var a=n??_e(),c=e.isBeakVisible&&e.beakWidth||0,p=oa(e.isBeakVisible,e.beakWidth,e.gapSpace),u=e;u.gapSpace=p;var v=e.bounds?$h(e.bounds):new ot(0,a.innerWidth-dc(),0,a.innerHeight),g=Gh(u,i,v,t,s,l),S=jh(c,g),b=zh(g,S,v);return O(O({},Vh(g,r,v,e.coverTarget,_)),{beakPosition:b})}function Xh(e,r,i,t,s){var l=s??_e();return aa(e,r,i,t,!1,void 0,!0,l)}function Yh(e){var r,i,t,s,l=e,_=e,n=e,a,c=(r=n.left)!==null&&r!==void 0?r:n.x,p=(i=n.top)!==null&&i!==void 0?i:n.y,u=(t=n.right)!==null&&t!==void 0?t:c,v=(s=n.bottom)!==null&&s!==void 0?s:p;return l.stopPropagation?a=new ot(l.clientX,l.clientX,l.clientY,l.clientY):c!==void 0&&p!==void 0?a=new ot(c,u,p,v):a=zi(_),a}function Zh(e,r,i,t,s,l,_){return aa(e,r,i,t,s,l,void 0,_)}function Jh(e,r,i,t,s){return Xh(e,r,i,t,s)}function Qh(e){return e*-1}function ed(e,r){var i=void 0;if(r.getWindowSegments&&(i=r.getWindowSegments()),i===void 0||i.length<=1)return{top:0,left:0,right:r.innerWidth,bottom:r.innerHeight,width:r.innerWidth,height:r.innerHeight};var t=0,s=0;if(e!==null&&e.getBoundingClientRect){var l=e.getBoundingClientRect();t=(l.left+l.right)/2,s=(l.top+l.bottom)/2}else e!==null&&(t=e.left||e.x,s=e.top||e.y);for(var _={top:0,left:0,right:0,bottom:0,width:0,height:0},n=0,a=i;n<a.length;n++){var c=a[n];t&&c.left<=t&&c.right>=t&&s&&c.top<=s&&c.bottom>=s&&(_={top:c.top,left:c.left,right:c.right,bottom:c.bottom,width:c.width,height:c.height})}return _}function td(e,r){return ed(e,r)}function rd(e,r,i){return oa(e,r,i)}function id(e){return Yh(e)}function Pr(){var e=I.useRef();return e.current||(e.current=new Vr),I.useEffect(function(){return function(){var r;(r=e.current)===null||r===void 0||r.dispose(),e.current=void 0}},[]),e.current}function _r(e){var r=I.useRef();return r.current===void 0&&(r.current={value:typeof e=="function"?e():e}),r.current.value}function la(e,r,i){var t=I.useState(r),s=t[0],l=t[1],_=_r(e!==void 0),n=_?e:s,a=I.useRef(n),c=I.useRef(i);I.useEffect(function(){a.current=n,c.current=i});var p=_r(function(){return function(u,v){var g=typeof u=="function"?u(a.current):u;c.current&&c.current(v,g),_||l(g)}});return[n,p]}function Fn(e){var r=I.useRef(function(){throw new Error("Cannot call an event handler while rendering")});return Tr(function(){r.current=e},[e]),_r(function(){return function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var s=r.current;return s.apply(void 0,i)}})}function ji(e,r){var i=I.useRef(r);return i.current||(i.current=lt(e)),i.current}function It(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=I.useCallback(function(t){i.current=t;for(var s=0,l=e;s<l.length;s++){var _=l[s];typeof _=="function"?_(t):_&&(_.current=t)}},ge([],e,!0));return i}function oi(e,r,i,t){var s=I.useRef(i);s.current=i,I.useEffect(function(){var l=e&&"current"in e?e.current:e;if(!(!l||!l.addEventListener)){var _=Xt(l,r,function(n){return s.current(n)},t);return _}},[e,r,t])}function Or(e){var r=I.useRef();return I.useEffect(function(){r.current=e}),r.current}function ca(e,r){var i,t,s,l=I.useRef(),_=I.useRef(null),n=Li();if(!e||e!==l.current||typeof e=="string"){var a=r==null?void 0:r.current;if(e)if(typeof e=="string")if(!((i=a==null?void 0:a.getRootNode())===null||i===void 0)&&i.host)_.current=(s=(t=a==null?void 0:a.getRootNode())===null||t===void 0?void 0:t.querySelector(e))!==null&&s!==void 0?s:null;else{var c=ke(a);_.current=c?c.querySelector(e):null}else"stopPropagation"in e||"getBoundingClientRect"in e?_.current=e:"current"in e?_.current=e.current:_.current=e;l.current=e}return[_,n]}var nd=function(e){var r=I.useRef(e);r.current=e,I.useEffect(function(){return function(){var i;(i=r.current)===null||i===void 0||i.call(r)}},[])},sd=0;function Hn(e){if(kt.env.NODE_ENV!=="production"){var r=e.name,i=e.props,t=e.other,s=t===void 0?[]:t,l=e.conditionallyRequired,_=e.deprecations,n=e.mutuallyExclusive,a=e.controlledUsage,c=I.useRef(!1),p=_r(function(){return"useWarnings_".concat(sd++)}),u=Or(i);if(!c.current){c.current=!0;for(var v=0,g=s;v<g.length;v++){var S=g[v];xt(S)}if(l)for(var b=0,o=l;b<o.length;b++){var h=o[b];mn(r,i,h.requiredProps,h.conditionalPropName,h.condition)}_&&xr(r,i,_),n&&gn(r,i,n)}a&&Cu(O(O({},a),{componentId:p,props:i,componentName:r,oldProps:u}))}}function od(e,r){var i=Pr(),t=I.useState(!1),s=t[0],l=t[1];return I.useEffect(function(){return i.requestAnimationFrame(function(){var _;if(!(e.style&&e.style.overflowY)){var n=!1;if(r&&r.current&&(!((_=r.current)===null||_===void 0)&&_.firstElementChild)){var a=r.current.clientHeight,c=r.current.firstElementChild.clientHeight;a>0&&c>a&&(n=c-a>1)}s!==n&&l(n)}}),function(){return i.dispose()}}),s}function ad(e){var r=e.originalElement,i=e.containsFocus;r&&i&&r!==_e()&&setTimeout(function(){var t;(t=r.focus)===null||t===void 0||t.call(r)},0)}function ld(e,r){var i=e.onRestoreFocus,t=i===void 0?ad:i,s=I.useRef(),l=I.useRef(!1);I.useEffect(function(){return s.current=ke().activeElement,nc(r.current)&&(l.current=!0),function(){var _;t==null||t({originalElement:s.current,containsFocus:l.current,documentContainsFocus:((_=ke())===null||_===void 0?void 0:_.hasFocus())||!1}),s.current=void 0}},[]),oi(r,"focus",I.useCallback(function(){l.current=!0},[]),!0),oi(r,"blur",I.useCallback(function(_){r.current&&_.relatedTarget&&!r.current.contains(_.relatedTarget)&&(l.current=!1)},[]),!0)}function cd(e,r){var i=String(e["aria-modal"]).toLowerCase()==="true"&&e.enableAriaHiddenSiblings;I.useEffect(function(){if(i&&r.current){var t=Fo(r.current);return t}},[r,i])}var Wn=I.forwardRef(function(e,r){var i=Qr({shouldRestoreFocus:!0,enableAriaHiddenSiblings:!0},e),t=I.useRef(),s=It(t,r);cd(i,t),ld(i,t);var l=i.role,_=i.className,n=i.ariaLabel,a=i.ariaLabelledBy,c=i.ariaDescribedBy,p=i.style,u=i.children,v=i.onDismiss,g=od(i,t),S=I.useCallback(function(o){switch(o.which){case Y.escape:v&&(v(o),o.preventDefault(),o.stopPropagation());break}},[v]),b=Li();return oi(b,"keydown",S),I.createElement("div",O({ref:s},De(i,Wt),{className:_,role:l,"aria-label":n,"aria-labelledby":a,"aria-describedby":c,onKeyDown:S,style:O({overflowY:g?"scroll":void 0,outline:"none"},p)}),u)});Wn.displayName="Popup";var ua=function(){var e;return(e=Li())!==null&&e!==void 0?e:typeof window<"u"?window:void 0},$i=function(e){var r,i;return(i=(r=e==null?void 0:e.window)===null||r===void 0?void 0:r.document)!==null&&i!==void 0?i:typeof document<"u"?document:void 0},ha=function(e){var r;return(r=e==null?void 0:e.window)!==null&&r!==void 0?r:typeof window<"u"?window:void 0},Nr,ud="CalloutContentBase",hd=(Nr={},Nr[Z.top]=mt.slideUpIn10,Nr[Z.bottom]=mt.slideDownIn10,Nr[Z.left]=mt.slideLeftIn10,Nr[Z.right]=mt.slideRightIn10,Nr),da={top:0,left:0},dd={opacity:0,filter:"opacity(0)",pointerEvents:"none"},fd=["role","aria-roledescription"],fa={preventDismissOnLostFocus:!1,preventDismissOnScroll:!1,preventDismissOnResize:!1,isBeakVisible:!0,beakWidth:16,gapSpace:0,minPagePadding:8,directionalHint:Se.bottomAutoEdge},_d=Je({disableCaching:!0});function vd(e,r,i){var t=e.bounds,s=e.minPagePadding,l=s===void 0?fa.minPagePadding:s,_=e.target,n=I.useState(!1),a=n[0],c=n[1],p=I.useRef(),u=I.useCallback(function(){if(!p.current||a){var g=typeof t=="function"?i?t(_,i):void 0:t;!g&&i&&(g=td(r.current,i),g={top:g.top+l,left:g.left+l,right:g.right-l,bottom:g.bottom-l,width:g.width-l*2,height:g.height-l*2}),p.current=g,a&&c(!1)}return p.current},[t,l,_,r,i,a]),v=Pr();return oi(i,"resize",v.debounce(function(){c(!0)},500,{leading:!0})),u}function pd(e,r,i,t){var s,l=e.calloutMaxHeight,_=e.finalHeight,n=e.directionalHint,a=e.directionalHintFixed,c=e.hidden,p=e.gapSpace,u=e.beakWidth,v=e.isBeakVisible,g=e.coverTarget,S=I.useState(),b=S[0],o=S[1],h=(s=t==null?void 0:t.elementPosition)!==null&&s!==void 0?s:{},d=h.top,f=h.bottom,m=i!=null&&i.current?id(i.current):void 0;return I.useEffect(function(){var y,w=(y=r())!==null&&y!==void 0?y:{},E=w.top,C=w.bottom,k;(t==null?void 0:t.targetEdge)===Z.top&&(m!=null&&m.top)&&!g&&(C=m.top-rd(v,u,p)),typeof d=="number"&&C?k=C-d:typeof f=="number"&&typeof E=="number"&&C&&(k=C-E-f),!l&&!c||l&&k&&l>k?o(k):o(l||void 0)},[f,l,_,n,a,r,c,t,d,p,u,v,m,g]),b}function md(e,r,i,t,s,l){var _=I.useState(),n=_[0],a=_[1],c=I.useRef(0),p=I.useRef(),u=Pr(),v=e.hidden,g=e.target,S=e.finalHeight,b=e.calloutMaxHeight,o=e.onPositioned,h=e.directionalHint,d=e.hideOverflow,f=e.preferScrollResizePositioning,m=ua(),y=I.useRef(),w;y.current!==l.current&&(y.current=l.current,w=l.current?m==null?void 0:m.getComputedStyle(l.current):void 0);var E=w==null?void 0:w.overflowY;return I.useEffect(function(){if(v)a(void 0),c.current=0;else{var C=u.requestAnimationFrame(function(){var k,D;if(r.current&&i){var L=O(O({},e),{target:t.current,bounds:s()}),R=i.cloneNode(!0);R.style.maxHeight=b?"".concat(b):"",R.style.visibility="hidden",(k=i.parentElement)===null||k===void 0||k.appendChild(R);var A=p.current===g?n:void 0,N=d||E==="clip"||E==="hidden",W=f&&!N,U=S?Jh(L,r.current,R,A,m):Zh(L,r.current,R,A,W,void 0,m);(D=i.parentElement)===null||D===void 0||D.removeChild(R),!n&&U||n&&U&&!yd(n,U)&&c.current<5?(c.current++,a(U)):c.current>0&&(c.current=0,o==null||o(n))}},i);return p.current=g,function(){u.cancelAnimationFrame(C),p.current=void 0}}},[v,h,u,i,b,r,t,S,s,o,n,e,g,d,f,E,m]),n}function gd(e,r,i){var t=e.hidden,s=e.setInitialFocus,l=Pr(),_=!!r;I.useEffect(function(){if(!t&&s&&_&&i){var n=l.requestAnimationFrame(function(){return ic(i)},i);return function(){return l.cancelAnimationFrame(n)}}},[t,_,l,i,s])}function bd(e,r,i,t,s){var l=e.hidden,_=e.onDismiss,n=e.preventDismissOnScroll,a=e.preventDismissOnResize,c=e.preventDismissOnLostFocus,p=e.dismissOnTargetClick,u=e.shouldDismissOnWindowFocus,v=e.preventDismissOnEvent,g=I.useRef(!1),S=Pr(),b=_r([function(){g.current=!0},function(){g.current=!1}]),o=!!r;return I.useEffect(function(){var h=function(E){o&&!n&&m(E)},d=function(E){!a&&!(v&&v(E))&&(_==null||_(E))},f=function(E){c||m(E)},m=function(E){var C=E.composedPath?E.composedPath():[],k=C.length>0?C[0]:E.target,D=i.current&&!Ge(i.current,k);if(D&&g.current){g.current=!1;return}if(!t.current&&D||E.target!==s&&D&&(!t.current||"stopPropagation"in t.current||p||k!==t.current&&!Ge(t.current,k))){if(v&&v(E))return;_==null||_(E)}},y=function(E){u&&(v&&!v(E)||!v&&!c)&&!(s!=null&&s.document.hasFocus())&&E.relatedTarget===null&&(_==null||_(E))},w=new Promise(function(E){S.setTimeout(function(){if(!l&&s){var C=[Xt(s,"scroll",h,!0),Xt(s,"resize",d,!0),Xt(s.document.documentElement,"focus",f,!0),Xt(s.document.documentElement,"click",f,!0),Xt(s,"blur",y,!0)];E(function(){C.forEach(function(k){return k()})})}},0)});return function(){w.then(function(E){return E()})}},[l,S,i,t,s,_,u,p,c,a,n,o,v]),b}var _a=I.memo(I.forwardRef(function(e,r){var i=Qr(fa,e),t=i.styles,s=i.style,l=i.ariaLabel,_=i.ariaDescribedBy,n=i.ariaLabelledBy,a=i.className,c=i.isBeakVisible,p=i.children,u=i.beakWidth,v=i.calloutWidth,g=i.calloutMaxWidth,S=i.calloutMinWidth,b=i.doNotLayer,o=i.finalHeight,h=i.hideOverflow,d=h===void 0?!!o:h,f=i.backgroundColor,m=i.calloutMaxHeight,y=i.onScroll,w=i.shouldRestoreFocus,E=w===void 0?!0:w,C=i.target,k=i.hidden,D=i.onLayerMounted,L=i.popupProps,R=I.useRef(null),A=I.useRef(null),N=It(A,L==null?void 0:L.ref),W=I.useState(null),U=W[0],F=W[1],x=I.useCallback(function(it){F(it)},[]),M=It(R,r),B=ca(i.target,{current:U}),P=B[0],j=B[1],$=vd(i,P,j),G=md(i,R,U,P,$,N),X=pd(i,$,P,G),ne=bd(i,G,R,P,j),T=ne[0],H=ne[1],z=(G==null?void 0:G.elementPosition.top)&&(G==null?void 0:G.elementPosition.bottom),K=O(O({},G==null?void 0:G.elementPosition),{maxHeight:X});if(z&&(K.bottom=void 0),gd(i,G,U),I.useEffect(function(){k||D==null||D()},[k]),!j)return null;var Q=d,V=c&&!!C,te=_d(t,{theme:i.theme,className:a,overflowYHidden:Q,calloutWidth:v,positions:G,beakWidth:u,backgroundColor:f,calloutMaxWidth:g,calloutMinWidth:S,doNotLayer:b}),we=O(O({maxHeight:m||"100%"},s),Q&&{overflowY:"hidden"}),Ie=i.hidden?{visibility:"hidden"}:void 0;return I.createElement("div",{ref:M,className:te.container,style:Ie},I.createElement("div",O({},De(i,Wt,fd),{className:Qe(te.root,G&&G.targetEdge&&hd[G.targetEdge]),style:G?O({},K):dd,tabIndex:-1,ref:x}),V&&I.createElement("div",{className:te.beak,style:Cd(G)}),V&&I.createElement("div",{className:te.beakCurtain}),I.createElement(Wn,O({role:i.role,"aria-roledescription":i["aria-roledescription"],ariaDescribedBy:_,ariaLabel:l,ariaLabelledBy:n,className:te.calloutMain,onDismiss:i.onDismiss,onMouseDown:T,onMouseUp:H,onRestoreFocus:i.onRestoreFocus,onScroll:y,shouldRestoreFocus:E,style:we},L,{ref:N}),p)))}),function(e,r){return!r.shouldUpdateWhenHidden&&e.hidden&&r.hidden?!0:fn(e,r)});function Cd(e){var r,i,t=O(O({},(r=e==null?void 0:e.beakPosition)===null||r===void 0?void 0:r.elementPosition),{display:!((i=e==null?void 0:e.beakPosition)===null||i===void 0)&&i.hideBeak?"none":void 0});return!t.top&&!t.bottom&&!t.left&&!t.right&&(t.left=da.left,t.top=da.top),t}function yd(e,r){return va(e.elementPosition,r.elementPosition)&&va(e.beakPosition.elementPosition,r.beakPosition.elementPosition)}function va(e,r){for(var i in r)if(r.hasOwnProperty(i)){var t=e[i],s=r[i];if(t!==void 0&&s!==void 0){if(t.toFixed(2)!==s.toFixed(2))return!1}else return!1}return!0}_a.displayName=ud;function Sd(e){return{height:e,width:e}}var wd={container:"ms-Callout-container",root:"ms-Callout",beak:"ms-Callout-beak",beakCurtain:"ms-Callout-beakCurtain",calloutMain:"ms-Callout-main"},Ed=function(e){var r,i=e.theme,t=e.className,s=e.overflowYHidden,l=e.calloutWidth,_=e.beakWidth,n=e.backgroundColor,a=e.calloutMaxWidth,c=e.calloutMinWidth,p=e.doNotLayer,u=vt(wd,i),v=i.semanticColors,g=i.effects;return{container:[u.container,{position:"relative"}],root:[u.root,i.fonts.medium,{position:"absolute",display:"flex",zIndex:p?ri.Layer:void 0,boxSizing:"border-box",borderRadius:g.roundedCorner2,boxShadow:g.elevation16,selectors:(r={},r[J]={borderWidth:1,borderStyle:"solid",borderColor:"WindowText"},r)},gh(),t,!!l&&{width:l},!!a&&{maxWidth:a},!!c&&{minWidth:c}],beak:[u.beak,{position:"absolute",backgroundColor:v.menuBackground,boxShadow:"inherit",border:"inherit",boxSizing:"border-box",transform:"rotate(45deg)"},Sd(_),n&&{backgroundColor:n}],beakCurtain:[u.beakCurtain,{position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:v.menuBackground,borderRadius:g.roundedCorner2}],calloutMain:[u.calloutMain,{backgroundColor:v.menuBackground,overflowX:"hidden",overflowY:"auto",position:"relative",width:"100%",borderRadius:g.roundedCorner2},s&&{overflowY:"hidden"},n&&{backgroundColor:n}]}},kd=et(_a,Ed,void 0,{scope:"CalloutContent"}),pa=I.createContext(void 0),xd=function(){return function(){}};pa.Provider;function Dd(){var e;return(e=I.useContext(pa))!==null&&e!==void 0?e:xd}var Id=Je(),Td=ye(function(e,r){return ei(O(O({},e),{rtl:r}))}),Rd=function(e){var r=e.theme,i=e.dir,t=Ue(r)?"rtl":"ltr",s=Ue()?"rtl":"ltr",l=i||t;return{rootDir:l!==t||l!==s?l:i,needsTheme:l!==t}},ma=I.forwardRef(function(e,r){var i=e.className,t=e.theme,s=e.applyTheme,l=e.applyThemeToBody,_=e.styles,n=Id(_,{theme:t,applyTheme:s,className:i}),a=I.useRef(null);return Ld(l,n,a),I.createElement(I.Fragment,null,Md(e,n,a,r))});ma.displayName="FabricBase";function Md(e,r,i,t){var s=r.root,l=e.as,_=l===void 0?"div":l,n=e.dir,a=e.theme,c=De(e,Wt,["dir"]),p=Rd(e),u=p.rootDir,v=p.needsTheme,g=I.createElement(Ao,{providerRef:i},I.createElement(_,O({dir:u},c,{className:s,ref:It(i,t)})));return v&&(g=I.createElement(Uc,{settings:{theme:Td(a,n==="rtl")}},g)),g}function Ld(e,r,i){var t=r.bodyThemed;return I.useEffect(function(){if(e){var s=ke(i.current);if(s)return s.body.classList.add(t),function(){s.body.classList.remove(t)}}},[t,e,i]),i}var Un={fontFamily:"inherit"},Bd={root:"ms-Fabric",bodyThemed:"ms-Fabric-bodyThemed"},Ad=function(e){var r=e.applyTheme,i=e.className,t=e.preventBlanketFontInheritance,s=e.theme,l=vt(Bd,s);return{root:[l.root,s.fonts.medium,{color:s.palette.neutralPrimary},!t&&{"& button":Un,"& input":Un,"& textarea":Un},r&&{color:s.semanticColors.bodyText,backgroundColor:s.semanticColors.bodyBackground},i],bodyThemed:[{backgroundColor:s.semanticColors.bodyBackground}]}},Pd=et(ma,Ad,void 0,{scope:"Fabric"}),ai={},Kn={},ga="fluent-default-layer-host",Od="#".concat(ga);function Nd(e,r){ai[e]||(ai[e]=[]),ai[e].push(r);var i=Kn[e];if(i)for(var t=0,s=i;t<s.length;t++){var l=s[t];l.notifyLayersChanged()}}function Fd(e,r){var i=ai[e];if(i){var t=i.indexOf(r);t>=0&&(i.splice(t,1),i.length===0&&delete ai[e])}var s=Kn[e];if(s)for(var l=0,_=s;l<_.length;l++){var n=_[l];n.notifyLayersChanged()}}function Hd(e){var r=Kn[e];return r&&r[0]||void 0}function Wd(e,r){r===void 0&&(r=null);var i=e.createElement("div");return i.setAttribute("id",ga),i.style.cssText="position:fixed;z-index:1000000",r?r.appendChild(i):e==null||e.body.appendChild(i),i}function Ud(){return Od}var Kd=Je(),zd=function(e){return e!=null&&e.current?e.current.classList.contains(se):!1},ba=I.forwardRef(function(e,r){var i=Dd(),t=I.useRef(null),s=It(t,r),l=I.useRef(),_=I.useRef(null),n=I.useContext(Jr),a=I.useState(!1),c=a[0],p=a[1],u=I.useCallback(function(N){var W=zd(n==null?void 0:n.providerRef);N&&W&&N.classList.add(se)},[n]),v=e.children,g=e.className,S=e.eventBubblingEnabled,b=e.fabricProps,o=e.hostId,h=e.insertFirst,d=e.onLayerDidMount,f=d===void 0?function(){}:d,m=e.onLayerMounted,y=m===void 0?function(){}:m,w=e.onLayerWillUnmount,E=e.styles,C=e.theme,k=It(_,b==null?void 0:b.ref,u),D=Kd(E,{theme:C,className:g,isNotHost:!o}),L=function(N,W){var U,F;W===void 0&&(W=null);var x=W??N;if(o){var M=Hd(o);return M?(U=M.rootRef.current)!==null&&U!==void 0?U:null:(F=x.getElementById(o))!==null&&F!==void 0?F:null}else{var B=Ud(),P=B?x.querySelector(B):null;return P||(P=Wd(N,W)),P}},R=function(){w==null||w();var N=l.current;l.current=void 0,N&&N.parentNode&&N.parentNode.removeChild(N)},A=function(){var N,W,U,F,x=ke(t.current),M=!((W=(N=t.current)===null||N===void 0?void 0:N.getRootNode())===null||W===void 0)&&W.host?(U=t==null?void 0:t.current)===null||U===void 0?void 0:U.getRootNode():void 0;if(!(!x||!x&&!M)){var B=L(x,M);if(B){B.__tabsterElementFlags||(B.__tabsterElementFlags={}),B.__tabsterElementFlags.noDirectAriaHidden=!0,R();var P=((F=B.ownerDocument)!==null&&F!==void 0?F:x).createElement("div");P.className=D.root,Xl(P),Yl(P,t.current),h?B.insertBefore(P,B.firstChild):B.appendChild(P),l.current=P,p(!0)}}};return Tr(function(){A(),o&&Nd(o,A);var N=l.current?i(l.current):void 0;return function(){N&&N(),R(),o&&Fd(o,A)}},[o]),I.useEffect(function(){l.current&&c&&(y==null||y(),f==null||f(),p(!1))},[c,y,f]),qd(e),I.createElement("span",{className:"ms-layer",ref:s},l.current&&yl.createPortal(I.createElement(Ao,{layerRoot:!0,providerRef:k},I.createElement(Pd,O({},!S&&$d(),b,{className:Qe(D.content,b==null?void 0:b.className),ref:k}),v)),l.current))});ba.displayName="LayerBase";var qi,jd=function(e){e.eventPhase===Event.BUBBLING_PHASE&&e.type!=="mouseenter"&&e.type!=="mouseleave"&&e.type!=="touchstart"&&e.type!=="touchend"&&e.stopPropagation()};function $d(){return qi||(qi={},["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOver","onMouseOut","onMouseUp","onTouchMove","onTouchStart","onTouchCancel","onTouchEnd","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onInvalid","onSubmit"].forEach(function(e){return qi[e]=jd})),qi}function qd(e){kt.env.NODE_ENV!=="production"&&Hn({name:"Layer",props:e,deprecations:{onLayerMounted:"onLayerDidMount"}})}var Gd={root:"ms-Layer",rootNoHost:"ms-Layer--fixed",content:"ms-Layer-content"},Vd=function(e){var r=e.className,i=e.isNotHost,t=e.theme,s=vt(Gd,t);return{root:[s.root,t.fonts.medium,i&&[s.rootNoHost,{position:"fixed",zIndex:ri.Layer,top:0,left:0,bottom:0,right:0,visibility:"hidden"}],r],content:[s.content,{visibility:"visible"}]}},Ca=et(ba,Vd,void 0,{scope:"Layer",fields:["hostId","theme","styles"]}),zn=I.forwardRef(function(e,r){var i=e.layerProps,t=e.doNotLayer,s=yr(e,["layerProps","doNotLayer"]),l=I.createElement(kd,O({},s,{doNotLayer:t,ref:r}));return t?l:I.createElement(Ca,O({},i),l)});zn.displayName="Callout";var Xd="FocusTrapZone",Yd={disabled:!1,disableFirstFocus:!1,forceFocusInsideTrap:!0,isClickableOutsideFocusTrap:!1,"data-tabster":'{"uncontrolled": {"completely": true}}'},Zd=function(e,r,i){I.useImperativeHandle(e,function(){return{get previouslyFocusedElement(){return r},focus:i}},[i,r])},vr=I.forwardRef(function(e,r){var i,t=I.useRef(null),s=I.useRef(null),l=I.useRef(null),_=It(t,r),n=Xc(),a=ua(),c=Gc(),p=(i=Or(!1))!==null&&i!==void 0?i:!0,u=Qr(Yd,e),v=_r({hasFocus:!1,focusStackId:ji("ftz-",u.id)}),g=u.children,S=u.componentRef,b=u.disabled,o=u.disableFirstFocus,h=u.forceFocusInsideTrap,d=u.focusPreviouslyFocusedInnerElement,f=u.firstFocusableSelector,m=u.firstFocusableTarget,y=u.disableRestoreFocus,w=y===void 0?u.ignoreExternalFocusing:y,E=u.isClickableOutsideFocusTrap,C=u.enableAriaHiddenSiblings,k={"aria-hidden":!0,style:{pointerEvents:"none",position:"fixed"},tabIndex:b?-1:0,"data-is-visible":!0,"data-is-focus-trap-zone-bumper":!0},D=I.useCallback(function(F){F!==s.current&&F!==l.current&&Ys(F)},[]),L=Fn(function(){if(t.current){var F=v.previouslyFocusedElementInTrapZone;if(d&&F&&Ge(t.current,F)){D(F);return}var x=null;if(typeof m=="string")x=t.current.querySelector(m);else if(m)x=m(t.current);else if(f){var M=typeof f=="string"?f:f();x=t.current.querySelector("."+M)}x||(x=Pe(t.current,t.current.firstChild,!1,!1,!1,!0,void 0,void 0,void 0,c)),x&&D(x)}}),R=function(F){if(!(b||!t.current)){var x=F===v.hasFocus?rc(t.current,l.current,!0,!1,c):tc(t.current,s.current,!0,!1,c);x&&(x===s.current||x===l.current?L():x.focus())}},A=function(F){var x;(x=u.onBlurCapture)===null||x===void 0||x.call(u,F);var M=F.relatedTarget;F.relatedTarget===null&&(M=Si(n)),Ge(t.current,M)||(v.hasFocus=!1)},N=function(F){var x;(x=u.onFocusCapture)===null||x===void 0||x.call(u,F),F.target===s.current?R(!0):F.target===l.current&&R(!1),v.hasFocus=!0,F.target!==F.currentTarget&&!(F.target===s.current||F.target===l.current)&&(v.previouslyFocusedElementInTrapZone=js(F.nativeEvent))},W=Fn(function(F){if(vr.focusStack=vr.focusStack.filter(function(M){return v.focusStackId!==M}),!!n){var x=n.activeElement;!w&&typeof(F==null?void 0:F.focus)=="function"&&(Ge(t.current,x)||x===n.body||x.shadowRoot)&&D(F)}}),U=Fn(function(F){if(!b&&v.focusStackId===vr.focusStack.slice(-1)[0]){var x=js(F);x&&!Ge(t.current,x)&&(n&&Si(n)===n.body?setTimeout(function(){n&&Si(n)===n.body&&(L(),v.hasFocus=!0)},0):(L(),v.hasFocus=!0),F.preventDefault(),F.stopPropagation())}});return I.useEffect(function(){var F=[];return h&&F.push(Xt(a,"focus",U,!0)),E||F.push(Xt(a,"click",U,!0)),function(){F.forEach(function(x){return x()})}},[h,E,a]),I.useEffect(function(){if(!(b||!p&&!h||!t.current)){vr.focusStack.push(v.focusStackId);var F=u.elementToFocusOnDismiss||Si(n);return!o&&!Ge(t.current,F)&&L(),function(){return W(F)}}},[h,b]),I.useEffect(function(){if(!b&&C){var F=Fo(t.current);return F}},[b,C,t]),nd(function(){delete v.previouslyFocusedElementInTrapZone}),Zd(S,v.previouslyFocusedElementInTrapZone,L),I.createElement("div",O({"aria-labelledby":u.ariaLabelledBy},De(u,Wt),{ref:_,onFocusCapture:N,onBlurCapture:A}),I.createElement("div",O({},k,{ref:s})),g,I.createElement("div",O({},k,{ref:l})))});vr.displayName=Xd,vr.focusStack=[];var Gi;(function(e){e[e.default=0]="default",e[e.image=1]="image",e[e.Default=1e5]="Default",e[e.Image=100001]="Image"})(Gi||(Gi={}));var Xe;(function(e){e[e.center=0]="center",e[e.contain=1]="contain",e[e.cover=2]="cover",e[e.none=3]="none",e[e.centerCover=4]="centerCover",e[e.centerContain=5]="centerContain"})(Xe||(Xe={}));var li;(function(e){e[e.landscape=0]="landscape",e[e.portrait=1]="portrait"})(li||(li={}));var ze;(function(e){e[e.notLoaded=0]="notLoaded",e[e.loaded=1]="loaded",e[e.error=2]="error",e[e.errorLoaded=3]="errorLoaded"})(ze||(ze={}));var Jd=Je(),Qd=/\.svg$/i,ef="fabricImage";function tf(e,r){var i=e.onLoadingStateChange,t=e.onLoad,s=e.onError,l=e.src,_=I.useState(ze.notLoaded),n=_[0],a=_[1];Tr(function(){a(ze.notLoaded)},[l]),I.useEffect(function(){if(n===ze.notLoaded){var u=r.current?l&&r.current.naturalWidth>0&&r.current.naturalHeight>0||r.current.complete&&Qd.test(l):!1;u&&a(ze.loaded)}}),I.useEffect(function(){i==null||i(n)},[n]);var c=I.useCallback(function(u){t==null||t(u),l&&a(ze.loaded)},[l,t]),p=I.useCallback(function(u){s==null||s(u),a(ze.error)},[s]);return[n,c,p]}var ya=I.forwardRef(function(e,r){var i=I.useRef(),t=I.useRef(),s=tf(e,t),l=s[0],_=s[1],n=s[2],a=De(e,su,["width","height"]),c=e.src,p=e.alt,u=e.width,v=e.height,g=e.shouldFadeIn,S=g===void 0?!0:g,b=e.shouldStartVisible,o=e.className,h=e.imageFit,d=e.role,f=e.maximizeFrame,m=e.styles,y=e.theme,w=e.loading,E=rf(e,l,t,i),C=Jd(m,{theme:y,className:o,width:u,height:v,maximizeFrame:f,shouldFadeIn:S,shouldStartVisible:b,isLoaded:l===ze.loaded||l===ze.notLoaded&&e.shouldStartVisible,isLandscape:E===li.landscape,isCenter:h===Xe.center,isCenterContain:h===Xe.centerContain,isCenterCover:h===Xe.centerCover,isContain:h===Xe.contain,isCover:h===Xe.cover,isNone:h===Xe.none,isError:l===ze.error,isNotImageFit:h===void 0});return I.createElement("div",{className:C.root,style:{width:u,height:v},ref:i},I.createElement("img",O({},a,{onLoad:_,onError:n,key:ef+e.src||"",className:C.image,ref:It(t,r),src:c,alt:p,role:d,loading:w})))});ya.displayName="ImageBase";function rf(e,r,i,t){var s=I.useRef(r),l=I.useRef();return(l===void 0||s.current===ze.notLoaded&&r===ze.loaded)&&(l.current=nf(e,r,i,t)),s.current=r,l.current}function nf(e,r,i,t){var s=e.imageFit,l=e.width,_=e.height;if(e.coverStyle!==void 0)return e.coverStyle;if(r===ze.loaded&&(s===Xe.cover||s===Xe.contain||s===Xe.centerContain||s===Xe.centerCover)&&i.current&&t.current){var n=void 0;typeof l=="number"&&typeof _=="number"&&s!==Xe.centerContain&&s!==Xe.centerCover?n=l/_:n=t.current.clientWidth/t.current.clientHeight;var a=i.current.naturalWidth/i.current.naturalHeight;if(a>n)return li.landscape}return li.portrait}var sf={root:"ms-Image",rootMaximizeFrame:"ms-Image--maximizeFrame",image:"ms-Image-image",imageCenter:"ms-Image-image--center",imageContain:"ms-Image-image--contain",imageCover:"ms-Image-image--cover",imageCenterContain:"ms-Image-image--centerContain",imageCenterCover:"ms-Image-image--centerCover",imageNone:"ms-Image-image--none",imageLandscape:"ms-Image-image--landscape",imagePortrait:"ms-Image-image--portrait"},of=function(e){var r=e.className,i=e.width,t=e.height,s=e.maximizeFrame,l=e.isLoaded,_=e.shouldFadeIn,n=e.shouldStartVisible,a=e.isLandscape,c=e.isCenter,p=e.isContain,u=e.isCover,v=e.isCenterContain,g=e.isCenterCover,S=e.isNone,b=e.isError,o=e.isNotImageFit,h=e.theme,d=vt(sf,h),f={position:"absolute",left:"50% /* @noflip */",top:"50%",transform:"translate(-50%,-50%)"},m=_e(),y=m!==void 0&&m.navigator.msMaxTouchPoints===void 0,w=p&&a||u&&!a?{width:"100%",height:"auto"}:{width:"auto",height:"100%"};return{root:[d.root,h.fonts.medium,{overflow:"hidden"},s&&[d.rootMaximizeFrame,{height:"100%",width:"100%"}],l&&_&&!n&&mt.fadeIn400,(c||p||u||v||g)&&{position:"relative"},r],image:[d.image,{display:"block",opacity:0},l&&["is-loaded",{opacity:1}],c&&[d.imageCenter,f],p&&[d.imageContain,y&&{width:"100%",height:"100%",objectFit:"contain"},!y&&w,!y&&f],u&&[d.imageCover,y&&{width:"100%",height:"100%",objectFit:"cover"},!y&&w,!y&&f],v&&[d.imageCenterContain,a&&{maxWidth:"100%"},!a&&{maxHeight:"100%"},f],g&&[d.imageCenterCover,a&&{maxHeight:"100%"},!a&&{maxWidth:"100%"},f],S&&[d.imageNone,{width:"auto",height:"auto"}],o&&[!!i&&!t&&{height:"auto",width:"100%"},!i&&!!t&&{height:"100%",width:"auto"},!!i&&!!t&&{height:"100%",width:"100%"}],a&&d.imageLandscape,!a&&d.imagePortrait,!l&&"is-notLoaded",_&&"is-fadeIn",b&&"is-error"]}},jn=et(ya,of,void 0,{scope:"Image"},!0);jn.displayName="Image";var pr=Gr({root:{display:"inline-block",textDecoration:"inherit"},placeholder:["ms-Icon-placeHolder",{width:"1em"}],image:["ms-Icon-imageContainer",{overflow:"hidden"}]}),Sa="ms-Icon",af=function(e){var r=e.className,i=e.iconClassName,t=e.isPlaceholder,s=e.isImage,l=e.styles;return{root:[t&&pr.placeholder,pr.root,s&&pr.image,i,r,l&&l.root,l&&l.imageContainer]}},wa=ye(function(e){var r=Eu(e)||{subset:{},code:void 0},i=r.code,t=r.subset;return i?{children:i,iconClassName:t.className,fontFamily:t.fontFace&&t.fontFace.fontFamily,mergeImageProps:t.mergeImageProps}:null},void 0,!0),$n=function(e){var r=e.iconName,i=e.className,t=e.style,s=t===void 0?{}:t,l=wa(r)||{},_=l.iconClassName,n=l.children,a=l.fontFamily,c=l.mergeImageProps,p=De(e,xe),u=e["aria-label"]||e.title,v=e["aria-label"]||e["aria-labelledby"]||e.title?{role:c?void 0:"img"}:{"aria-hidden":!0},g=n;return c&&typeof n=="object"&&typeof n.props=="object"&&u&&(g=I.cloneElement(n,{alt:u})),I.createElement("i",O({"data-icon-name":r},v,p,c?{title:void 0,"aria-label":void 0}:{},{className:Qe(Sa,pr.root,_,!r&&pr.placeholder,i),style:O({fontFamily:a},s)}),g)};ye(function(e,r,i){return $n({iconName:e,className:r,"aria-label":i})});var lf=Je({cacheSize:100}),cf=function(e){Le(r,e);function r(i){var t=e.call(this,i)||this;return t._onImageLoadingStateChange=function(s){t.props.imageProps&&t.props.imageProps.onLoadingStateChange&&t.props.imageProps.onLoadingStateChange(s),s===ze.error&&t.setState({imageLoadError:!0})},t.state={imageLoadError:!1},t}return r.prototype.render=function(){var i=this.props,t=i.children,s=i.className,l=i.styles,_=i.iconName,n=i.imageErrorAs,a=i.theme,c=typeof _=="string"&&_.length===0,p=!!this.props.imageProps||this.props.iconType===Gi.image||this.props.iconType===Gi.Image,u=wa(_)||{},v=u.iconClassName,g=u.children,S=u.mergeImageProps,b=lf(l,{theme:a,className:s,iconClassName:v,isImage:p,isPlaceholder:c}),o=p?"span":"i",h=De(this.props,xe,["aria-label"]),d=this.state.imageLoadError,f=O(O({},this.props.imageProps),{onLoadingStateChange:this._onImageLoadingStateChange}),m=d&&n||jn,y=this.props["aria-label"]||this.props.ariaLabel,w=f.alt||y||this.props.title,E=!!(w||this.props["aria-labelledby"]||f["aria-label"]||f["aria-labelledby"]),C=E?{role:p||S?void 0:"img","aria-label":p||S?void 0:w}:{"aria-hidden":!0},k=g;return S&&g&&typeof g=="object"&&w&&(k=I.cloneElement(g,{alt:w})),I.createElement(o,O({"data-icon-name":_},C,h,S?{title:void 0,"aria-label":void 0}:{},{className:b.root}),p?I.createElement(m,O({},f)):t||k)},r}(I.Component),mr=et(cf,af,void 0,{scope:"Icon"},!0);mr.displayName="Icon";var uf=function(e){var r=e.className,i=e.imageProps,t=De(e,xe,["aria-label","aria-labelledby","title","aria-describedby"]),s=i.alt||e["aria-label"],l=s||e["aria-labelledby"]||e.title||i["aria-label"]||i["aria-labelledby"]||i.title,_={"aria-labelledby":e["aria-labelledby"],"aria-describedby":e["aria-describedby"],title:e.title},n=l?{}:{"aria-hidden":!0};return I.createElement("div",O({},n,t,{className:Qe(Sa,pr.root,pr.image,r)}),I.createElement(jn,O({},_,i,{alt:l?s:""})))},qn={all:1,inputOnly:2},Fe;(function(e){e[e.vertical=0]="vertical",e[e.horizontal=1]="horizontal",e[e.bidirectional=2]="bidirectional",e[e.domOrder=3]="domOrder"})(Fe||(Fe={}));var Vi="data-is-focusable",hf="data-disable-click-on-enter",Gn="data-focuszone-id",Tt="tabindex",Vn="data-no-vertical-wrap",Xn="data-no-horizontal-wrap",Yn=999999999,ci=-999999999,Zn,df="ms-FocusZone";function ff(e,r){var i;typeof MouseEvent=="function"?i=new MouseEvent("click",{ctrlKey:r==null?void 0:r.ctrlKey,metaKey:r==null?void 0:r.metaKey,shiftKey:r==null?void 0:r.shiftKey,altKey:r==null?void 0:r.altKey,bubbles:r==null?void 0:r.bubbles,cancelable:r==null?void 0:r.cancelable}):(i=document.createEvent("MouseEvents"),i.initMouseEvent("click",r?r.bubbles:!1,r?r.cancelable:!1,window,0,0,0,0,0,r?r.ctrlKey:!1,r?r.altKey:!1,r?r.shiftKey:!1,r?r.metaKey:!1,0,null)),e.dispatchEvent(i)}function _f(){return Zn||(Zn=Pt({selectors:{":focus":{outline:"none"}}},df)),Zn}var ui={},Xi=new Set,vf=["text","number","password","email","tel","url","search","textarea"],Kt=!1,Ea=function(e){Le(r,e);function r(i){var t,s,l,_,n=e.call(this,i)||this;n._root=I.createRef(),n._mergedRef=Ho(),n._onFocus=function(c){if(!n._portalContainsElement(c.target)){var p=n.props,u=p.onActiveElementChanged,v=p.doNotAllowFocusEventToPropagate,g=p.stopFocusPropagation,S=p.onFocusNotification,b=p.onFocus,o=p.shouldFocusInnerElementWhenReceivedFocus,h=p.defaultTabbableElement,d=n._isImmediateDescendantOfZone(c.target),f;if(d)f=c.target;else for(var m=c.target;m&&m!==n._root.current;){if(yt(m,void 0,n._inShadowRoot)&&n._isImmediateDescendantOfZone(m)){f=m;break}m=Ct(m,Kt)}if(o&&c.target===n._root.current){var y=h&&typeof h=="function"&&n._root.current&&h(n._root.current);y&&yt(y,void 0,n._inShadowRoot)?(f=y,y.focus()):(n.focus(!0),n._activeElement&&(f=null))}var w=!n._activeElement;f&&f!==n._activeElement&&((d||w)&&n._setFocusAlignment(f,!0,!0),n._activeElement=f,w&&n._updateTabIndexes()),u&&u(n._activeElement,c),(g||v)&&c.stopPropagation(),b?b(c):S&&S()}},n._onBlur=function(){n._setParkedFocus(!1)},n._onMouseDown=function(c){if(!n._portalContainsElement(c.target)){var p=n.props.disabled;if(!p){for(var u=c.target,v=[];u&&u!==n._root.current;)v.push(u),u=Ct(u,Kt);for(;v.length&&(u=v.pop(),u&&yt(u,void 0,n._inShadowRoot)&&n._setActiveElement(u,!0),!Ot(u)););}}},n._onKeyDown=function(c,p){if(!n._portalContainsElement(c.target)){var u=n.props,v=u.direction,g=u.disabled,S=u.isInnerZoneKeystroke,b=u.pagingSupportDisabled,o=u.shouldEnterInnerZone;if(!g&&(n.props.onKeyDown&&n.props.onKeyDown(c),!c.isDefaultPrevented()&&!(n._getDocument().activeElement===n._root.current&&n._isInnerZone))){if((o&&o(c)||S&&S(c))&&n._isImmediateDescendantOfZone(c.target)){var h=n._getFirstInnerZone();if(h){if(!h.focus(!0))return}else if(dn(c.target)){if(!n.focusElement(Pe(c.target,c.target.firstChild,!0)))return}else return}else{if(c.altKey)return;switch(c.which){case Y.space:if(n._shouldRaiseClicksOnSpace&&n._tryInvokeClickForFocusable(c.target,c))break;return;case Y.left:if(v!==Fe.vertical&&(n._preventDefaultWhenHandled(c),n._moveFocusLeft(p)))break;return;case Y.right:if(v!==Fe.vertical&&(n._preventDefaultWhenHandled(c),n._moveFocusRight(p)))break;return;case Y.up:if(v!==Fe.horizontal&&(n._preventDefaultWhenHandled(c),n._moveFocusUp()))break;return;case Y.down:if(v!==Fe.horizontal&&(n._preventDefaultWhenHandled(c),n._moveFocusDown()))break;return;case Y.pageDown:if(!b&&n._moveFocusPaging(!0))break;return;case Y.pageUp:if(!b&&n._moveFocusPaging(!1))break;return;case Y.tab:if(n.props.allowTabKey||n.props.handleTabKey===qn.all||n.props.handleTabKey===qn.inputOnly&&n._isElementInput(c.target)){var d=!1;if(n._processingTabKey=!0,v===Fe.vertical||!n._shouldWrapFocus(n._activeElement,Xn))d=c.shiftKey?n._moveFocusUp():n._moveFocusDown();else{var f=Ue(p)?!c.shiftKey:c.shiftKey;d=f?n._moveFocusLeft(p):n._moveFocusRight(p)}if(n._processingTabKey=!1,d)break;n.props.shouldResetActiveElementWhenTabFromZone&&(n._activeElement=null)}return;case Y.home:if(n._isContentEditableElement(c.target)||n._isElementInput(c.target)&&!n._shouldInputLoseFocus(c.target,!1))return!1;var m=n._root.current&&n._root.current.firstChild;if(n._root.current&&m&&n.focusElement(Pe(n._root.current,m,!0)))break;return;case Y.end:if(n._isContentEditableElement(c.target)||n._isElementInput(c.target)&&!n._shouldInputLoseFocus(c.target,!0))return!1;var y=n._root.current&&n._root.current.lastChild;if(n._root.current&&n.focusElement(We(n._root.current,y,!0,!0,!0)))break;return;case Y.enter:if(n._shouldRaiseClicksOnEnter&&n._tryInvokeClickForFocusable(c.target,c))break;return;default:return}}c.preventDefault(),c.stopPropagation()}}},n._getHorizontalDistanceFromCenter=function(c,p,u){var v=n._focusAlignment.left||n._focusAlignment.x||0,g=Math.floor(u.top),S=Math.floor(p.bottom),b=Math.floor(u.bottom),o=Math.floor(p.top),h=c&&g>S,d=!c&&b<o;return h||d?v>=u.left&&v<=u.left+u.width?0:Math.abs(u.left+u.width/2-v):n._shouldWrapFocus(n._activeElement,Vn)?Yn:ci},lr(n),kt.env.NODE_ENV!=="production"&&xr("FocusZone",i,{rootProps:void 0,allowTabKey:"handleTabKey",elementType:"as",ariaDescribedBy:"aria-describedby",ariaLabelledBy:"aria-labelledby"}),n._id=lt("FocusZone"),n._focusAlignment={left:0,top:0},n._processingTabKey=!1;var a=(s=(t=i.shouldRaiseClicks)!==null&&t!==void 0?t:r.defaultProps.shouldRaiseClicks)!==null&&s!==void 0?s:!0;return n._shouldRaiseClicksOnEnter=(l=i.shouldRaiseClicksOnEnter)!==null&&l!==void 0?l:a,n._shouldRaiseClicksOnSpace=(_=i.shouldRaiseClicksOnSpace)!==null&&_!==void 0?_:a,n}return r.getOuterZones=function(){return Xi.size},r._onKeyDownCapture=function(i){i.which===Y.tab&&Xi.forEach(function(t){return t._updateTabIndexes()})},r.prototype.componentDidMount=function(){var i,t=this._root.current;if(this._inShadowRoot=!!(!((i=this.context)===null||i===void 0)&&i.shadowRoot),ui[this._id]=this,t){for(var s=Ct(t,Kt);s&&s!==this._getDocument().body&&s.nodeType===1;){if(Ot(s)){this._isInnerZone=!0;break}s=Ct(s,Kt)}this._isInnerZone||(Xi.add(this),this._root.current&&this._root.current.addEventListener("keydown",r._onKeyDownCapture,!0)),this._root.current&&this._root.current.addEventListener("blur",this._onBlur,!0),this._updateTabIndexes(),this.props.defaultTabbableElement&&typeof this.props.defaultTabbableElement=="string"?this._activeElement=this._getDocument().querySelector(this.props.defaultTabbableElement):this.props.defaultActiveElement&&(this._activeElement=this._getDocument().querySelector(this.props.defaultActiveElement)),this.props.shouldFocusOnMount&&this.focus()}},r.prototype.componentDidUpdate=function(){var i,t=this._root.current,s=this._getDocument();if(this._inShadowRoot=!!(!((i=this.context)===null||i===void 0)&&i.shadowRoot),(this._activeElement&&!Ge(this._root.current,this._activeElement,Kt)||this._defaultFocusElement&&!Ge(this._root.current,this._defaultFocusElement,Kt))&&(this._activeElement=null,this._defaultFocusElement=null,this._updateTabIndexes()),!this.props.preventFocusRestoration&&s&&this._lastIndexPath&&(s.activeElement===s.body||s.activeElement===null||s.activeElement===t)){var l=sc(t,this._lastIndexPath);l?(this._setActiveElement(l,!0),l.focus(),this._setParkedFocus(!1)):this._setParkedFocus(!0)}},r.prototype.componentWillUnmount=function(){delete ui[this._id],this._isInnerZone||(Xi.delete(this),this._root.current&&this._root.current.removeEventListener("keydown",r._onKeyDownCapture,!0)),this._root.current&&this._root.current.removeEventListener("blur",this._onBlur,!0),this._activeElement=null,this._defaultFocusElement=null},r.prototype.render=function(){var i=this,t=this.props,s=t.as,l=t.elementType,_=t.rootProps,n=t.ariaDescribedBy,a=t.ariaLabelledBy,c=t.className,p=De(this.props,xe),u=s||l||"div";this._evaluateFocusBeforeRender();var v=Ih();return I.createElement(u,O({"aria-labelledby":a,"aria-describedby":n},p,_,{className:Qe(_f(),c),ref:this._mergedRef(this.props.elementRef,this._root),"data-focuszone-id":this._id,onKeyDown:function(g){return i._onKeyDown(g,v)},onFocus:this._onFocus,onMouseDownCapture:this._onMouseDown}),this.props.children)},r.prototype.focus=function(i,t){if(i===void 0&&(i=!1),t===void 0&&(t=!1),this._root.current)if(!i&&this._root.current.getAttribute(Vi)==="true"&&this._isInnerZone){var s=this._getOwnerZone(this._root.current);if(s!==this._root.current){var l=ui[s.getAttribute(Gn)];return!!l&&l.focusElement(this._root.current)}return!1}else{if(!i&&this._activeElement&&Ge(this._root.current,this._activeElement)&&yt(this._activeElement,void 0,this._inShadowRoot)&&(!t||Vs(this._activeElement)))return this._activeElement.focus(),!0;var _=this._root.current.firstChild;return this.focusElement(Pe(this._root.current,_,!0,void 0,void 0,void 0,void 0,void 0,t))}return!1},r.prototype.focusLast=function(){if(this._root.current){var i=this._root.current&&this._root.current.lastChild;return this.focusElement(We(this._root.current,i,!0,!0,!0))}return!1},r.prototype.focusElement=function(i,t){var s=this.props,l=s.onBeforeFocus,_=s.shouldReceiveFocus;return _&&!_(i)||l&&!l(i)?!1:i?(this._setActiveElement(i,t),this._activeElement&&this._activeElement.focus(),!0):!1},r.prototype.setFocusAlignment=function(i){this._focusAlignment=i},Object.defineProperty(r.prototype,"defaultFocusElement",{get:function(){return this._defaultFocusElement},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"activeElement",{get:function(){return this._activeElement},enumerable:!1,configurable:!0}),r.prototype._evaluateFocusBeforeRender=function(){var i=this._root.current,t=this._getDocument();if(t){var s=t.activeElement;if(s!==i){var l=Ge(i,s,!1);this._lastIndexPath=l?oc(i,s):void 0}}},r.prototype._setParkedFocus=function(i){var t=this._root.current;t&&this._isParked!==i&&(this._isParked=i,i?(this.props.allowFocusRoot||(this._parkedTabIndex=t.getAttribute("tabindex"),t.setAttribute("tabindex","-1")),t.focus()):this.props.allowFocusRoot||(this._parkedTabIndex?(t.setAttribute("tabindex",this._parkedTabIndex),this._parkedTabIndex=void 0):t.removeAttribute("tabindex")))},r.prototype._setActiveElement=function(i,t){var s=this._activeElement;this._activeElement=i,s&&(Ot(s)&&this._updateTabIndexes(s),s.tabIndex=-1),this._activeElement&&((!this._focusAlignment||t)&&this._setFocusAlignment(i,!0,!0),this._activeElement.tabIndex=0)},r.prototype._preventDefaultWhenHandled=function(i){this.props.preventDefaultWhenHandled&&i.preventDefault()},r.prototype._tryInvokeClickForFocusable=function(i,t){var s=i;if(s===this._root.current)return!1;do{if(s.tagName==="BUTTON"||s.tagName==="A"||s.tagName==="INPUT"||s.tagName==="TEXTAREA"||s.tagName==="SUMMARY")return!1;if(this._isImmediateDescendantOfZone(s)&&s.getAttribute(Vi)==="true"&&s.getAttribute(hf)!=="true")return ff(s,t),!0;s=Ct(s,Kt)}while(s!==this._root.current);return!1},r.prototype._getFirstInnerZone=function(i){if(i=i||this._activeElement||this._root.current,!i)return null;if(Ot(i))return ui[i.getAttribute(Gn)];for(var t=i.firstElementChild;t;){if(Ot(t))return ui[t.getAttribute(Gn)];var s=this._getFirstInnerZone(t);if(s)return s;t=t.nextElementSibling}return null},r.prototype._moveFocus=function(i,t,s,l){l===void 0&&(l=!0);var _=this._activeElement,n=-1,a=void 0,c=!1,p=this.props.direction===Fe.bidirectional;if(!_||!this._root.current||this._isElementInput(_)&&!this._shouldInputLoseFocus(_,i))return!1;var u=p?_.getBoundingClientRect():null;do if(_=i?Pe(this._root.current,_):We(this._root.current,_),p){if(_){var v=_.getBoundingClientRect(),g=t(u,v);if(g===-1&&n===-1){a=_;break}if(g>-1&&(n===-1||g<n)&&(n=g,a=_),n>=0&&g<0)break}}else{a=_;break}while(_);if(a&&a!==this._activeElement)c=!0,this.focusElement(a);else if(this.props.isCircularNavigation&&l)return i?this.focusElement(Pe(this._root.current,this._root.current.firstElementChild,!0)):this.focusElement(We(this._root.current,this._root.current.lastElementChild,!0,!0,!0));return c},r.prototype._moveFocusDown=function(){var i=this,t=-1,s=this._focusAlignment.left||this._focusAlignment.x||0;return this._moveFocus(!0,function(l,_){var n=-1,a=Math.floor(_.top),c=Math.floor(l.bottom);return a<c?i._shouldWrapFocus(i._activeElement,Vn)?Yn:ci:((t===-1&&a>=c||a===t)&&(t=a,s>=_.left&&s<=_.left+_.width?n=0:n=Math.abs(_.left+_.width/2-s)),n)})?(this._setFocusAlignment(this._activeElement,!1,!0),!0):!1},r.prototype._moveFocusUp=function(){var i=this,t=-1,s=this._focusAlignment.left||this._focusAlignment.x||0;return this._moveFocus(!1,function(l,_){var n=-1,a=Math.floor(_.bottom),c=Math.floor(_.top),p=Math.floor(l.top);return a>p?i._shouldWrapFocus(i._activeElement,Vn)?Yn:ci:((t===-1&&a<=p||c===t)&&(t=c,s>=_.left&&s<=_.left+_.width?n=0:n=Math.abs(_.left+_.width/2-s)),n)})?(this._setFocusAlignment(this._activeElement,!1,!0),!0):!1},r.prototype._moveFocusLeft=function(i){var t=this,s=this._shouldWrapFocus(this._activeElement,Xn);return this._moveFocus(Ue(i),function(l,_){var n=-1,a;return Ue(i)?a=parseFloat(_.top.toFixed(3))<parseFloat(l.bottom.toFixed(3)):a=parseFloat(_.bottom.toFixed(3))>parseFloat(l.top.toFixed(3)),a&&_.right<=l.right&&t.props.direction!==Fe.vertical?n=l.right-_.right:s||(n=ci),n},void 0,s)?(this._setFocusAlignment(this._activeElement,!0,!1),!0):!1},r.prototype._moveFocusRight=function(i){var t=this,s=this._shouldWrapFocus(this._activeElement,Xn);return this._moveFocus(!Ue(i),function(l,_){var n=-1,a;return Ue(i)?a=parseFloat(_.bottom.toFixed(3))>parseFloat(l.top.toFixed(3)):a=parseFloat(_.top.toFixed(3))<parseFloat(l.bottom.toFixed(3)),a&&_.left>=l.left&&t.props.direction!==Fe.vertical?n=_.left-l.left:s||(n=ci),n},void 0,s)?(this._setFocusAlignment(this._activeElement,!0,!1),!0):!1},r.prototype._moveFocusPaging=function(i,t){t===void 0&&(t=!0);var s=this._activeElement;if(!s||!this._root.current||this._isElementInput(s)&&!this._shouldInputLoseFocus(s,i))return!1;var l=eo(s);if(!l)return!1;var _=-1,n=void 0,a=-1,c=-1,p=l.clientHeight,u=s.getBoundingClientRect();do if(s=i?Pe(this._root.current,s):We(this._root.current,s),s){var v=s.getBoundingClientRect(),g=Math.floor(v.top),S=Math.floor(u.bottom),b=Math.floor(v.bottom),o=Math.floor(u.top),h=this._getHorizontalDistanceFromCenter(i,u,v),d=i&&g>S+p,f=!i&&b<o-p;if(d||f)break;h>-1&&(i&&g>a?(a=g,_=h,n=s):!i&&b<c?(c=b,_=h,n=s):(_===-1||h<=_)&&(_=h,n=s))}while(s);var m=!1;if(n&&n!==this._activeElement)m=!0,this.focusElement(n),this._setFocusAlignment(n,!1,!0);else if(this.props.isCircularNavigation&&t)return i?this.focusElement(Pe(this._root.current,this._root.current.firstElementChild,!0)):this.focusElement(We(this._root.current,this._root.current.lastElementChild,!0,!0,!0));return m},r.prototype._setFocusAlignment=function(i,t,s){if(this.props.direction===Fe.bidirectional&&(!this._focusAlignment||t||s)){var l=i.getBoundingClientRect(),_=l.left+l.width/2,n=l.top+l.height/2;this._focusAlignment||(this._focusAlignment={left:_,top:n}),t&&(this._focusAlignment.left=_),s&&(this._focusAlignment.top=n)}},r.prototype._isImmediateDescendantOfZone=function(i){return this._getOwnerZone(i)===this._root.current},r.prototype._getOwnerZone=function(i){for(var t=Ct(i,Kt);t&&t!==this._root.current&&t!==this._getDocument().body;){if(Ot(t))return t;t=Ct(t,Kt)}return t},r.prototype._updateTabIndexes=function(i){!this._activeElement&&this.props.defaultTabbableElement&&typeof this.props.defaultTabbableElement=="function"&&(this._activeElement=this.props.defaultTabbableElement(this._root.current)),!i&&this._root.current&&(this._defaultFocusElement=null,i=this._root.current,this._activeElement&&!Ge(i,this._activeElement)&&(this._activeElement=null)),this._activeElement&&!yt(this._activeElement,void 0,this._inShadowRoot)&&(this._activeElement=null);for(var t=i&&i.children,s=0;t&&s<t.length;s++){var l=t[s];Ot(l)?l.getAttribute(Vi)==="true"&&(!this._isInnerZone&&(!this._activeElement&&!this._defaultFocusElement||this._activeElement===l)?(this._defaultFocusElement=l,l.getAttribute(Tt)!=="0"&&l.setAttribute(Tt,"0")):l.getAttribute(Tt)!=="-1"&&l.setAttribute(Tt,"-1")):(l.getAttribute&&l.getAttribute(Vi)==="false"&&l.setAttribute(Tt,"-1"),yt(l,void 0,this._inShadowRoot)?this.props.disabled?l.setAttribute(Tt,"-1"):!this._isInnerZone&&(!this._activeElement&&!this._defaultFocusElement||this._activeElement===l)?(this._defaultFocusElement=l,l.getAttribute(Tt)!=="0"&&l.setAttribute(Tt,"0")):l.getAttribute(Tt)!=="-1"&&l.setAttribute(Tt,"-1"):l.tagName==="svg"&&l.getAttribute("focusable")!=="false"&&l.setAttribute("focusable","false")),this._updateTabIndexes(l)}},r.prototype._isContentEditableElement=function(i){return i&&i.getAttribute("contenteditable")==="true"},r.prototype._isElementInput=function(i){return!!(i&&i.tagName&&(i.tagName.toLowerCase()==="input"||i.tagName.toLowerCase()==="textarea"))},r.prototype._shouldInputLoseFocus=function(i,t){if(!this._processingTabKey&&i&&i.type&&vf.indexOf(i.type.toLowerCase())>-1){var s=i.selectionStart,l=i.selectionEnd,_=s!==l,n=i.value,a=i.readOnly;if(_||s>0&&!t&&!a||s!==n.length&&t&&!a||this.props.handleTabKey&&!(this.props.shouldInputLoseFocusOnArrowKey&&this.props.shouldInputLoseFocusOnArrowKey(i)))return!1}return!0},r.prototype._shouldWrapFocus=function(i,t){return this.props.checkForNoWrap?Xs(i,t):!0},r.prototype._portalContainsElement=function(i){return i&&!!this._root.current&&$s(i,this._root.current)},r.prototype._getDocument=function(){return ke(this._root.current)},r.contextType=po,r.defaultProps={isCircularNavigation:!1,direction:Fe.bidirectional,shouldRaiseClicks:!0,"data-tabster":'{"uncontrolled": {}}'},r}(I.Component),He;(function(e){e[e.Normal=0]="Normal",e[e.Divider=1]="Divider",e[e.Header=2]="Header",e[e.Section=3]="Section"})(He||(He={}));function Fr(e){return e.canCheck?!!(e.isChecked||e.checked):typeof e.isChecked=="boolean"?e.isChecked:typeof e.checked=="boolean"?e.checked:null}function zt(e){return!!(e.subMenuProps||e.items)}function Rt(e){return!!(e.isDisabled||e.disabled)}function ka(e){var r=Fr(e),i=r!==null;return i?"menuitemcheckbox":"menuitem"}var xa=function(e){var r=e.item,i=e.classNames,t=r.iconProps;return I.createElement(mr,O({},t,{className:i.icon}))},pf=function(e){var r=e.item,i=e.hasIcons;return i?r.onRenderIcon?r.onRenderIcon(e,xa):xa(e):null},mf=function(e){var r=e.onCheckmarkClick,i=e.item,t=e.classNames,s=Fr(i);if(r){var l=function(_){return r(i,_)};return I.createElement(mr,{iconName:i.canCheck!==!1&&s?"CheckMark":"",className:t.checkmarkIcon,onClick:l})}return null},gf=function(e){var r=e.item,i=e.classNames;return r.text||r.name?I.createElement("span",{className:i.label},r.text||r.name):null},bf=function(e){var r=e.item,i=e.classNames;return r.secondaryText?I.createElement("span",{className:i.secondaryText},r.secondaryText):null},Cf=function(e){var r=e.item,i=e.classNames,t=e.theme;return zt(r)?I.createElement(mr,O({iconName:Ue(t)?"ChevronLeft":"ChevronRight"},r.submenuIconProps,{className:i.subMenuIcon})):null},yf=function(e){Le(r,e);function r(i){var t=e.call(this,i)||this;return t.openSubMenu=function(){var s=t.props,l=s.item,_=s.openSubMenu,n=s.getSubmenuTarget;if(n){var a=n();zt(l)&&_&&a&&_(l,a)}},t.dismissSubMenu=function(){var s=t.props,l=s.item,_=s.dismissSubMenu;zt(l)&&_&&_()},t.dismissMenu=function(s){var l=t.props.dismissMenu;l&&l(void 0,s)},lr(t),t}return r.prototype.render=function(){var i=this.props,t=i.item,s=i.classNames,l=t.onRenderContent||this._renderLayout;return I.createElement("div",{className:t.split?s.linkContentMenu:s.linkContent},l(this.props,{renderCheckMarkIcon:mf,renderItemIcon:pf,renderItemName:gf,renderSecondaryText:bf,renderSubMenuIcon:Cf}))},r.prototype._renderLayout=function(i,t){return I.createElement(I.Fragment,null,t.renderCheckMarkIcon(i),t.renderItemIcon(i),t.renderItemName(i),t.renderSecondaryText(i),t.renderSubMenuIcon(i))},r}(I.Component),Sf=ye(function(e){return Gr({wrapper:{display:"inline-flex",height:"100%",alignItems:"center"},divider:{width:1,height:"100%",backgroundColor:e.palette.neutralTertiaryAlt}})}),Qt=36,Da=Bn(0,Go),wf=ye(function(e){var r,i,t,s,l,_=e.semanticColors,n=e.fonts,a=e.palette,c=_.menuItemBackgroundHovered,p=_.menuItemTextHovered,u=_.menuItemBackgroundPressed,v=_.bodyDivider,g={item:[n.medium,{color:_.bodyText,position:"relative",boxSizing:"border-box"}],divider:{display:"block",height:"1px",backgroundColor:v,position:"relative"},root:[Mr(e),n.medium,{color:_.bodyText,backgroundColor:"transparent",border:"none",width:"100%",height:Qt,lineHeight:Qt,display:"block",cursor:"pointer",padding:"0px 8px 0 4px",textAlign:"left"}],rootDisabled:{color:_.disabledBodyText,cursor:"default",pointerEvents:"none",selectors:(r={},r[J]={color:"GrayText",opacity:1},r)},rootHovered:{backgroundColor:c,color:p,selectors:{".ms-ContextualMenu-icon":{color:a.themeDarkAlt},".ms-ContextualMenu-submenuIcon":{color:a.neutralPrimary}}},rootFocused:{backgroundColor:a.white},rootChecked:{selectors:{".ms-ContextualMenu-checkmarkIcon":{color:a.neutralPrimary}}},rootPressed:{backgroundColor:u,selectors:{".ms-ContextualMenu-icon":{color:a.themeDark},".ms-ContextualMenu-submenuIcon":{color:a.neutralPrimary}}},rootExpanded:{backgroundColor:u,color:_.bodyTextChecked,selectors:(i={".ms-ContextualMenu-submenuIcon":(t={},t[J]={color:"inherit"},t)},i[J]=O({},Be()),i)},linkContent:{whiteSpace:"nowrap",height:"inherit",display:"flex",alignItems:"center",maxWidth:"100%"},anchorLink:{padding:"0px 8px 0 4px",textRendering:"auto",color:"inherit",letterSpacing:"normal",wordSpacing:"normal",textTransform:"none",textIndent:"0px",textShadow:"none",textDecoration:"none",boxSizing:"border-box"},label:{margin:"0 4px",verticalAlign:"middle",display:"inline-block",flexGrow:"1",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},secondaryText:{color:e.palette.neutralSecondary,paddingLeft:"20px",textAlign:"right"},icon:{display:"inline-block",minHeight:"1px",maxHeight:Qt,fontSize:Ut.medium,width:Ut.medium,margin:"0 4px",verticalAlign:"middle",flexShrink:"0",selectors:(s={},s[Da]={fontSize:Ut.large,width:Ut.large},s)},iconColor:{color:_.menuIcon},iconDisabled:{color:_.disabledBodyText},checkmarkIcon:{color:_.bodySubtext},subMenuIcon:{height:Qt,lineHeight:Qt,color:a.neutralSecondary,textAlign:"center",display:"inline-block",verticalAlign:"middle",flexShrink:"0",fontSize:Ut.small,selectors:(l={":hover":{color:a.neutralPrimary},":active":{color:a.neutralPrimary}},l[Da]={fontSize:Ut.medium},l)},splitButtonFlexContainer:[Mr(e),{display:"flex",height:Qt,flexWrap:"nowrap",justifyContent:"center",alignItems:"flex-start"}]};return Vt(g)}),Ia="28px",Ef=Bn(0,Go),kf=ye(function(e){var r;return Gr(Sf(e),{wrapper:{position:"absolute",right:28,selectors:(r={},r[Ef]={right:32},r)},divider:{height:16,width:1}})}),xf={item:"ms-ContextualMenu-item",divider:"ms-ContextualMenu-divider",root:"ms-ContextualMenu-link",isChecked:"is-checked",isExpanded:"is-expanded",isDisabled:"is-disabled",linkContent:"ms-ContextualMenu-linkContent",linkContentMenu:"ms-ContextualMenu-linkContent",icon:"ms-ContextualMenu-icon",iconColor:"ms-ContextualMenu-iconColor",checkmarkIcon:"ms-ContextualMenu-checkmarkIcon",subMenuIcon:"ms-ContextualMenu-submenuIcon",label:"ms-ContextualMenu-itemText",secondaryText:"ms-ContextualMenu-secondaryText",splitMenu:"ms-ContextualMenu-splitMenu",screenReaderText:"ms-ContextualMenu-screenReaderText"},Df=ye(function(e,r,i,t,s,l,_,n,a,c,p,u){var v,g,S,b,o=wf(e),h=vt(xf,e);return Gr({item:[h.item,o.item,_],divider:[h.divider,o.divider,n],root:[h.root,o.root,t&&[h.isChecked,o.rootChecked],s&&o.anchorLink,i&&[h.isExpanded,o.rootExpanded],r&&[h.isDisabled,o.rootDisabled],!r&&!i&&[{selectors:(v={":hover":o.rootHovered,":active":o.rootPressed},v[".".concat(se," &:focus, .").concat(se," &:focus:hover, :host(.").concat(se,") &:focus, :host(.").concat(se,") &:focus:hover")]=o.rootFocused,v[".".concat(se," &:hover, :host(.").concat(se,") &:hover")]={background:"inherit;"},v)}],u],splitPrimary:[o.root,{width:"calc(100% - ".concat(Ia,")")},t&&["is-checked",o.rootChecked],(r||p)&&["is-disabled",o.rootDisabled],!(r||p)&&!t&&[{selectors:(g={":hover":o.rootHovered},g[":hover ~ .".concat(h.splitMenu)]=o.rootHovered,g[":active"]=o.rootPressed,g[".".concat(se," &:focus, .").concat(se," &:focus:hover, :host(.").concat(se,") &:focus, :host(.").concat(se,") &:focus:hover")]=o.rootFocused,g[".".concat(se," &:hover, :host(.").concat(se,") &:hover")]={background:"inherit;"},g)}]],splitMenu:[h.splitMenu,o.root,{flexBasis:"0",padding:"0 8px",minWidth:Ia},i&&["is-expanded",o.rootExpanded],r&&["is-disabled",o.rootDisabled],!r&&!i&&[{selectors:(S={":hover":o.rootHovered,":active":o.rootPressed},S[".".concat(se," &:focus, .").concat(se," &:focus:hover, :host(.").concat(se,") &:focus, :host(.").concat(se,") &:focus:hover")]=o.rootFocused,S[".".concat(se," &:hover, :host(.").concat(se,") &:hover")]={background:"inherit;"},S)}]],anchorLink:o.anchorLink,linkContent:[h.linkContent,o.linkContent],linkContentMenu:[h.linkContentMenu,o.linkContent,{justifyContent:"center"}],icon:[h.icon,l&&o.iconColor,o.icon,a,r&&[h.isDisabled,o.iconDisabled]],iconColor:o.iconColor,checkmarkIcon:[h.checkmarkIcon,l&&o.checkmarkIcon,o.icon,a],subMenuIcon:[h.subMenuIcon,o.subMenuIcon,c,i&&{color:e.palette.neutralPrimary},r&&[o.iconDisabled]],label:[h.label,o.label],secondaryText:[h.secondaryText,o.secondaryText],splitContainer:[o.splitButtonFlexContainer,!r&&!t&&[{selectors:(b={},b[".".concat(se," &:focus, .").concat(se," &:focus:hover, :host(.").concat(se,") &:focus, :host(.").concat(se,") &:focus:hover")]=o.rootFocused,b)}]],screenReaderText:[h.screenReaderText,o.screenReaderText,Xo,{visibility:"hidden"}]})}),Ta=function(e){var r=e.theme,i=e.disabled,t=e.expanded,s=e.checked,l=e.isAnchorLink,_=e.knownIcon,n=e.itemClassName,a=e.dividerClassName,c=e.iconClassName,p=e.subMenuClassName,u=e.primaryDisabled,v=e.className;return Df(r,i,t,s,l,_,n,a,c,p,u,v)},hi=et(yf,Ta,void 0,{scope:"ContextualMenuItem"}),Jn=function(e){Le(r,e);function r(i){var t=e.call(this,i)||this;return t._onItemMouseEnter=function(s){var l=t.props,_=l.item,n=l.onItemMouseEnter;n&&n(_,s,s.currentTarget)},t._onItemClick=function(s){var l=t.props,_=l.item,n=l.onItemClickBase;n&&n(_,s,s.currentTarget)},t._onItemMouseLeave=function(s){var l=t.props,_=l.item,n=l.onItemMouseLeave;n&&n(_,s)},t._onItemKeyDown=function(s){var l=t.props,_=l.item,n=l.onItemKeyDown;n&&n(_,s)},t._onItemMouseMove=function(s){var l=t.props,_=l.item,n=l.onItemMouseMove;n&&n(_,s,s.currentTarget)},t._getSubmenuTarget=function(){},lr(t),t}return r.prototype.shouldComponentUpdate=function(i){return!fn(i,this.props)},r}(I.Component),If="ktp",Ra="-",Tf="data-ktp-target",Rf="data-ktp-execute-target",Mf="ktp-layer-id",Mt;(function(e){e.KEYTIP_ADDED="keytipAdded",e.KEYTIP_REMOVED="keytipRemoved",e.KEYTIP_UPDATED="keytipUpdated",e.PERSISTED_KEYTIP_ADDED="persistedKeytipAdded",e.PERSISTED_KEYTIP_REMOVED="persistedKeytipRemoved",e.PERSISTED_KEYTIP_EXECUTE="persistedKeytipExecute",e.ENTER_KEYTIP_MODE="enterKeytipMode",e.EXIT_KEYTIP_MODE="exitKeytipMode"})(Mt||(Mt={}));var Lf=function(){function e(){this.keytips={},this.persistedKeytips={},this.sequenceMapping={},this.inKeytipMode=!1,this.shouldEnterKeytipMode=!0,this.delayUpdatingKeytipChange=!1}return e.getInstance=function(){return this._instance},e.prototype.init=function(r){this.delayUpdatingKeytipChange=r},e.prototype.register=function(r,i){i===void 0&&(i=!1);var t=r;i||(t=this.addParentOverflow(r),this.sequenceMapping[t.keySequences.toString()]=t);var s=this._getUniqueKtp(t);if(i?this.persistedKeytips[s.uniqueID]=s:this.keytips[s.uniqueID]=s,this.inKeytipMode||!this.delayUpdatingKeytipChange){var l=i?Mt.PERSISTED_KEYTIP_ADDED:Mt.KEYTIP_ADDED;St.raise(this,l,{keytip:t,uniqueID:s.uniqueID})}return s.uniqueID},e.prototype.update=function(r,i){var t=this.addParentOverflow(r),s=this._getUniqueKtp(t,i),l=this.keytips[i];l&&(s.keytip.visible=l.keytip.visible,this.keytips[i]=s,delete this.sequenceMapping[l.keytip.keySequences.toString()],this.sequenceMapping[s.keytip.keySequences.toString()]=s.keytip,(this.inKeytipMode||!this.delayUpdatingKeytipChange)&&St.raise(this,Mt.KEYTIP_UPDATED,{keytip:s.keytip,uniqueID:s.uniqueID}))},e.prototype.unregister=function(r,i,t){t===void 0&&(t=!1),t?delete this.persistedKeytips[i]:delete this.keytips[i],!t&&delete this.sequenceMapping[r.keySequences.toString()];var s=t?Mt.PERSISTED_KEYTIP_REMOVED:Mt.KEYTIP_REMOVED;(this.inKeytipMode||!this.delayUpdatingKeytipChange)&&St.raise(this,s,{keytip:r,uniqueID:i})},e.prototype.enterKeytipMode=function(){St.raise(this,Mt.ENTER_KEYTIP_MODE)},e.prototype.exitKeytipMode=function(){St.raise(this,Mt.EXIT_KEYTIP_MODE)},e.prototype.getKeytips=function(){var r=this;return Object.keys(this.keytips).map(function(i){return r.keytips[i].keytip})},e.prototype.addParentOverflow=function(r){var i=ge([],r.keySequences,!0);if(i.pop(),i.length!==0){var t=this.sequenceMapping[i.toString()];if(t&&t.overflowSetSequence)return O(O({},r),{overflowSetSequence:t.overflowSetSequence})}return r},e.prototype.menuExecute=function(r,i){St.raise(this,Mt.PERSISTED_KEYTIP_EXECUTE,{overflowButtonSequences:r,keytipSequences:i})},e.prototype._getUniqueKtp=function(r,i){return i===void 0&&(i=lt()),{keytip:O({},r),uniqueID:i}},e._instance=new e,e}();function Ma(e){return e.reduce(function(r,i){return r+Ra+i.split("").join(Ra)},If)}function Bf(e,r){var i=r.length,t=ge([],r,!0).pop(),s=ge([],e,!0);return Sc(s,i-1,t)}function Af(e){var r=" "+Mf;return e.length?r+" "+Ma(e):r}function Pf(e){var r=I.useRef(),i=e.keytipProps?O({disabled:e.disabled},e.keytipProps):void 0,t=_r(Lf.getInstance()),s=Or(e);Tr(function(){r.current&&i&&((s==null?void 0:s.keytipProps)!==e.keytipProps||(s==null?void 0:s.disabled)!==e.disabled)&&t.update(i,r.current)}),Tr(function(){return i&&(r.current=t.register(i)),function(){i&&t.unregister(i,r.current)}},[]);var l={ariaDescribedBy:e.ariaDescribedBy,keytipId:void 0};return i&&(l=Of(t,i,e.ariaDescribedBy)),l}function Of(e,r,i){var t=e.addParentOverflow(r),s=Dr(i,Af(t.keySequences)),l=ge([],t.keySequences,!0);t.overflowSetSequence&&(l=Bf(l,t.overflowSetSequence));var _=Ma(l);return{ariaDescribedBy:s,keytipId:_}}var di=function(e){var r,i=e.children,t=yr(e,["children"]),s=Pf(t),l=s.keytipId,_=s.ariaDescribedBy;return i((r={},r[Tf]=l,r[Rf]=l,r["aria-describedby"]=_,r))},Nf=function(e){Le(r,e);function r(){var i=e!==null&&e.apply(this,arguments)||this;return i._anchor=I.createRef(),i._getMemoizedMenuButtonKeytipProps=ye(function(t){return O(O({},t),{hasMenu:!0})}),i._getSubmenuTarget=function(){return i._anchor.current?i._anchor.current:void 0},i._onItemClick=function(t){var s=i.props,l=s.item,_=s.onItemClick;_&&_(l,t)},i._renderAriaDescription=function(t,s){return t?I.createElement("span",{id:i._ariaDescriptionId,className:s},t):null},i}return r.prototype.render=function(){var i=this,t=this.props,s=t.item,l=t.classNames,_=t.index,n=t.focusableElementIndex,a=t.totalItemCount,c=t.hasCheckmarks,p=t.hasIcons,u=t.expandedMenuItemKey,v=t.onItemClick,g=t.openSubMenu,S=t.dismissSubMenu,b=t.dismissMenu,o=hi;this.props.item.contextualMenuItemAs&&(o=at(this.props.item.contextualMenuItemAs,o)),this.props.contextualMenuItemAs&&(o=at(this.props.contextualMenuItemAs,o));var h=s.rel;s.target&&s.target.toLowerCase()==="_blank"&&(h=h||"nofollow noopener noreferrer");var d=zt(s),f=De(s,yo),m=Rt(s),y=s.itemProps,w=s.ariaDescription,E=s.keytipProps;E&&d&&(E=this._getMemoizedMenuButtonKeytipProps(E)),w&&(this._ariaDescriptionId=lt());var C=Dr(s.ariaDescribedBy,w?this._ariaDescriptionId:void 0,f["aria-describedby"]),k={"aria-describedby":C};return I.createElement("div",null,I.createElement(di,{keytipProps:s.keytipProps,ariaDescribedBy:C,disabled:m},function(D){return I.createElement("a",O({},k,f,D,{ref:i._anchor,href:s.href,target:s.target,rel:h,className:l.root,role:"menuitem","aria-haspopup":d||void 0,"aria-expanded":d?s.key===u:void 0,"aria-posinset":n+1,"aria-setsize":a,"aria-disabled":Rt(s),style:s.style,onClick:i._onItemClick,onMouseEnter:i._onItemMouseEnter,onMouseLeave:i._onItemMouseLeave,onMouseMove:i._onItemMouseMove,onKeyDown:d?i._onItemKeyDown:void 0}),I.createElement(o,O({componentRef:s.componentRef,item:s,classNames:l,index:_,onCheckmarkClick:c&&v?v:void 0,hasIcons:p,openSubMenu:g,dismissSubMenu:S,dismissMenu:b,getSubmenuTarget:i._getSubmenuTarget},y)),i._renderAriaDescription(w,l.screenReaderText))}))},r}(Jn),Ff=function(e){Le(r,e);function r(){var i=e!==null&&e.apply(this,arguments)||this;return i._btn=I.createRef(),i._getMemoizedMenuButtonKeytipProps=ye(function(t){return O(O({},t),{hasMenu:!0})}),i._renderAriaDescription=function(t,s){return t?I.createElement("span",{id:i._ariaDescriptionId,className:s},t):null},i._getSubmenuTarget=function(){return i._btn.current?i._btn.current:void 0},i}return r.prototype.render=function(){var i=this,t=this.props,s=t.item,l=t.classNames,_=t.index,n=t.focusableElementIndex,a=t.totalItemCount,c=t.hasCheckmarks,p=t.hasIcons,u=t.contextualMenuItemAs,v=t.expandedMenuItemKey,g=t.onItemMouseDown,S=t.onItemClick,b=t.openSubMenu,o=t.dismissSubMenu,h=t.dismissMenu,d=hi;s.contextualMenuItemAs&&(d=at(s.contextualMenuItemAs,d)),u&&(d=at(u,d));var f=Fr(s),m=f!==null,y=ka(s),w=zt(s),E=s.itemProps,C=s.ariaLabel,k=s.ariaDescription,D=De(s,ar);delete D.disabled;var L=s.role||y;k&&(this._ariaDescriptionId=lt());var R=Dr(s.ariaDescribedBy,k?this._ariaDescriptionId:void 0,D["aria-describedby"]),A={className:l.root,onClick:this._onItemClick,onKeyDown:w?this._onItemKeyDown:void 0,onMouseEnter:this._onItemMouseEnter,onMouseLeave:this._onItemMouseLeave,onMouseDown:function(W){return g?g(s,W):void 0},onMouseMove:this._onItemMouseMove,href:s.href,title:s.title,"aria-label":C,"aria-describedby":R,"aria-haspopup":w||void 0,"aria-expanded":w?s.key===v:void 0,"aria-posinset":n+1,"aria-setsize":a,"aria-disabled":Rt(s),"aria-checked":(L==="menuitemcheckbox"||L==="menuitemradio")&&m?!!f:void 0,"aria-selected":L==="menuitem"&&m?!!f:void 0,role:L,style:s.style},N=s.keytipProps;return N&&w&&(N=this._getMemoizedMenuButtonKeytipProps(N)),I.createElement(di,{keytipProps:N,ariaDescribedBy:R,disabled:Rt(s)},function(W){return I.createElement("button",O({ref:i._btn},D,A,W),I.createElement(d,O({componentRef:s.componentRef,item:s,classNames:l,index:_,onCheckmarkClick:c&&S?S:void 0,hasIcons:p,openSubMenu:b,dismissSubMenu:o,dismissMenu:h,getSubmenuTarget:i._getSubmenuTarget},E)),i._renderAriaDescription(k,l.screenReaderText))})},r}(Jn),Hf=function(e){var r=e.theme,i=e.getClassNames,t=e.className;if(!r)throw new Error("Theme is undefined or null.");if(i){var s=i(r);return{wrapper:[s.wrapper],divider:[s.divider]}}return{wrapper:[{display:"inline-flex",height:"100%",alignItems:"center"},t],divider:[{width:1,height:"100%",backgroundColor:r.palette.neutralTertiaryAlt}]}},Wf=Je(),La=I.forwardRef(function(e,r){var i=e.styles,t=e.theme,s=e.getClassNames,l=e.className,_=Wf(i,{theme:t,getClassNames:s,className:l});return I.createElement("span",{className:_.wrapper,ref:r},I.createElement("span",{className:_.divider}))});La.displayName="VerticalDividerBase";var Uf=et(La,Hf,void 0,{scope:"VerticalDivider"}),Kf=500,zf=function(e){Le(r,e);function r(i){var t=e.call(this,i)||this;return t._getMemoizedMenuButtonKeytipProps=ye(function(s){return O(O({},s),{hasMenu:!0})}),t._onItemKeyDown=function(s){var l=t.props,_=l.item,n=l.onItemKeyDown;s.which===Y.enter?(t._executeItemClick(s),s.preventDefault(),s.stopPropagation()):n&&n(_,s)},t._getSubmenuTarget=function(){return t._splitButton},t._renderAriaDescription=function(s,l){return s?I.createElement("span",{id:t._ariaDescriptionId,className:l},s):null},t._onItemMouseEnterPrimary=function(s){var l=t.props,_=l.item,n=l.onItemMouseEnter;n&&n(O(O({},_),{subMenuProps:void 0,items:void 0}),s,t._splitButton)},t._onItemMouseEnterIcon=function(s){var l=t.props,_=l.item,n=l.onItemMouseEnter;n&&n(_,s,t._splitButton)},t._onItemMouseMovePrimary=function(s){var l=t.props,_=l.item,n=l.onItemMouseMove;n&&n(O(O({},_),{subMenuProps:void 0,items:void 0}),s,t._splitButton)},t._onItemMouseMoveIcon=function(s){var l=t.props,_=l.item,n=l.onItemMouseMove;n&&n(_,s,t._splitButton)},t._onIconItemClick=function(s){var l=t.props,_=l.item,n=l.onItemClickBase;n&&n(_,s,t._splitButton?t._splitButton:s.currentTarget)},t._executeItemClick=function(s){var l=t.props,_=l.item,n=l.executeItemClick,a=l.onItemClick;if(!(_.disabled||_.isDisabled)){if(t._processingTouch&&!_.canCheck&&a)return a(_,s);n&&n(_,s)}},t._onTouchStart=function(s){t._splitButton&&!("onpointerdown"in t._splitButton)&&t._handleTouchAndPointerEvent(s)},t._onPointerDown=function(s){s.pointerType==="touch"&&(t._handleTouchAndPointerEvent(s),s.preventDefault(),s.stopImmediatePropagation())},t._async=new Vr(t),t._events=new St(t),t._dismissLabelId=lt(),t}return r.prototype.componentDidMount=function(){this._splitButton&&"onpointerdown"in this._splitButton&&this._events.on(this._splitButton,"pointerdown",this._onPointerDown,!0)},r.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},r.prototype.render=function(){var i=this,t,s=this.props,l=s.item,_=s.classNames,n=s.index,a=s.focusableElementIndex,c=s.totalItemCount,p=s.hasCheckmarks,u=s.hasIcons,v=s.onItemMouseLeave,g=s.expandedMenuItemKey,S=zt(l),b=l.keytipProps;b&&(b=this._getMemoizedMenuButtonKeytipProps(b));var o=l.ariaDescription;o&&(this._ariaDescriptionId=lt());var h=(t=Fr(l))!==null&&t!==void 0?t:void 0;return I.createElement(di,{keytipProps:b,disabled:Rt(l)},function(d){return I.createElement("div",{"data-ktp-target":d["data-ktp-target"],ref:function(f){return i._splitButton=f},role:ka(l),"aria-label":l.ariaLabel,className:_.splitContainer,"aria-disabled":Rt(l),"aria-expanded":S?l.key===g:void 0,"aria-haspopup":!0,"aria-describedby":Dr(l.ariaDescribedBy,o?i._ariaDescriptionId:void 0,d["aria-describedby"]),"aria-checked":h,"aria-posinset":a+1,"aria-setsize":c,onMouseEnter:i._onItemMouseEnterPrimary,onMouseLeave:v?v.bind(i,O(O({},l),{subMenuProps:null,items:null})):void 0,onMouseMove:i._onItemMouseMovePrimary,onKeyDown:i._onItemKeyDown,onClick:i._executeItemClick,onTouchStart:i._onTouchStart,tabIndex:0,"data-is-focusable":!0,"aria-roledescription":l["aria-roledescription"]},i._renderSplitPrimaryButton(l,_,n,p,u),i._renderSplitDivider(l),i._renderSplitIconButton(l,_,n,d),i._renderAriaDescription(o,_.screenReaderText))})},r.prototype._renderSplitPrimaryButton=function(i,t,s,l,_){var n=this.props,a=n.contextualMenuItemAs,c=a===void 0?hi:a,p=n.onItemClick,u={key:i.key,disabled:Rt(i)||i.primaryDisabled,name:i.name,text:i.text||i.name,secondaryText:i.secondaryText,className:t.splitPrimary,canCheck:i.canCheck,isChecked:i.isChecked,checked:i.checked,iconProps:i.iconProps,id:this._dismissLabelId,onRenderIcon:i.onRenderIcon,data:i.data,"data-is-focusable":!1},v=i.itemProps;return I.createElement("button",O({},De(u,ar)),I.createElement(c,O({"data-is-focusable":!1,item:O(O({},u),{onClick:i.onClick}),classNames:t,index:s,onCheckmarkClick:l&&p?p:void 0,hasIcons:_},v)))},r.prototype._renderSplitDivider=function(i){var t=i.getSplitButtonVerticalDividerClassNames||kf;return I.createElement(Uf,{getClassNames:t})},r.prototype._renderSplitIconButton=function(i,t,s,l){var _=this.props,n=_.onItemMouseLeave,a=_.onItemMouseDown,c=_.openSubMenu,p=_.dismissSubMenu,u=_.dismissMenu,v=hi;this.props.item.contextualMenuItemAs&&(v=at(this.props.item.contextualMenuItemAs,v)),this.props.contextualMenuItemAs&&(v=at(this.props.contextualMenuItemAs,v));var g={onClick:this._onIconItemClick,disabled:Rt(i),className:t.splitMenu,subMenuProps:i.subMenuProps,submenuIconProps:i.submenuIconProps,split:!0,key:i.key,"aria-labelledby":this._dismissLabelId},S=O(O({},De(g,ar)),{onMouseEnter:this._onItemMouseEnterIcon,onMouseLeave:n?n.bind(this,i):void 0,onMouseDown:function(o){return a?a(i,o):void 0},onMouseMove:this._onItemMouseMoveIcon,"data-is-focusable":!1,"data-ktp-execute-target":l["data-ktp-execute-target"],"aria-haspopup":!0}),b=i.itemProps;return I.createElement("button",O({},S),I.createElement(v,O({componentRef:i.componentRef,item:g,classNames:t,index:s,hasIcons:!1,openSubMenu:c,dismissSubMenu:p,dismissMenu:u,getSubmenuTarget:this._getSubmenuTarget},b)))},r.prototype._handleTouchAndPointerEvent=function(i){var t=this,s=this.props.onTap;s&&s(i),this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout(function(){t._processingTouch=!1,t._lastTouchTimeoutId=void 0},Kf)},r}(Jn),Hr;(function(e){e[e.small=0]="small",e[e.medium=1]="medium",e[e.large=2]="large",e[e.xLarge=3]="xLarge",e[e.xxLarge=4]="xxLarge",e[e.xxxLarge=5]="xxxLarge",e[e.unknown=999]="unknown"})(Hr||(Hr={}));var jf=[479,639,1023,1365,1919,99999999],Ba;function Aa(){var e;return(e=Ba)!==null&&e!==void 0?e:Hr.large}function $f(e){try{return e.document.documentElement.clientWidth}catch{return e.innerWidth}}function qf(e){var r=Hr.small;if(e){try{for(;$f(e)>jf[r];)r++}catch{r=Aa()}Ba=r}else throw new Error("Content was rendered in a server environment without providing a default responsive mode. Call setResponsiveMode to define what the responsive mode is.");return r}var Pa=function(e,r){var i=I.useState(Aa()),t=i[0],s=i[1],l=I.useCallback(function(){var n=qf(_e(e.current));t!==n&&s(n)},[e,t]),_=Li();return oi(_,"resize",l),I.useEffect(function(){r===void 0&&l()},[r]),r??t},Gf=I.createContext({}),Vf=Je(),Xf=Je(),Yf={items:[],shouldFocusOnMount:!0,gapSpace:0,directionalHint:Se.bottomAutoEdge,beakWidth:16};function Oa(e){for(var r=0,i=0,t=e;i<t.length;i++){var s=t[i];if(s.itemType!==He.Divider&&s.itemType!==He.Header){var l=s.customOnRenderListLength?s.customOnRenderListLength:1;r+=l}}return r}function Na(e,r){var i=r==null?void 0:r.target,t=e.subMenuProps?e.subMenuProps.items:e.items;if(t){for(var s=[],l=0,_=t;l<_.length;l++){var n=_[l];if(n.preferMenuTargetAsEventTarget){var a=n.onClick,c=yr(n,["onClick"]);s.push(O(O({},c),{onClick:za(a,i)}))}else s.push(n)}return s}}function Zf(e){return e.some(function(r){return!!(r.canCheck||r.sectionProps&&r.sectionProps.items.some(function(i){return i.canCheck===!0}))})}var Fa=250,Qn="ContextualMenu",Jf=ye(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(i){return Ks.apply(void 0,ge([i,Ta],e,!1))}});function Qf(e,r){var i=e.hidden,t=i===void 0?!1:i,s=e.onMenuDismissed,l=e.onMenuOpened,_=Or(t),n=I.useRef(l),a=I.useRef(s),c=I.useRef(e);n.current=l,a.current=s,c.current=e,I.useEffect(function(){var p,u;t&&_===!1?(p=a.current)===null||p===void 0||p.call(a,c.current):!t&&_!==!1&&((u=n.current)===null||u===void 0||u.call(n,c.current))},[t,_]),I.useEffect(function(){return function(){var p;return(p=a.current)===null||p===void 0?void 0:p.call(a,c.current)}},[])}function e_(e,r){var i=e.hidden,t=e.items,s=e.theme,l=e.className,_=e.id,n=e.target,a=I.useState(),c=a[0],p=a[1],u=I.useState(),v=u[0],g=u[1],S=I.useState(),b=S[0],o=S[1],h=ji(Qn,_),d=I.useCallback(function(){o(void 0),p(void 0),g(void 0)},[]),f=I.useCallback(function(w,E,C){var k=w.key;c!==k&&(E.focus(),o(C),p(k),g(E))},[c]);I.useEffect(function(){i&&d()},[i,d]);var m=s_(r,d),y=function(){var w=Ka(c,t),E=null;if(w&&(E={items:Na(w,{target:n}),target:v,onDismiss:m,isSubMenu:!0,id:h,shouldFocusOnMount:!0,shouldFocusOnContainer:b,directionalHint:Ue(s)?Se.leftTopEdge:Se.rightTopEdge,className:l,gapSpace:0,isBeakVisible:!1},w.subMenuProps&&sr(E,w.subMenuProps),w.preferMenuTargetAsEventTarget)){var C=w.onItemClick;E.onItemClick=za(C,n)}return E};return[c,f,y,m]}function t_(e){var r=e.delayUpdateFocusOnHover,i=e.hidden,t=I.useRef(!r),s=I.useRef(!1);I.useEffect(function(){t.current=!r,s.current=i?!1:!r&&s.current},[r,i]);var l=I.useCallback(function(){r&&(t.current=!1)},[r]);return[t,s,l]}function r_(e,r,i){var t=e.hidden,s=e.onRestoreFocus,l=I.useRef(),_=I.useCallback(function(n){var a,c;s?s(n):n!=null&&n.documentContainsFocus&&((c=(a=l.current)===null||a===void 0?void 0:a.focus)===null||c===void 0||c.call(a))},[s]);return Tr(function(){var n,a;if(t)l.current&&(_({originalElement:l.current,containsFocus:!0,documentContainsFocus:((a=ke())===null||a===void 0?void 0:a.hasFocus())||!1}),l.current=void 0);else{var c=r==null?void 0:r.document.activeElement;!(!((n=i.current)===null||n===void 0)&&n.contains(c))&&c.tagName!=="BODY"&&(l.current=c)}},[t,r==null?void 0:r.document.activeElement,_,i]),[_]}function i_(e,r,i,t){var s=e.theme,l=e.isSubMenu,_=e.focusZoneProps,n=_===void 0?{}:_,a=n.checkForNoWrap,c=n.direction,p=c===void 0?Fe.vertical:c,u=I.useRef(),v=function(m,y,w){var E=!1;return y(m)&&(r(m,w),m.preventDefault(),m.stopPropagation(),E=!0),E},g=function(m){var y=Ue(s)?Y.right:Y.left;return m.which!==y||!l?!1:!!(p===Fe.vertical||a&&!Xs(m.target,"data-no-horizontal-wrap"))},S=function(m){return m.which===Y.escape||g(m)||m.which===Y.up&&(m.altKey||m.metaKey)},b=function(m){u.current=Wa(m);var y=m.which===Y.escape&&(Tn()||Dn());return v(m,S,y)},o=function(m){var y=u.current&&Wa(m);return u.current=!1,!!y&&!(Dn()||Tn())},h=function(m){return v(m,o,!0)},d=function(m){var y=b(m);if(!(y||!i.current)){var w=!!(m.altKey||m.metaKey),E=m.which===Y.up,C=m.which===Y.down;if(!w&&(E||C)){var k=E?Gs(i.current,i.current.lastChild,!0):qs(i.current,i.current.firstChild,!0);k&&(k.focus(),m.preventDefault(),m.stopPropagation())}}},f=function(m,y){var w=Ue(s)?Y.left:Y.right;!m.disabled&&(y.which===w||y.which===Y.enter||y.which===Y.down&&(y.altKey||y.metaKey))&&(t(m,y.currentTarget),y.preventDefault())};return[b,h,d,f]}function n_(e){var r=I.useRef(!0),i=I.useRef(),t=function(){!r.current&&i.current!==void 0?(e.clearTimeout(i.current),i.current=void 0):r.current=!1,i.current=e.setTimeout(function(){r.current=!0},Fa)};return[t,r]}function s_(e,r){var i=I.useRef(!1);I.useEffect(function(){return i.current=!0,function(){i.current=!1}},[]);var t=function(s,l){l?e(s,l):i.current&&r()};return t}function o_(e,r){var i=e.subMenuHoverDelay,t=i===void 0?Fa:i,s=I.useRef(void 0),l=function(){s.current!==void 0&&(r.clearTimeout(s.current),s.current=void 0)},_=function(n){s.current=r.setTimeout(function(){n(),l()},t)};return[l,_,s]}function a_(e,r,i,t,s,l,_,n,a,c,p,u,v){var g=e.target,S=function(E,C,k){s.current&&(l.current=!0),!o()&&d(E,C,k)},b=function(E,C,k){var D=C.currentTarget;if(s.current)l.current=!0;else return;!r.current||i.current!==void 0||D===(t==null?void 0:t.document.activeElement)||d(E,C,k)},o=function(){return!r.current||!l.current},h=function(E,C){var k;if(!o()&&(c(),_===void 0))if(n.current.setActive)try{n.current.setActive()}catch{}else(k=n.current)===null||k===void 0||k.focus()},d=function(E,C,k){var D=k||C.currentTarget;E.key!==_&&(c(),_===void 0&&D.focus(),zt(E)?(C.stopPropagation(),a(function(){D.focus(),p(E,D,!0)})):a(function(){u(C),D.focus()}))},f=function(E,C){m(E,C,C.currentTarget)},m=function(E,C,k){var D=Na(E,{target:g});if(c(),!zt(E)&&(!D||!D.length))w(E,C);else if(E.key!==_){var L=typeof e.shouldFocusOnContainer=="boolean"?e.shouldFocusOnContainer:C.nativeEvent.pointerType==="mouse";p(E,k,L)}C.stopPropagation(),C.preventDefault()},y=function(E,C){w(E,C),C.stopPropagation()},w=function(E,C){if(!(E.disabled||E.isDisabled)){E.preferMenuTargetAsEventTarget&&ja(C,g);var k=!1;E.onClick?k=!!E.onClick(C,E):e.onItemClick&&(k=!!e.onItemClick(C,E)),(k||!C.defaultPrevented)&&v(C,!0)}};return[S,b,h,f,y,w,m]}var Ha=I.memo(I.forwardRef(function(e,r){var i,t=Qr(Yf,e);t.ref;var s=yr(t,["ref"]),l=I.useRef(null),_=Pr(),n=ji(Qn,s.id);Hn({name:Qn,props:s,deprecations:{getMenuClassNames:"styles"}});var a=function(q,ie){var ce;return(ce=s.onDismiss)===null||ce===void 0?void 0:ce.call(s,q,ie)},c=ca(s.target,l),p=c[0],u=c[1],v=r_(s,u,l)[0],g=e_(s,a),S=g[0],b=g[1],o=g[2],h=g[3],d=t_(s),f=d[0],m=d[1],y=d[2],w=n_(_),E=w[0],C=w[1],k=o_(s,_),D=k[0],L=k[1],R=k[2],A=Pa(l,s.responsiveMode);Qf(s);var N=i_(s,a,l,b),W=N[0],U=N[1],F=N[2],x=N[3],M=a_(s,C,R,u,f,m,S,l,L,D,b,h,a),B=M[0],P=M[1],j=M[2],$=M[3],G=M[4],X=M[5],ne=M[6],T=function(q,ie,ce){var ue=0,je=q.items,Ze=q.totalItemCount,oe=q.hasCheckmarks,$e=q.hasIcons;return I.createElement("ul",{className:ie.list,onKeyDown:W,onKeyUp:U,role:"presentation"},je.map(function(Ee,Ae){var ht=z(Ee,Ae,ue,Ze,oe,$e,ie);if(Ee.itemType!==He.Divider&&Ee.itemType!==He.Header){var gt=Ee.customOnRenderListLength?Ee.customOnRenderListLength:1;ue+=gt}return ht}))},H=function(q,ie){var ce=s.focusZoneAs,ue=ce===void 0?Ea:ce;return I.createElement(ue,O({},ie),q)},z=function(q,ie,ce,ue,je,Ze,oe){var $e,Ee=[],Ae=q.iconProps||{iconName:"None"},ht=q.getItemClassNames,gt=q.itemProps,rn=gt?gt.styles:void 0,mi=q.itemType===He.Divider?q.className:void 0,ir=q.submenuIconProps?q.submenuIconProps.className:"",bt;if(ht)bt=ht(s.theme,Rt(q),S===q.key,!!Fr(q),!!q.href,Ae.iconName!=="None",q.className,mi,Ae.className,ir,q.primaryDisabled);else{var bs={theme:s.theme,disabled:Rt(q),expanded:S===q.key,checked:!!Fr(q),isAnchorLink:!!q.href,knownIcon:Ae.iconName!=="None",itemClassName:q.className,dividerClassName:mi,iconClassName:Ae.className,subMenuClassName:ir,primaryDisabled:q.primaryDisabled};bt=Xf(Jf(($e=oe.subComponentStyles)===null||$e===void 0?void 0:$e.menuItem,rn),bs)}switch((q.text==="-"||q.name==="-")&&(q.itemType=He.Divider),q.itemType){case He.Divider:Ee.push(te(ie,bt));break;case He.Header:Ee.push(te(ie,bt));var Cs=Ie(q,bt,oe,ie,je,Ze);Ee.push(V(Cs,q.key||ie,bt,q.title));break;case He.Section:Ee.push(Q(q,bt,oe,ie,je,Ze));break;default:var gl=function(){return we(q,bt,ie,ce,ue,je,Ze)},Dv=s.onRenderContextualMenuItem?s.onRenderContextualMenuItem(q,gl):gl();Ee.push(V(Dv,q.key||ie,bt,q.title));break}return I.createElement(I.Fragment,{key:q.key},Ee)},K=function(q,ie){var ce=q.index,ue=q.focusableElementIndex,je=q.totalItemCount,Ze=q.hasCheckmarks,oe=q.hasIcons;return z(q,ce,ue,je,Ze,oe,ie)},Q=function(q,ie,ce,ue,je,Ze){var oe=q.sectionProps;if(oe){var $e,Ee;if(oe.title){var Ae=void 0,ht="";if(typeof oe.title=="string"){var gt=n+oe.title.replace(/\s/g,"");Ae={key:"section-".concat(oe.title,"-title"),itemType:He.Header,text:oe.title,id:gt},ht=gt}else{var rn=oe.title.id||n+oe.title.key.replace(/\s/g,"");Ae=O(O({},oe.title),{id:rn}),ht=rn}Ae&&(Ee={role:"group","aria-labelledby":ht},$e=Ie(Ae,ie,ce,ue,je,Ze))}if(oe.items&&oe.items.length>0){var mi=0;return I.createElement("li",{role:"presentation",key:oe.key||q.key||"section-".concat(ue)},I.createElement("div",O({},Ee),I.createElement("ul",{className:ce.list,role:"presentation"},oe.topDivider&&te(ue,ie,!0,!0),$e&&V($e,q.key||ue,ie,q.title),oe.items.map(function(ir,bt){var bs=z(ir,bt,mi,Oa(oe.items),je,Ze,ce);if(ir.itemType!==He.Divider&&ir.itemType!==He.Header){var Cs=ir.customOnRenderListLength?ir.customOnRenderListLength:1;mi+=Cs}return bs}),oe.bottomDivider&&te(ue,ie,!1,!0))))}}},V=function(q,ie,ce,ue){return I.createElement("li",{role:"presentation",title:ue,key:ie,className:ce.item},q)},te=function(q,ie,ce,ue){return ue||q>0?I.createElement("li",{role:"separator",key:"separator-"+q+(ce===void 0?"":ce?"-top":"-bottom"),className:ie.divider,"aria-hidden":"true"}):null},we=function(q,ie,ce,ue,je,Ze,oe){if(q.onRender)return q.onRender(O({"aria-posinset":ue+1,"aria-setsize":je},q),a);var $e=s.contextualMenuItemAs,Ee={item:q,classNames:ie,index:ce,focusableElementIndex:ue,totalItemCount:je,hasCheckmarks:Ze,hasIcons:oe,contextualMenuItemAs:$e,onItemMouseEnter:B,onItemMouseLeave:j,onItemMouseMove:P,onItemMouseDown:l_,executeItemClick:X,onItemKeyDown:x,expandedMenuItemKey:S,openSubMenu:b,dismissSubMenu:h,dismissMenu:a};if(q.href){var Ae=Nf;return q.contextualMenuItemWrapperAs&&(Ae=at(q.contextualMenuItemWrapperAs,Ae)),I.createElement(Ae,O({},Ee,{onItemClick:G}))}if(q.split&&zt(q)){var ht=zf;return q.contextualMenuItemWrapperAs&&(ht=at(q.contextualMenuItemWrapperAs,ht)),I.createElement(ht,O({},Ee,{onItemClick:$,onItemClickBase:ne,onTap:D}))}var gt=Ff;return q.contextualMenuItemWrapperAs&&(gt=at(q.contextualMenuItemWrapperAs,gt)),I.createElement(gt,O({},Ee,{onItemClick:$,onItemClickBase:ne}))},Ie=function(q,ie,ce,ue,je,Ze){var oe=hi;q.contextualMenuItemAs&&(oe=at(q.contextualMenuItemAs,oe)),s.contextualMenuItemAs&&(oe=at(s.contextualMenuItemAs,oe));var $e=q.itemProps,Ee=q.id,Ae=$e&&De($e,Wt);return I.createElement("div",O({id:Ee,className:ce.header},Ae,{style:q.style}),I.createElement(oe,O({item:q,classNames:ie,index:ue,onCheckmarkClick:je?$:void 0,hasIcons:Ze},$e)))},it=s.isBeakVisible,ee=s.items,er=s.labelElementId,_i=s.id,Ur=s.className,vi=s.beakWidth,Kr=s.directionalHint,Ye=s.directionalHintForRTL,br=s.alignTargetEdge,ut=s.gapSpace,Cr=s.coverTarget,zr=s.ariaLabel,Bt=s.doNotLayer,pi=s.target,At=s.bounds,tr=s.useTargetWidth,de=s.useTargetAsMinWidth,vs=s.directionalHintFixed,vv=s.shouldFocusOnMount,pv=s.shouldFocusOnContainer,ul=s.title,mv=s.styles,hl=s.theme,ps=s.calloutProps,dl=s.onRenderSubMenu,gv=dl===void 0?Ua:dl,fl=s.onRenderMenuList,bv=fl===void 0?function(q,ie){return T(q,rr)}:fl,Cv=s.focusZoneProps,_l=s.getMenuClassNames,rr=_l?_l(hl,Ur):Vf(mv,{theme:hl,className:Ur}),yv=vl(ee);function vl(q){for(var ie=0,ce=q;ie<ce.length;ie++){var ue=ce[ie];if(ue.iconProps||ue.itemType===He.Section&&ue.sectionProps&&vl(ue.sectionProps.items))return!0}return!1}var Sv=O(O({direction:Fe.vertical,handleTabKey:qn.all,isCircularNavigation:!0,"data-tabster":'{"uncontrolled": {}, "focusable": { "excludeFromMover": true }}'},Cv),{className:Qe(rr.root,(i=s.focusZoneProps)===null||i===void 0?void 0:i.className)}),wv=Zf(ee),pl=S&&s.hidden!==!0?o():null;it=it===void 0?A<=Hr.medium:it;var ms,gs=p.current;if((tr||de)&&gs&&gs.offsetWidth){var Ev=gs.getBoundingClientRect(),ml=Ev.width-2;tr?ms={width:ml}:de&&(ms={minWidth:ml})}if(ee&&ee.length>0){var kv=Oa(ee),xv=rr.subComponentStyles?rr.subComponentStyles.callout:void 0;return I.createElement(Gf.Consumer,null,function(q){return I.createElement(zn,O({styles:xv,onRestoreFocus:v},ps,{target:pi||q.target,isBeakVisible:it,beakWidth:vi,directionalHint:Kr,directionalHintForRTL:Ye,gapSpace:ut,coverTarget:Cr,doNotLayer:Bt,className:Qe("ms-ContextualMenu-Callout",ps&&ps.className),setInitialFocus:vv,onDismiss:s.onDismiss||q.onDismiss,onScroll:E,bounds:At,directionalHintFixed:vs,alignTargetEdge:br,hidden:s.hidden||q.hidden,ref:r}),I.createElement("div",{style:ms,ref:l,id:_i,className:rr.container,tabIndex:pv?0:-1,onKeyDown:F,onKeyUp:U,onFocusCapture:y,"aria-label":zr,"aria-labelledby":er,role:"menu"},ul&&I.createElement("div",{className:rr.title}," ",ul," "),ee&&ee.length?H(bv({ariaLabel:zr,items:ee,totalItemCount:kv,hasCheckmarks:wv,hasIcons:yv,defaultMenuItemRenderer:function(ie){return K(ie,rr)},labelElementId:er},function(ie,ce){return T(ie,rr)}),Sv):null,pl&&gv(pl,Ua)),I.createElement(To,null))})}else return null}),function(e,r){return!r.shouldUpdateWhenHidden&&e.hidden&&r.hidden?!0:fn(e,r)});Ha.displayName="ContextualMenuBase";function Wa(e){return e.which===Y.alt||e.key==="Meta"}function l_(e,r){var i;(i=e.onMouseDown)===null||i===void 0||i.call(e,e,r)}function Ua(e,r){throw Error("ContextualMenuBase: onRenderSubMenu callback is null or undefined. Please ensure to set `onRenderSubMenu` property either manually or with `styled` helper.")}function Ka(e,r){for(var i=0,t=r;i<t.length;i++){var s=t[i];if(s.itemType===He.Section&&s.sectionProps){var l=Ka(e,s.sectionProps.items);if(l)return l}else if(s.key&&s.key===e)return s}}function za(e,r){return e&&function(i,t){return ja(i,r),e(i,t)}}function ja(e,r){e&&r&&(e.persist(),r instanceof Event?e.target=r.target:r instanceof Element&&(e.target=r))}var c_={root:"ms-ContextualMenu",container:"ms-ContextualMenu-container",list:"ms-ContextualMenu-list",header:"ms-ContextualMenu-header",title:"ms-ContextualMenu-title",isopen:"is-open"},u_=function(e){var r=e.className,i=e.theme,t=vt(c_,i),s=i.fonts,l=i.semanticColors,_=i.effects;return{root:[i.fonts.medium,t.root,t.isopen,{backgroundColor:l.menuBackground,minWidth:"180px"},r],container:[t.container,{selectors:{":focus":{outline:0}}}],list:[t.list,t.isopen,{listStyleType:"none",margin:"0",padding:"0"}],header:[t.header,s.small,{fontWeight:ve.semibold,color:l.menuHeader,background:"none",backgroundColor:"transparent",border:"none",height:Qt,lineHeight:Qt,cursor:"default",padding:"0px 6px",userSelect:"none",textAlign:"left"}],title:[t.title,{fontSize:s.mediumPlus.fontSize,paddingRight:"14px",paddingLeft:"14px",paddingBottom:"5px",paddingTop:"5px",backgroundColor:l.menuItemBackgroundPressed}],subComponentStyles:{callout:{root:{boxShadow:_.elevation8}},menuItem:{}}}};function $a(e){return I.createElement(qa,O({},e))}var qa=et(Ha,u_,function(e){return{onRenderSubMenu:e.onRenderSubMenu?mu(e.onRenderSubMenu,$a):$a}},{scope:"ContextualMenu"}),es=qa;es.displayName="ContextualMenu";var Ga={msButton:"ms-Button",msButtonHasMenu:"ms-Button--hasMenu",msButtonIcon:"ms-Button-icon",msButtonMenuIcon:"ms-Button-menuIcon",msButtonLabel:"ms-Button-label",msButtonDescription:"ms-Button-description",msButtonScreenReaderText:"ms-Button-screenReaderText",msButtonFlexContainer:"ms-Button-flexContainer",msButtonTextContainer:"ms-Button-textContainer"},h_=ye(function(e,r,i,t,s,l,_,n,a,c,p){var u,v,g=vt(Ga,e||{}),S=c&&!p;return Gr(r.__shadowConfig__,{root:[g.msButton,r.root,t,a&&["is-checked",r.rootChecked],S&&["is-expanded",r.rootExpanded,(u={},u[":hover .".concat(g.msButtonIcon)]=r.iconExpandedHovered,u[":hover .".concat(g.msButtonMenuIcon)]=r.menuIconExpandedHovered||r.rootExpandedHovered,u[":hover"]=r.rootExpandedHovered,u)],n&&[Ga.msButtonHasMenu,r.rootHasMenu],_&&["is-disabled",r.rootDisabled],!_&&!S&&!a&&(v={":hover":r.rootHovered},v[":hover .".concat(g.msButtonLabel)]=r.labelHovered,v[":hover .".concat(g.msButtonIcon)]=r.iconHovered,v[":hover .".concat(g.msButtonDescription)]=r.descriptionHovered,v[":hover .".concat(g.msButtonMenuIcon)]=r.menuIconHovered,v[":focus"]=r.rootFocused,v[":active"]=r.rootPressed,v[":active .".concat(g.msButtonIcon)]=r.iconPressed,v[":active .".concat(g.msButtonDescription)]=r.descriptionPressed,v[":active .".concat(g.msButtonMenuIcon)]=r.menuIconPressed,v),_&&a&&[r.rootCheckedDisabled],!_&&a&&{":hover":r.rootCheckedHovered,":active":r.rootCheckedPressed},i],flexContainer:[g.msButtonFlexContainer,r.flexContainer],textContainer:[g.msButtonTextContainer,r.textContainer],icon:[g.msButtonIcon,s,r.icon,S&&r.iconExpanded,a&&r.iconChecked,_&&r.iconDisabled],label:[g.msButtonLabel,r.label,a&&r.labelChecked,_&&r.labelDisabled],menuIcon:[g.msButtonMenuIcon,l,r.menuIcon,a&&r.menuIconChecked,_&&!p&&r.menuIconDisabled,!_&&!S&&!a&&{":hover":r.menuIconHovered,":active":r.menuIconPressed},S&&["is-expanded",r.menuIconExpanded]],description:[g.msButtonDescription,r.description,a&&r.descriptionChecked,_&&r.descriptionDisabled],screenReaderText:[g.msButtonScreenReaderText,r.screenReaderText]})}),d_={msSplitButtonDivider:"ms-SplitButton-divider"},f_=ye(function(e,r,i,t,s){return{root:Pt(e.splitButtonMenuButton,i&&[e.splitButtonMenuButtonExpanded],r&&[e.splitButtonMenuButtonDisabled],t&&!r&&[e.splitButtonMenuButtonChecked],s&&!r&&[{":focus":e.splitButtonMenuFocused}]),splitButtonContainer:Pt(e.splitButtonContainer,!r&&t&&[e.splitButtonContainerChecked,{":hover":e.splitButtonContainerCheckedHovered}],!r&&!t&&[{":hover":e.splitButtonContainerHovered,":focus":e.splitButtonContainerFocused}],r&&e.splitButtonContainerDisabled),icon:Pt(e.splitButtonMenuIcon,r&&e.splitButtonMenuIconDisabled,!r&&s&&e.splitButtonMenuIcon),flexContainer:Pt(e.splitButtonFlexContainer),divider:Pt(d_.msSplitButtonDivider,e.splitButtonDivider,(s||r)&&e.splitButtonDividerDisabled)}}),__=500,Va="BaseButton",ts=function(e){Le(r,e);function r(i){var t=e.call(this,i)||this;return t._buttonElement=I.createRef(),t._splitButtonContainer=I.createRef(),t._mergedRef=Ho(),t._renderedVisibleMenu=!1,t._getMemoizedMenuButtonKeytipProps=ye(function(s){return O(O({},s),{hasMenu:!0})}),t._onRenderIcon=function(s,l){var _=t.props.iconProps;if(_&&(_.iconName!==void 0||_.imageProps)){var n=_.className,a=_.imageProps,c=yr(_,["className","imageProps"]);if(_.styles)return I.createElement(mr,O({className:Qe(t._classNames.icon,n),imageProps:a},c));if(_.iconName)return I.createElement($n,O({className:Qe(t._classNames.icon,n)},c));if(a)return I.createElement(uf,O({className:Qe(t._classNames.icon,n),imageProps:a},c))}return null},t._onRenderTextContents=function(){var s=t.props,l=s.text,_=s.children,n=s.secondaryText,a=n===void 0?t.props.description:n,c=s.onRenderText,p=c===void 0?t._onRenderText:c,u=s.onRenderDescription,v=u===void 0?t._onRenderDescription:u;return l||typeof _=="string"||a?I.createElement("span",{className:t._classNames.textContainer},p(t.props,t._onRenderText),v(t.props,t._onRenderDescription)):[p(t.props,t._onRenderText),v(t.props,t._onRenderDescription)]},t._onRenderText=function(){var s=t.props.text,l=t.props.children;return s===void 0&&typeof l=="string"&&(s=l),t._hasText()?I.createElement("span",{key:t._labelId,className:t._classNames.label,id:t._labelId},s):null},t._onRenderChildren=function(){var s=t.props.children;return typeof s=="string"?null:s},t._onRenderDescription=function(s){var l=s.secondaryText,_=l===void 0?t.props.description:l;return _?I.createElement("span",{key:t._descriptionId,className:t._classNames.description,id:t._descriptionId},_):null},t._onRenderAriaDescription=function(){var s=t.props.ariaDescription;return s?I.createElement("span",{className:t._classNames.screenReaderText,id:t._ariaDescriptionId},s):null},t._onRenderMenuIcon=function(s){var l=t.props.menuIconProps;return I.createElement($n,O({iconName:"ChevronDown"},l,{className:t._classNames.menuIcon}))},t._onRenderMenu=function(s){var l=t.props.menuAs?at(t.props.menuAs,es):es;return I.createElement(l,O({},s))},t._onDismissMenu=function(s){var l=t.props.menuProps;l&&l.onDismiss&&l.onDismiss(s),(!s||!s.defaultPrevented)&&t._dismissMenu()},t._dismissMenu=function(){t._menuShouldFocusOnMount=void 0,t._menuShouldFocusOnContainer=void 0,t.setState({menuHidden:!0})},t._openMenu=function(s,l){l===void 0&&(l=!0),t.props.menuProps&&(t._menuShouldFocusOnContainer=s,t._menuShouldFocusOnMount=l,t._renderedVisibleMenu=!0,t.setState({menuHidden:!1}))},t._onToggleMenu=function(s){var l=!0;t.props.menuProps&&t.props.menuProps.shouldFocusOnMount===!1&&(l=!1),t.state.menuHidden?t._openMenu(s,l):t._dismissMenu()},t._onSplitContainerFocusCapture=function(s){var l=t._splitButtonContainer.current;!l||s.target&&$s(s.target,l)||l.focus()},t._onSplitButtonPrimaryClick=function(s){t.state.menuHidden||t._dismissMenu();var l=t._processingTouch&&!t.props.toggle;!l&&t.props.onClick?t.props.onClick(s):l&&t._onMenuClick(s)},t._onKeyDown=function(s){t.props.disabled&&(s.which===Y.enter||s.which===Y.space)?(s.preventDefault(),s.stopPropagation()):t.props.disabled||(t.props.menuProps?t._onMenuKeyDown(s):t.props.onKeyDown!==void 0&&t.props.onKeyDown(s))},t._onKeyUp=function(s){!t.props.disabled&&t.props.onKeyUp!==void 0&&t.props.onKeyUp(s)},t._onKeyPress=function(s){!t.props.disabled&&t.props.onKeyPress!==void 0&&t.props.onKeyPress(s)},t._onMouseUp=function(s){!t.props.disabled&&t.props.onMouseUp!==void 0&&t.props.onMouseUp(s)},t._onMouseDown=function(s){!t.props.disabled&&t.props.onMouseDown!==void 0&&t.props.onMouseDown(s)},t._onClick=function(s){t.props.disabled||(t.props.menuProps?t._onMenuClick(s):t.props.onClick!==void 0&&t.props.onClick(s))},t._onSplitButtonContainerKeyDown=function(s){s.which===Y.enter||s.which===Y.space?t._buttonElement.current&&(t._buttonElement.current.click(),s.preventDefault(),s.stopPropagation()):t._onMenuKeyDown(s)},t._onMenuKeyDown=function(s){var l;if(!t.props.disabled){t.props.onKeyDown&&t.props.onKeyDown(s);var _=s.which===Y.up,n=s.which===Y.down;if(!s.defaultPrevented&&t._isValidMenuOpenKey(s)){var a=t.props.onMenuClick;a&&a(s,t.props),t._onToggleMenu(!1),s.preventDefault(),s.stopPropagation()}if((s.which===Y.enter||s.which===Y.space)&&cr(!0,s.target,(l=t.context)===null||l===void 0?void 0:l.registeredProviders),!(s.altKey||s.metaKey)&&(_||n)&&!t.state.menuHidden&&t.props.menuProps){var c=t._menuShouldFocusOnMount!==void 0?t._menuShouldFocusOnMount:t.props.menuProps.shouldFocusOnMount;c||(s.preventDefault(),s.stopPropagation(),t._menuShouldFocusOnMount=!0,t.forceUpdate())}}},t._onTouchStart=function(){t._isSplitButton&&t._splitButtonContainer.current&&!("onpointerdown"in t._splitButtonContainer.current)&&t._handleTouchAndPointerEvent()},t._onMenuClick=function(s){var l=t.props,_=l.onMenuClick,n=l.menuProps;_&&_(s,t.props);var a=typeof(n==null?void 0:n.shouldFocusOnContainer)=="boolean"?n.shouldFocusOnContainer:s.nativeEvent.pointerType==="mouse";s.defaultPrevented||(t._onToggleMenu(a),s.preventDefault(),s.stopPropagation())},lr(t),t._async=new Vr(t),t._events=new St(t),mn(Va,i,["menuProps","onClick"],"split",t.props.split),xr(Va,i,{rootProps:void 0,description:"secondaryText",toggled:"checked"}),t._labelId=lt(),t._descriptionId=lt(),t._ariaDescriptionId=lt(),t.state={menuHidden:!0},t}return Object.defineProperty(r.prototype,"_isSplitButton",{get:function(){return!!this.props.menuProps&&!!this.props.onClick&&this.props.split===!0},enumerable:!1,configurable:!0}),r.prototype.render=function(){var i,t=this.props,s=t.ariaDescription,l=t.ariaLabel,_=t.ariaHidden,n=t.className,a=t.disabled,c=t.allowDisabledFocus,p=t.primaryDisabled,u=t.secondaryText,v=u===void 0?this.props.description:u,g=t.href,S=t.iconProps,b=t.menuIconProps,o=t.styles,h=t.checked,d=t.variantClassName,f=t.theme,m=t.toggle,y=t.getClassNames,w=t.role,E=this.state.menuHidden,C=a||p;this._classNames=y?y(f,n,d,S&&S.className,b&&b.className,C,h,!E,!!this.props.menuProps,this.props.split,!!c):h_(f,o,n,d,S&&S.className,b&&b.className,C,!!this.props.menuProps,h,!E,this.props.split);var k=this,D=k._ariaDescriptionId,L=k._labelId,R=k._descriptionId,A=!C&&!!g,N=A?"a":"button",W=De(sr(A?{}:{type:"button"},this.props.rootProps,this.props),A?yo:ar,["disabled"]),U=l||W["aria-label"],F=void 0;s?F=D:v&&this.props.onRenderDescription!==xi?F=R:W["aria-describedby"]&&(F=W["aria-describedby"]);var x=void 0;W["aria-labelledby"]?x=W["aria-labelledby"]:F&&!U&&(x=this._hasText()?L:void 0);var M=!(this.props["data-is-focusable"]===!1||a&&!c||this._isSplitButton),B=w==="menuitemcheckbox"||w==="checkbox",P=B||m===!0?!!h:void 0,j=sr(W,(i={className:this._classNames.root,ref:this._mergedRef(this.props.elementRef,this._buttonElement),disabled:C&&!c,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onClick:this._onClick,"aria-label":U,"aria-labelledby":x,"aria-describedby":F,"aria-disabled":C,"data-is-focusable":M},i[B?"aria-checked":"aria-pressed"]=P,i));if(_&&(j["aria-hidden"]=!0),this._isSplitButton)return this._onRenderSplitButtonContent(N,j);if(this.props.menuProps){var $=this.props.menuProps.id,G=$===void 0?"".concat(this._labelId,"-menu"):$;sr(j,{"aria-expanded":!E,"aria-controls":E?null:G,"aria-haspopup":!0})}return this._onRenderContent(N,j)},r.prototype.componentDidMount=function(){this._isSplitButton&&this._splitButtonContainer.current&&("onpointerdown"in this._splitButtonContainer.current&&this._events.on(this._splitButtonContainer.current,"pointerdown",this._onPointerDown,!0),"onpointerup"in this._splitButtonContainer.current&&this.props.onPointerUp&&this._events.on(this._splitButtonContainer.current,"pointerup",this.props.onPointerUp,!0))},r.prototype.componentDidUpdate=function(i,t){this.props.onAfterMenuDismiss&&!t.menuHidden&&this.state.menuHidden&&this.props.onAfterMenuDismiss()},r.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},r.prototype.focus=function(){var i,t;this._isSplitButton&&this._splitButtonContainer.current?(cr(!0,void 0,(i=this.context)===null||i===void 0?void 0:i.registeredProviders),this._splitButtonContainer.current.focus()):this._buttonElement.current&&(cr(!0,void 0,(t=this.context)===null||t===void 0?void 0:t.registeredProviders),this._buttonElement.current.focus())},r.prototype.dismissMenu=function(){this._dismissMenu()},r.prototype.openMenu=function(i,t){this._openMenu(i,t)},r.prototype._onRenderContent=function(i,t){var s=this,l=this.props,_=i,n=l.menuIconProps,a=l.menuProps,c=l.onRenderIcon,p=c===void 0?this._onRenderIcon:c,u=l.onRenderAriaDescription,v=u===void 0?this._onRenderAriaDescription:u,g=l.onRenderChildren,S=g===void 0?this._onRenderChildren:g,b=l.onRenderMenu,o=b===void 0?this._onRenderMenu:b,h=l.onRenderMenuIcon,d=h===void 0?this._onRenderMenuIcon:h,f=l.disabled,m=l.keytipProps;m&&a&&(m=this._getMemoizedMenuButtonKeytipProps(m));var y=function(E){return I.createElement(_,O({},t,E),I.createElement("span",{className:s._classNames.flexContainer,"data-automationid":"splitbuttonprimary"},p(l,s._onRenderIcon),s._onRenderTextContents(),v(l,s._onRenderAriaDescription),S(l,s._onRenderChildren),!s._isSplitButton&&(a||n||s.props.onRenderMenuIcon)&&d(s.props,s._onRenderMenuIcon),a&&!a.doNotLayer&&s._shouldRenderMenu()&&o(s._getMenuProps(a),s._onRenderMenu)))},w=m?I.createElement(di,{keytipProps:this._isSplitButton?void 0:m,ariaDescribedBy:t["aria-describedby"],disabled:f},function(E){return y(E)}):y();return a&&a.doNotLayer?I.createElement(I.Fragment,null,w,this._shouldRenderMenu()&&o(this._getMenuProps(a),this._onRenderMenu)):I.createElement(I.Fragment,null,w,I.createElement(To,null))},r.prototype._shouldRenderMenu=function(){var i=this.state.menuHidden,t=this.props,s=t.persistMenu,l=t.renderPersistedMenuHiddenOnMount;if(i){if(s&&(this._renderedVisibleMenu||l))return!0}else return!0;return!1},r.prototype._hasText=function(){return this.props.text!==null&&(this.props.text!==void 0||typeof this.props.children=="string")},r.prototype._getMenuProps=function(i){var t=this.props.persistMenu,s=this.state.menuHidden;return!i.ariaLabel&&!i.labelElementId&&this._hasText()&&(i=O(O({},i),{labelElementId:this._labelId})),O(O({id:this._labelId+"-menu",directionalHint:Se.bottomLeftEdge},i),{shouldFocusOnContainer:this._menuShouldFocusOnContainer,shouldFocusOnMount:this._menuShouldFocusOnMount,hidden:t?s:void 0,className:Qe("ms-BaseButton-menuhost",i.className),target:this._isSplitButton?this._splitButtonContainer.current:this._buttonElement.current,onDismiss:this._onDismissMenu})},r.prototype._onRenderSplitButtonContent=function(i,t){var s=this,l=this.props,_=l.styles,n=_===void 0?{}:_,a=l.disabled,c=l.allowDisabledFocus,p=l.checked,u=l.getSplitButtonClassNames,v=l.primaryDisabled,g=l.menuProps,S=l.toggle,b=l.role,o=l.primaryActionButtonProps,h=this.props.keytipProps,d=this.state.menuHidden,f=u?u(!!a,!d,!!p,!!c):n&&f_(n,!!a,!d,!!p,!!v);sr(t,{onClick:void 0,onPointerDown:void 0,onPointerUp:void 0,tabIndex:-1,"data-is-focusable":!1}),h&&g&&(h=this._getMemoizedMenuButtonKeytipProps(h));var m=De(t,[],["disabled"]);o&&sr(t,o);var y=function(w){return I.createElement("div",O({},m,{"data-ktp-target":w?w["data-ktp-target"]:void 0,role:b||"button","aria-disabled":a,"aria-haspopup":!0,"aria-expanded":!d,"aria-pressed":S?!!p:void 0,"aria-describedby":Dr(t["aria-describedby"],w?w["aria-describedby"]:void 0),className:f&&f.splitButtonContainer,onKeyDown:s._onSplitButtonContainerKeyDown,onTouchStart:s._onTouchStart,ref:s._splitButtonContainer,"data-is-focusable":!0,onClick:!a&&!v?s._onSplitButtonPrimaryClick:void 0,tabIndex:!a&&!v||c?0:void 0,"aria-roledescription":t["aria-roledescription"],onFocusCapture:s._onSplitContainerFocusCapture}),I.createElement("span",{style:{display:"flex",width:"100%"}},s._onRenderContent(i,t),s._onRenderSplitButtonMenuButton(f,w),s._onRenderSplitButtonDivider(f)))};return h?I.createElement(di,{keytipProps:h,disabled:a},function(w){return y(w)}):y()},r.prototype._onRenderSplitButtonDivider=function(i){if(i&&i.divider){var t=function(s){s.stopPropagation()};return I.createElement("span",{className:i.divider,"aria-hidden":!0,onClick:t})}return null},r.prototype._onRenderSplitButtonMenuButton=function(i,t){var s=this.props,l=s.allowDisabledFocus,_=s.checked,n=s.disabled,a=s.splitButtonMenuProps,c=s.splitButtonAriaLabel,p=s.primaryDisabled,u=this.state.menuHidden,v=this.props.menuIconProps;v===void 0&&(v={iconName:"ChevronDown"});var g=O(O({},a),{styles:i,checked:_,disabled:n,allowDisabledFocus:l,onClick:this._onMenuClick,menuProps:void 0,iconProps:O(O({},v),{className:this._classNames.menuIcon}),ariaLabel:c,"aria-haspopup":!0,"aria-expanded":!u,"data-is-focusable":!1});return I.createElement(r,O({},g,{"data-ktp-execute-target":t&&t["data-ktp-execute-target"],onMouseDown:this._onMouseDown,tabIndex:p&&!l?0:-1}))},r.prototype._onPointerDown=function(i){var t=this.props.onPointerDown;t&&t(i),i.pointerType==="touch"&&(this._handleTouchAndPointerEvent(),i.preventDefault(),i.stopImmediatePropagation())},r.prototype._handleTouchAndPointerEvent=function(){var i=this;this._lastTouchTimeoutId!==void 0&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout(function(){i._processingTouch=!1,i._lastTouchTimeoutId=void 0,i.state.menuHidden&&i.focus()},__)},r.prototype._isValidMenuOpenKey=function(i){return this.props.menuTriggerKeyCode?i.which===this.props.menuTriggerKeyCode:this.props.menuProps?i.which===Y.down&&(i.altKey||i.metaKey):!1},r.defaultProps={baseClassName:"ms-Button",styles:{},split:!1},r.contextType=Jr,r}(I.Component),Xa={outline:0},Ya=function(e){return{fontSize:e,margin:"0 4px",height:"16px",lineHeight:"16px",textAlign:"center",flexShrink:0}},Za=ye(function(e){var r,i,t=e.semanticColors,s=e.effects,l=e.fonts,_=t.buttonBorder,n=t.disabledBackground,a=t.disabledText,c={left:-2,top:-2,bottom:-2,right:-2,outlineColor:"ButtonText"};return{root:[Mr(e,{inset:1,highContrastStyle:c,borderColor:"transparent"}),e.fonts.medium,{border:"1px solid "+_,borderRadius:s.roundedCorner2,boxSizing:"border-box",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"0 16px",textDecoration:"none",textAlign:"center",userSelect:"none",":active > span":{position:"relative",left:0,top:0}}],rootDisabled:[Mr(e,{inset:1,highContrastStyle:c,borderColor:"transparent"}),{backgroundColor:n,borderColor:n,color:a,cursor:"default",":hover":Xa,":focus":Xa}],iconDisabled:(r={color:a},r[J]={color:"GrayText"},r),menuIconDisabled:(i={color:a},i[J]={color:"GrayText"},i),flexContainer:{display:"flex",height:"100%",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},description:{display:"block"},textContainer:{flexGrow:1,display:"block"},icon:Ya(l.mediumPlus.fontSize),menuIcon:Ya(l.small.fontSize),label:{margin:"0 4px",lineHeight:"100%",display:"block"},screenReaderText:Xo}}),v_=ye(function(e,r){var i,t,s,l,_,n,a,c,p,u,v,g,S,b,o,h,d,f=e.effects,m=e.palette,y=e.semanticColors,w={left:-2,top:-2,bottom:-2,right:-2,border:"none"},E={position:"absolute",width:1,right:31,top:8,bottom:8},C={splitButtonContainer:[Mr(e,{highContrastStyle:w,inset:2,pointerEvents:"none"}),{display:"inline-flex",".ms-Button--default":{borderTopRightRadius:"0",borderBottomRightRadius:"0",borderRight:"none",flexGrow:"1"},".ms-Button--primary":(i={borderTopRightRadius:"0",borderBottomRightRadius:"0",border:"none",flexGrow:"1",":hover":{border:"none"},":active":{border:"none"}},i[J]=O(O({color:"WindowText",backgroundColor:"Window",border:"1px solid WindowText",borderRightWidth:"0"},Be()),{":hover":{backgroundColor:"Highlight",border:"1px solid Highlight",borderRightWidth:"0",color:"HighlightText"},":active":{border:"1px solid Highlight"}}),i),".ms-Button--default + .ms-Button":(t={},t[J]={border:"1px solid WindowText",borderLeftWidth:"0",":hover":{backgroundColor:"HighlightText",borderColor:"Highlight",color:"Highlight",".ms-Button-menuIcon":O({backgroundColor:"HighlightText",color:"Highlight"},Be())}},t),'.ms-Button--default + .ms-Button[aria-expanded="true"]':(s={},s[J]={backgroundColor:"HighlightText",borderColor:"Highlight",color:"Highlight",".ms-Button-menuIcon":O({backgroundColor:"HighlightText",color:"Highlight"},Be())},s),".ms-Button--primary + .ms-Button":(l={border:"none"},l[J]={border:"1px solid WindowText",borderLeftWidth:"0",":hover":{borderLeftWidth:"0",backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText",".ms-Button-menuIcon":O(O({},Be()),{color:"HighlightText"})}},l),'.ms-Button--primary + .ms-Button[aria-expanded="true"]':(_={},_[J]=O(O({backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText"},Be()),{".ms-Button-menuIcon":{color:"HighlightText"}}),_),".ms-Button.is-disabled":(n={},n[J]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},n)}],splitButtonContainerHovered:{".ms-Button--default.is-disabled":(a={backgroundColor:y.buttonBackgroundDisabled,color:y.buttonTextDisabled},a[J]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},a),".ms-Button--primary.is-disabled":(c={backgroundColor:y.primaryButtonBackgroundDisabled,color:y.primaryButtonTextDisabled},c[J]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},c)},splitButtonContainerChecked:{".ms-Button--primary":(p={},p[J]=O({color:"Window",backgroundColor:"WindowText"},Be()),p)},splitButtonContainerCheckedHovered:{".ms-Button--primary":(u={},u[J]=O({color:"Window",backgroundColor:"WindowText"},Be()),u)},splitButtonContainerFocused:{outline:"none!important"},splitButtonMenuButton:(v={padding:6,height:"auto",boxSizing:"border-box",borderRadius:0,borderTopRightRadius:f.roundedCorner2,borderBottomRightRadius:f.roundedCorner2,border:"1px solid ".concat(m.neutralSecondaryAlt),borderLeft:"none",outline:"transparent",userSelect:"none",display:"inline-block",textDecoration:"none",textAlign:"center",cursor:"pointer",verticalAlign:"top",width:32,marginLeft:-1,marginTop:0,marginRight:0,marginBottom:0},v[J]={".ms-Button-menuIcon":{color:"WindowText"}},v),splitButtonDivider:O(O({},E),(g={},g[J]={backgroundColor:"WindowText"},g)),splitButtonDividerDisabled:O(O({},E),(S={},S[J]={backgroundColor:"GrayText"},S)),splitButtonMenuButtonDisabled:(b={pointerEvents:"none",border:"none",":hover":{cursor:"default"},".ms-Button--primary":(o={},o[J]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},o),".ms-Button-menuIcon":(h={},h[J]={color:"GrayText"},h)},b[J]={color:"GrayText",border:"1px solid GrayText",backgroundColor:"Window"},b),splitButtonFlexContainer:{display:"flex",height:"100%",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},splitButtonContainerDisabled:(d={outline:"none",border:"none"},d[J]=O({color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},Be()),d),splitButtonMenuFocused:O({},Mr(e,{highContrastStyle:w,inset:2}))};return Vt(C,r)}),p_="40px",m_="0 4px",g_=ye(function(e,r){var i,t,s,l=Za(e),_={root:(i={padding:m_,height:p_,color:e.palette.neutralPrimary,backgroundColor:"transparent",border:"1px solid transparent"},i[J]={borderColor:"Window"},i),rootHovered:(t={color:e.palette.themePrimary},t[J]={color:"Highlight"},t),iconHovered:{color:e.palette.themePrimary},rootPressed:{color:e.palette.black},rootExpanded:{color:e.palette.themePrimary},iconPressed:{color:e.palette.themeDarker},rootDisabled:(s={color:e.palette.neutralTertiary,backgroundColor:"transparent",borderColor:"transparent"},s[J]={color:"GrayText"},s),rootChecked:{color:e.palette.black},iconChecked:{color:e.palette.themeDarker},flexContainer:{justifyContent:"flex-start"},icon:{color:e.palette.themeDarkAlt},iconDisabled:{color:"inherit"},menuIcon:{color:e.palette.neutralSecondary},textContainer:{flexGrow:0}};return Vt(l,_,r)}),b_=function(e){Le(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.render=function(){var i=this.props,t=i.styles,s=i.theme;return I.createElement(ts,O({},this.props,{variantClassName:"ms-Button--action ms-Button--command",styles:g_(s,t),onRenderDescription:xi}))},r=Ss([go("ActionButton",["theme","styles"])],r),r}(I.Component),C_=ye(function(e,r){var i,t=Za(e),s=v_(e),l=e.palette,_=e.semanticColors,n={root:{padding:"0 4px",width:"32px",height:"32px",backgroundColor:"transparent",border:"none",color:_.link},rootHovered:(i={color:l.themeDarkAlt,backgroundColor:l.neutralLighter},i[J]={borderColor:"Highlight",color:"Highlight"},i),rootHasMenu:{width:"auto"},rootPressed:{color:l.themeDark,backgroundColor:l.neutralLight},rootExpanded:{color:l.themeDark,backgroundColor:l.neutralLight},rootChecked:{color:l.themeDark,backgroundColor:l.neutralLight},rootCheckedHovered:{color:l.themeDark,backgroundColor:l.neutralQuaternaryAlt},rootDisabled:{color:l.neutralTertiaryAlt}};return Vt(t,n,s,r)}),y_=function(e){Le(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.render=function(){var i=this.props,t=i.styles,s=i.theme;return I.createElement(ts,O({},this.props,{variantClassName:"ms-Button--icon",styles:C_(s,t),onRenderText:xi,onRenderDescription:xi}))},r=Ss([go("IconButton",["theme","styles"])],r),r}(I.Component),S_=b_,w_=Je(),Ja=I.forwardRef(function(e,r){var i=e.disabled,t=e.required,s=e.inputProps,l=e.name,_=e.ariaLabel,n=e.ariaLabelledBy,a=e.ariaDescribedBy,c=e.ariaPositionInSet,p=e.ariaSetSize,u=e.title,v=e.checkmarkIconProps,g=e.styles,S=e.theme,b=e.className,o=e.boxSide,h=o===void 0?"start":o,d=ji("checkbox-",e.id),f=I.useRef(null),m=It(f,r),y=I.useRef(null),w=la(e.checked,e.defaultChecked,e.onChange),E=w[0],C=w[1],k=la(e.indeterminate,e.defaultIndeterminate),D=k[0],L=k[1];Io(f),E_(e);var R=w_(g,{theme:S,className:b,disabled:i,indeterminate:D,checked:E,reversed:h!=="start",isUsingCustomLabelRender:!!e.onRenderLabel}),A=I.useCallback(function(M){D?(C(!!E,M),L(!1)):C(!E,M)},[C,L,D,E]),N=I.useCallback(function(M){return M&&M.label?I.createElement("span",{className:R.text,title:M.title},M.label):null},[R.text]),W=I.useCallback(function(M){if(y.current){var B=!!M;y.current.indeterminate=B,L(B)}},[L]);k_(e,E,D,W,y),I.useEffect(function(){return W(D)},[W,D]);var U=e.onRenderLabel||N,F=D?"mixed":void 0,x=O(O({className:R.input,type:"checkbox"},s),{checked:!!E,disabled:i,required:t,name:l,id:d,title:u,onChange:A,"aria-disabled":i,"aria-label":_,"aria-labelledby":n,"aria-describedby":a,"aria-posinset":c,"aria-setsize":p,"aria-checked":F});return I.createElement("div",{className:R.root,title:u,ref:m},I.createElement("input",O({},x,{ref:y,title:u,"data-ktp-execute-target":!0})),I.createElement("label",{className:R.label,htmlFor:d},I.createElement("div",{className:R.checkbox,"data-ktp-target":!0},I.createElement(mr,O({iconName:"CheckMark"},v,{className:R.checkmark}))),U(e,N)))});Ja.displayName="CheckboxBase";function E_(e){kt.env.NODE_ENV!=="production"&&Hn({name:"Checkbox",props:e,mutuallyExclusive:{checked:"defaultChecked",indeterminate:"defaultIndeterminate"}})}function k_(e,r,i,t,s){I.useImperativeHandle(e.componentRef,function(){return{get checked(){return!!r},get indeterminate(){return!!i},set indeterminate(l){t(l)},focus:function(){s.current&&s.current.focus()}}},[s,r,i,t])}var x_={root:"ms-Checkbox",label:"ms-Checkbox-label",checkbox:"ms-Checkbox-checkbox",checkmark:"ms-Checkbox-checkmark",text:"ms-Checkbox-text"},Qa="20px",el="200ms",tl="cubic-bezier(.4, 0, .23, 1)",D_=function(e){var r,i,t,s,l,_,n,a,c,p,u,v,g,S,b,o,h,d,f=e.className,m=e.theme,y=e.reversed,w=e.checked,E=e.disabled,C=e.isUsingCustomLabelRender,k=e.indeterminate,D=m.semanticColors,L=m.effects,R=m.palette,A=m.fonts,N=vt(x_,m),W=D.inputForegroundChecked,U=R.neutralSecondary,F=R.neutralPrimary,x=D.inputBackgroundChecked,M=D.inputBackgroundChecked,B=D.disabledBodySubtext,P=D.inputBorderHovered,j=D.inputBackgroundCheckedHovered,$=D.inputBackgroundChecked,G=D.inputBackgroundCheckedHovered,X=D.inputBackgroundCheckedHovered,ne=D.inputTextHovered,T=D.disabledBodySubtext,H=D.bodyText,z=D.disabledText,K=[(r={content:'""',borderRadius:L.roundedCorner2,position:"absolute",width:10,height:10,top:4,left:4,boxSizing:"border-box",borderWidth:5,borderStyle:"solid",borderColor:E?B:x,transitionProperty:"border-width, border, border-color",transitionDuration:el,transitionTimingFunction:tl},r[J]={borderColor:"WindowText"},r)];return{root:[N.root,{position:"relative",display:"flex"},y&&"reversed",w&&"is-checked",!E&&"is-enabled",E&&"is-disabled",!E&&[!w&&(i={},i[":hover .".concat(N.checkbox)]=(t={borderColor:P},t[J]={borderColor:"Highlight"},t),i[":focus .".concat(N.checkbox)]={borderColor:P},i[":hover .".concat(N.checkmark)]=(s={color:U,opacity:"1"},s[J]={color:"Highlight"},s),i),w&&!k&&(l={},l[":hover .".concat(N.checkbox)]={background:G,borderColor:X},l[":focus .".concat(N.checkbox)]={background:G,borderColor:X},l[J]=(_={},_[":hover .".concat(N.checkbox)]={background:"Highlight",borderColor:"Highlight"},_[":focus .".concat(N.checkbox)]={background:"Highlight"},_[":focus:hover .".concat(N.checkbox)]={background:"Highlight"},_[":focus:hover .".concat(N.checkmark)]={color:"Window"},_[":hover .".concat(N.checkmark)]={color:"Window"},_),l),k&&(n={},n[":hover .".concat(N.checkbox,", :hover .").concat(N.checkbox,":after")]=(a={borderColor:j},a[J]={borderColor:"WindowText"},a),n[":focus .".concat(N.checkbox)]={borderColor:j},n[":hover .".concat(N.checkmark)]={opacity:"0"},n),(c={},c[":hover .".concat(N.text,", :focus .").concat(N.text)]=(p={color:ne},p[J]={color:E?"GrayText":"WindowText"},p),c)],f],input:(u={position:"absolute",background:"none",opacity:0},u[".".concat(se," &:focus + label::before, :host(.").concat(se,") &:focus + label::before")]=(v={outline:"1px solid "+m.palette.neutralSecondary,outlineOffset:"2px"},v[J]={outline:"1px solid WindowText"},v),u),label:[N.label,m.fonts.medium,{display:"flex",alignItems:C?"center":"flex-start",cursor:E?"default":"pointer",position:"relative",userSelect:"none"},y&&{flexDirection:"row-reverse",justifyContent:"flex-end"},{"&::before":{position:"absolute",left:0,right:0,top:0,bottom:0,content:'""',pointerEvents:"none"}}],checkbox:[N.checkbox,(g={position:"relative",display:"flex",flexShrink:0,alignItems:"center",justifyContent:"center",height:Qa,width:Qa,border:"1px solid ".concat(F),borderRadius:L.roundedCorner2,boxSizing:"border-box",transitionProperty:"background, border, border-color",transitionDuration:el,transitionTimingFunction:tl,overflow:"hidden",":after":k?K:null},g[J]=O({borderColor:"WindowText"},Be()),g),k&&{borderColor:x},y?{marginLeft:4}:{marginRight:4},!E&&!k&&w&&(S={background:$,borderColor:M},S[J]={background:"Highlight",borderColor:"Highlight"},S),E&&(b={borderColor:B},b[J]={borderColor:"GrayText"},b),w&&E&&(o={background:T,borderColor:B},o[J]={background:"Window"},o)],checkmark:[N.checkmark,(h={opacity:w&&!k?"1":"0",color:W},h[J]=O({color:E?"GrayText":"Window"},Be()),h)],text:[N.text,(d={color:E?z:H,fontSize:A.medium.fontSize,lineHeight:"20px"},d[J]=O({color:E?"GrayText":"WindowText"},Be()),d),y?{marginRight:4}:{marginLeft:4}]}},I_=et(Ja,D_,void 0,{scope:"Checkbox"}),T_=Je({cacheSize:100}),R_=function(e){Le(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.render=function(){var i=this.props,t=i.as,s=t===void 0?"label":t,l=i.children,_=i.className,n=i.disabled,a=i.styles,c=i.required,p=i.theme,u=T_(a,{className:_,disabled:n,required:c,theme:p});return I.createElement(s,O({},De(this.props,Wt),{className:u.root}),l)},r}(I.Component),M_=function(e){var r,i=e.theme,t=e.className,s=e.disabled,l=e.required,_=i.semanticColors,n=ve.semibold,a=_.bodyText,c=_.disabledBodyText,p=_.errorText;return{root:["ms-Label",i.fonts.medium,{fontWeight:n,color:a,boxSizing:"border-box",boxShadow:"none",margin:0,display:"block",padding:"5px 0",wordWrap:"break-word",overflowWrap:"break-word"},s&&{color:c,selectors:(r={},r[J]=O({color:"GrayText"},Be()),r)},l&&{selectors:{"::after":{content:"' *'",color:p,paddingRight:12}}},t]}},L_=et(R_,M_,void 0,{scope:"Label"});function rl(e,r){for(var i=[],t=0,s=r;t<s.length;t++){var l=s[t],_=e[l];_&&i.push(_)}return i}var Lt;(function(e){e[e.Normal=0]="Normal",e[e.Divider=1]="Divider",e[e.Header=2]="Header",e[e.SelectAll=3]="SelectAll"})(Lt||(Lt={}));var B_=Je(),A_=function(e){Le(r,e);function r(i){var t=e.call(this,i)||this;lr(t);var s=t.props.allowTouchBodyScroll,l=s===void 0?!1:s;return t._allowTouchBodyScroll=l,t}return r.prototype.componentDidMount=function(){!this._allowTouchBodyScroll&&uc()},r.prototype.componentWillUnmount=function(){!this._allowTouchBodyScroll&&hc()},r.prototype.render=function(){var i=this.props,t=i.isDarkThemed,s=i.className,l=i.theme,_=i.styles,n=De(this.props,Wt),a=B_(_,{theme:l,className:s,isDark:t});return I.createElement("div",O({},n,{className:a.root}))},r}(I.Component),P_={root:"ms-Overlay",rootDark:"ms-Overlay--dark"},O_=function(e){var r,i=e.className,t=e.theme,s=e.isNone,l=e.isDark,_=t.palette,n=vt(P_,t);return{root:[n.root,t.fonts.medium,{backgroundColor:_.whiteTranslucent40,top:0,right:0,bottom:0,left:0,position:"absolute",selectors:(r={},r[J]={border:"1px solid WindowText",opacity:0},r)},s&&{visibility:"hidden"},l&&[n.rootDark,{backgroundColor:_.blackTranslucent40}],i]}},N_=et(A_,O_,void 0,{scope:"Overlay"}),F_=function(){function e(){this._size=0}return e.prototype.updateOptions=function(r){for(var i=[],t=[],s=0,l=0;l<r.length;l++){var _=r[l],n=_.itemType,a=_.hidden;n===Lt.Divider||n===Lt.Header?(i.push(l),t.push(l)):a?t.push(l):s++}this._size=s,this._displayOnlyOptionsCache=i,this._notSelectableOptionsCache=t,this._cachedOptions=ge([],r,!0)},Object.defineProperty(e.prototype,"optionSetSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cachedOptions",{get:function(){return this._cachedOptions},enumerable:!1,configurable:!0}),e.prototype.positionInSet=function(r){if(r!==void 0){for(var i=0;r>this._notSelectableOptionsCache[i];)i++;if(this._displayOnlyOptionsCache[i]===r)throw new Error("Unexpected: Option at index ".concat(r," is not a selectable element."));if(this._notSelectableOptionsCache[i]!==r)return r-i+1}},e}(),Me;(function(e){e[e.smallFluid=0]="smallFluid",e[e.smallFixedFar=1]="smallFixedFar",e[e.smallFixedNear=2]="smallFixedNear",e[e.medium=3]="medium",e[e.large=4]="large",e[e.largeFixed=5]="largeFixed",e[e.extraLarge=6]="extraLarge",e[e.custom=7]="custom",e[e.customNear=8]="customNear"})(Me||(Me={}));var H_=Je(),W_="Panel",me;(function(e){e[e.closed=0]="closed",e[e.animatingOpen=1]="animatingOpen",e[e.open=2]="open",e[e.animatingClosed=3]="animatingClosed"})(me||(me={}));var U_=function(e){Le(r,e);function r(i){var t=e.call(this,i)||this;t._panel=I.createRef(),t._animationCallback=null,t._hasCustomNavigation=!!(t.props.onRenderNavigation||t.props.onRenderNavigationContent),t.dismiss=function(_){t.props.onDismiss&&t.isActive&&t.props.onDismiss(_),(!_||_&&!_.defaultPrevented)&&t.close()},t._allowScrollOnPanel=function(_){var n;t._resizeObserver=t._createResizeObserver(function(a){a.length>0&&a[0].target===_&&t._updateFooterPosition()}),_?((n=t._resizeObserver)===null||n===void 0||n.observe(_),t._allowTouchBodyScroll?cc(_,t._events):lc(_,t._events)):t._events.off(t._scrollableContent),t._scrollableContent=_},t._onRenderNavigation=function(_){if(!t.props.onRenderNavigationContent&&!t.props.onRenderNavigation&&!t.props.hasCloseButton)return null;var n=t.props.onRenderNavigationContent,a=n===void 0?t._onRenderNavigationContent:n;return I.createElement("div",{className:t._classNames.navigation},a(_,t._onRenderNavigationContent))},t._onRenderNavigationContent=function(_){var n,a=_.closeButtonAriaLabel,c=_.hasCloseButton,p=_.onRenderHeader,u=p===void 0?t._onRenderHeader:p;if(c){var v=(n=t._classNames.subComponentStyles)===null||n===void 0?void 0:n.closeButton();return I.createElement(I.Fragment,null,!t._hasCustomNavigation&&u(t.props,t._onRenderHeader,t._headerTextId),I.createElement(y_,{styles:v,className:t._classNames.closeButton,onClick:t._onPanelClick,ariaLabel:a,title:a,"data-is-visible":!0,iconProps:{iconName:"Cancel"}}))}return null},t._onRenderHeader=function(_,n,a){var c=_.headerText,p=_.headerTextProps,u=p===void 0?{}:p;return c?I.createElement("div",{className:t._classNames.header},I.createElement("div",O({id:a,role:"heading","aria-level":1},u,{className:Qe(t._classNames.headerText,u.className)}),c)):null},t._onRenderBody=function(_){return I.createElement("div",{className:t._classNames.content},_.children)},t._onRenderFooter=function(_){var n=t.props.onRenderFooterContent,a=n===void 0?null:n;return a?I.createElement("div",{className:t._classNames.footer},I.createElement("div",{className:t._classNames.footerInner},a())):null},t._animateTo=function(_){_===me.open&&t.props.onOpen&&t.props.onOpen(),t._animationCallback=t._async.setTimeout(function(){t.setState({visibility:_}),t._onTransitionComplete(_)},200)},t._clearExistingAnimationTimer=function(){t._animationCallback!==null&&t._async.clearTimeout(t._animationCallback)},t._onPanelClick=function(_){t.dismiss(_)},t._onTransitionComplete=function(_){t._updateFooterPosition(),_===me.open&&t.props.onOpened&&t.props.onOpened(),_===me.closed&&t.props.onDismissed&&t.props.onDismissed()};var s=t.props.allowTouchBodyScroll,l=s===void 0?!1:s;return t._allowTouchBodyScroll=l,lr(t),xr(W_,i,{ignoreExternalFocusing:"focusTrapZoneProps",forceFocusInsideTrap:"focusTrapZoneProps",firstFocusableSelector:"focusTrapZoneProps"}),t.state={isFooterSticky:!1,visibility:me.closed,id:lt("Panel")},t}return r.getDerivedStateFromProps=function(i,t){return i.isOpen===void 0?null:i.isOpen&&(t.visibility===me.closed||t.visibility===me.animatingClosed)?{visibility:me.animatingOpen}:!i.isOpen&&(t.visibility===me.open||t.visibility===me.animatingOpen)?{visibility:me.animatingClosed}:null},r.prototype.componentDidMount=function(){this._async=new Vr(this),this._events=new St(this);var i=ha(this.context),t=$i(this.context);this._events.on(i,"resize",this._updateFooterPosition),this._shouldListenForOuterClick(this.props)&&this._events.on(t==null?void 0:t.body,"mousedown",this._dismissOnOuterClick,!0),this.props.isOpen&&this.setState({visibility:me.animatingOpen})},r.prototype.componentDidUpdate=function(i,t){var s=this._shouldListenForOuterClick(this.props),l=this._shouldListenForOuterClick(i);this.state.visibility!==t.visibility&&(this._clearExistingAnimationTimer(),this.state.visibility===me.animatingOpen?this._animateTo(me.open):this.state.visibility===me.animatingClosed&&this._animateTo(me.closed));var _=$i(this.context);s&&!l?this._events.on(_==null?void 0:_.body,"mousedown",this._dismissOnOuterClick,!0):!s&&l&&this._events.off(_==null?void 0:_.body,"mousedown",this._dismissOnOuterClick,!0)},r.prototype.componentWillUnmount=function(){var i;this._async.dispose(),this._events.dispose(),(i=this._resizeObserver)===null||i===void 0||i.disconnect()},r.prototype.render=function(){var i=this.props,t=i.className,s=t===void 0?"":t,l=i.elementToFocusOnDismiss,_=i.firstFocusableSelector,n=i.focusTrapZoneProps,a=i.forceFocusInsideTrap,c=i.hasCloseButton,p=i.headerText,u=i.headerClassName,v=u===void 0?"":u,g=i.ignoreExternalFocusing,S=i.isBlocking,b=i.isFooterAtBottom,o=i.isLightDismiss,h=i.isHiddenOnDismiss,d=i.layerProps,f=i.overlayProps,m=i.popupProps,y=i.type,w=i.styles,E=i.theme,C=i.customWidth,k=i.onLightDismissClick,D=k===void 0?this._onPanelClick:k,L=i.onRenderNavigation,R=L===void 0?this._onRenderNavigation:L,A=i.onRenderHeader,N=A===void 0?this._onRenderHeader:A,W=i.onRenderBody,U=W===void 0?this._onRenderBody:W,F=i.onRenderFooter,x=F===void 0?this._onRenderFooter:F,M=this.state,B=M.isFooterSticky,P=M.visibility,j=M.id,$=y===Me.smallFixedNear||y===Me.customNear,G=Ue(E),X=G?$:!$,ne=y===Me.custom||y===Me.customNear?{width:C}:{},T=De(this.props,Wt),H=this.isActive,z=P===me.animatingClosed||P===me.animatingOpen;if(this._headerTextId=p&&j+"-headerText",!H&&!z&&!h)return null;this._classNames=H_(w,{theme:E,className:s,focusTrapZoneClassName:n?n.className:void 0,hasCloseButton:c,headerClassName:v,isAnimating:z,isFooterSticky:B,isFooterAtBottom:b,isOnRightSide:X,isOpen:H,isHiddenOnDismiss:h,type:y,hasCustomNavigation:this._hasCustomNavigation});var K=this,Q=K._classNames,V=K._allowTouchBodyScroll,te;return S&&H&&(te=I.createElement(N_,O({className:Q.overlay,isDarkThemed:!1,onClick:o?D:void 0,allowTouchBodyScroll:V},f))),I.createElement(Ca,O({},d),I.createElement(Wn,O({role:"dialog","aria-modal":S?"true":void 0,ariaLabelledBy:this._headerTextId?this._headerTextId:void 0,onDismiss:this.dismiss,className:Q.hiddenPanel,enableAriaHiddenSiblings:!!H},m),I.createElement("div",O({"aria-hidden":!H&&z},T,{ref:this._panel,className:Q.root}),te,I.createElement(vr,O({ignoreExternalFocusing:g,forceFocusInsideTrap:!S||h&&!H?!1:a,firstFocusableSelector:_,isClickableOutsideFocusTrap:!0},n,{className:Q.main,style:ne,elementToFocusOnDismiss:l}),I.createElement("div",{className:Q.contentInner},I.createElement("div",{ref:this._allowScrollOnPanel,className:Q.scrollableContent,"data-is-scrollable":!0},I.createElement("div",{className:Q.commands,"data-is-visible":!0},R(this.props,this._onRenderNavigation)),(this._hasCustomNavigation||!c)&&N(this.props,this._onRenderHeader,this._headerTextId),U(this.props,this._onRenderBody),x(this.props,this._onRenderFooter)))))))},r.prototype.open=function(){this.props.isOpen===void 0&&(this.isActive||this.setState({visibility:me.animatingOpen}))},r.prototype.close=function(){this.props.isOpen===void 0&&this.isActive&&this.setState({visibility:me.animatingClosed})},Object.defineProperty(r.prototype,"isActive",{get:function(){return this.state.visibility===me.open||this.state.visibility===me.animatingOpen},enumerable:!1,configurable:!0}),r.prototype._createResizeObserver=function(i){var t,s=$i(this.context),l=null;return!((t=s==null?void 0:s.defaultView)===null||t===void 0)&&t.ResizeObserver&&(l=new s.defaultView.ResizeObserver(i)),l},r.prototype._shouldListenForOuterClick=function(i){return!!i.isBlocking&&!!i.isOpen},r.prototype._updateFooterPosition=function(){var i=this._scrollableContent;if(i){var t=i.clientHeight,s=i.scrollHeight;this.setState({isFooterSticky:t<s})}},r.prototype._dismissOnOuterClick=function(i){var t=this._panel.current;this.isActive&&t&&!i.defaultPrevented&&(Ge(t,i.target)||(this.props.onOuterClick?this.props.onOuterClick(i):this.dismiss(i)))},r.defaultProps={isHiddenOnDismiss:!1,isOpen:void 0,isBlocking:!0,hasCloseButton:!0,type:Me.smallFixedFar},r.contextType=Zr,r}(I.Component),rs,Yi,Zi,is,ns,K_={root:"ms-Panel",main:"ms-Panel-main",commands:"ms-Panel-commands",contentInner:"ms-Panel-contentInner",scrollableContent:"ms-Panel-scrollableContent",navigation:"ms-Panel-navigation",closeButton:"ms-Panel-closeButton ms-PanelAction-close",header:"ms-Panel-header",headerText:"ms-Panel-headerText",content:"ms-Panel-content",footer:"ms-Panel-footer",footerInner:"ms-Panel-footerInner",isOpen:"is-open",hasCloseButton:"ms-Panel--hasCloseButton",smallFluid:"ms-Panel--smFluid",smallFixedNear:"ms-Panel--smLeft",smallFixedFar:"ms-Panel--sm",medium:"ms-Panel--md",large:"ms-Panel--lg",largeFixed:"ms-Panel--fixed",extraLarge:"ms-Panel--xl",custom:"ms-Panel--custom",customNear:"ms-Panel--customLeft"},gr={full:"100%",auto:"auto",xs:272,sm:340,md1:592,md2:644,lg:940},jt={auto:"auto",none:0,md:48,lg:428,xl:176},fi=(rs={},rs["@media (min-width: ".concat(ti,"px)")]={width:gr.sm},rs),Ji=(Yi={},Yi["@media (min-width: ".concat(qo,"px)")]={width:gr.md1},Yi["@media (min-width: ".concat(ph,"px)")]={width:gr.md2},Yi),ss=(Zi={},Zi["@media (min-width: ".concat(mh,"px)")]={left:jt.md,width:gr.auto},Zi["@media (min-width: ".concat(Ln,"px)")]={left:jt.lg},Zi),z_=(is={},is["@media (min-width: ".concat(Ln,"px)")]={left:jt.auto,width:gr.lg},is),j_=(ns={},ns["@media (min-width: ".concat(Ln,"px)")]={left:jt.xl},ns),$_=function(e){var r;switch(e){case Me.smallFixedFar:r=O({},fi);break;case Me.medium:r=O(O({},fi),Ji);break;case Me.large:r=O(O(O({},fi),Ji),ss);break;case Me.largeFixed:r=O(O(O(O({},fi),Ji),ss),z_);break;case Me.extraLarge:r=O(O(O(O({},fi),Ji),ss),j_);break}return r},q_="44px",os={paddingLeft:"24px",paddingRight:"24px"},G_=function(e){var r,i,t,s,l=e.className,_=e.focusTrapZoneClassName,n=e.hasCloseButton,a=e.headerClassName,c=e.isAnimating,p=e.isFooterSticky,u=e.isFooterAtBottom,v=e.isOnRightSide,g=e.isOpen,S=e.isHiddenOnDismiss,b=e.hasCustomNavigation,o=e.theme,h=e.type,d=h===void 0?Me.smallFixedFar:h,f=o.effects,m=o.fonts,y=o.semanticColors,w=vt(K_,o),E=d===Me.custom||d===Me.customNear;return{root:[w.root,o.fonts.medium,g&&w.isOpen,n&&w.hasCloseButton,{pointerEvents:"none",position:"absolute",top:0,left:0,right:0,bottom:0},E&&v&&w.custom,E&&!v&&w.customNear,l],overlay:[{pointerEvents:"auto",cursor:"pointer"},g&&c&&mt.fadeIn100,!g&&c&&mt.fadeOut100],hiddenPanel:[!g&&!c&&S&&{visibility:"hidden"}],main:[w.main,{backgroundColor:y.bodyBackground,boxShadow:f.elevation64,pointerEvents:"auto",position:"absolute",display:"flex",flexDirection:"column",overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",bottom:0,top:0,left:jt.auto,right:jt.none,width:gr.full,selectors:O((r={},r[J]={borderLeft:"3px solid ".concat(y.variantBorder),borderRight:"3px solid ".concat(y.variantBorder)},r),$_(d))},d===Me.smallFluid&&{left:jt.none},d===Me.smallFixedNear&&{left:jt.none,right:jt.auto,width:gr.xs},d===Me.customNear&&{right:"auto",left:0},E&&{maxWidth:"100vw"},g&&c&&!v&&mt.slideRightIn40,g&&c&&v&&mt.slideLeftIn40,!g&&c&&!v&&mt.slideLeftOut40,!g&&c&&v&&mt.slideRightOut40,_],commands:[w.commands,{backgroundColor:y.bodyBackground,paddingTop:18,selectors:(i={},i["@media (min-height: ".concat(ti,"px)")]={position:"sticky",top:0,zIndex:1},i)},b&&{paddingTop:"inherit"}],navigation:[w.navigation,{display:"flex",justifyContent:"flex-end"},b&&{height:q_}],contentInner:[w.contentInner,{display:"flex",flexDirection:"column",flexGrow:1,overflowY:"hidden"}],header:[w.header,os,{alignSelf:"flex-start"},n&&!b&&{flexGrow:1},b&&{flexShrink:0}],headerText:[w.headerText,m.xLarge,{color:y.bodyText,lineHeight:"27px",overflowWrap:"break-word",wordWrap:"break-word",wordBreak:"break-word",hyphens:"auto"},a],scrollableContent:[w.scrollableContent,{overflowY:"auto"},u&&{flexGrow:1,display:"inherit",flexDirection:"inherit"}],content:[w.content,os,{paddingBottom:20},u&&{selectors:(t={},t["@media (min-height: ".concat(ti,"px)")]={flexGrow:1},t)}],footer:[w.footer,{flexShrink:0,borderTop:"1px solid transparent",transition:"opacity ".concat($o.durationValue3," ").concat($o.easeFunction2),selectors:(s={},s["@media (min-height: ".concat(ti,"px)")]={position:"sticky",bottom:0},s)},p&&{backgroundColor:y.bodyBackground,borderTopColor:y.variantBorder}],footerInner:[w.footerInner,os,{paddingBottom:16,paddingTop:16}],subComponentStyles:{closeButton:{root:[w.closeButton,{marginRight:14,color:o.palette.neutralSecondary,fontSize:Ut.large},b&&{marginRight:0,height:"auto",width:"44px"}],rootHovered:{color:o.palette.neutralPrimary}}}}},V_=et(U_,G_,void 0,{scope:"Panel"}),il="Dropdown",X_=Je(),Y_={options:[]};function Z_(e){var r=e.defaultSelectedKeys,i=e.selectedKeys,t=e.defaultSelectedKey,s=e.selectedKey,l=e.options,_=e.multiSelect,n=Or(l),a=I.useState([]),c=a[0],p=a[1],u,v=l!==n;_?v&&r!==void 0?u=r:u=i:v&&t!==void 0?u=t:u=s;var g=Or(u);return I.useEffect(function(){var S=function(){if(u===void 0){if(_)return b();var h=o(null);return h!==-1?[h]:[]}else if(!Array.isArray(u)){var h=o(u);return h!==-1?[h]:[]}for(var d=[],f=0,m=u;f<m.length;f++){var y=m[f],h=o(y);h!==-1&&d.push(h)}return d},b=function(){return l.map(function(h,d){return h.selected?d:-1}).filter(function(h){return h!==-1})},o=function(h){return yc(l,function(d){return h!=null?d.key===h:!!d.selected||!!d.isSelected})};(u!==void 0||!n)&&(u!==g||v)&&p(S())},[v,_,n,g,l,u]),[c,p]}var nl=I.forwardRef(function(e,r){var i=Qr(Y_,e),t=I.useRef(null),s=It(r,t),l=Pa(t,i.responsiveMode),_=Z_(i),n=_[0],a=_[1];return I.createElement(J_,O({},i,{responsiveMode:l,hoisted:{rootRef:s,selectedIndices:n,setSelectedIndices:a}}))});nl.displayName="DropdownBase";var J_=function(e){Le(r,e);function r(i){var t=e.call(this,i)||this;t._host=I.createRef(),t._focusZone=I.createRef(),t._dropDown=I.createRef(),t._scrollIdleDelay=250,t._sizePosCache=new F_,t._requestAnimationFrame=gu(t),t.dismissMenu=function(){var v=t.state.isOpen;v&&t.setState({isOpen:!1})},t._onChange=function(v,g,S,b,o){var h=t.props,d=h.onChange,f=h.onChanged;if(d||f){var m=o?O(O({},g[S]),{selected:!b}):g[S];d&&d(O(O({},v),{target:t._dropDown.current}),m,S),f&&f(m,S)}},t._getPlaceholder=function(){return t.props.placeholder||t.props.placeHolder},t._getTitle=function(v,g){var S=t.props.multiSelectDelimiter,b=S===void 0?", ":S;return v.map(function(o){return o.text}).join(b)},t._onRenderTitle=function(v){return I.createElement(I.Fragment,null,t._getTitle(v))},t._onRenderPlaceholder=function(v){return t._getPlaceholder()?I.createElement(I.Fragment,null,t._getPlaceholder()):null},t._onRenderContainer=function(v){var g=v.calloutProps,S=v.panelProps,b=t.props,o=b.responsiveMode,h=b.dropdownWidth,d=o<=Hr.medium,f={firstFocusableTarget:"#".concat(t._listId,"1")},m=t._classNames.subComponentStyles?t._classNames.subComponentStyles.panel:void 0,y=void 0,w=void 0;return h==="auto"?w=t._dropDown.current?t._dropDown.current.clientWidth:0:y=h||(t._dropDown.current?t._dropDown.current.clientWidth:0),d?I.createElement(V_,O({closeButtonAriaLabel:"Close",focusTrapZoneProps:f,hasCloseButton:!0,isOpen:!0,isLightDismiss:!0,onDismiss:t._onDismiss,styles:m},S),t._renderFocusableList(v)):I.createElement(zn,O({isBeakVisible:!1,gapSpace:0,doNotLayer:!1,directionalHintFixed:!1,directionalHint:Se.bottomLeftEdge,calloutWidth:y,calloutMinWidth:w},g,{className:t._classNames.callout,target:t._dropDown.current,onDismiss:t._onDismiss,onScroll:t._onScroll,onPositioned:t._onPositioned}),t._renderFocusableList(v))},t._onRenderCaretDown=function(v){return I.createElement(mr,{className:t._classNames.caretDown,iconName:"ChevronDown","aria-hidden":!0})},t._onRenderList=function(v){var g=v.onRenderItem,S=g===void 0?t._onRenderItem:g,b={items:[]},o=[],h=function(){var f=b.id?[I.createElement("div",{role:"group",key:b.id,"aria-labelledby":b.id},b.items)]:b.items;o=ge(ge([],o,!0),f,!0),b={items:[]}},d=function(f,m){switch(f.itemType){case Lt.Header:b.items.length>0&&h();var y=t._id+f.key;b.items.push(S(O(O({id:y},f),{index:m}),t._onRenderItem)),b.id=y;break;case Lt.Divider:m>0&&b.items.push(S(O(O({},f),{index:m}),t._onRenderItem)),b.items.length>0&&h();break;default:b.items.push(S(O(O({},f),{index:m}),t._onRenderItem))}};return v.options.forEach(function(f,m){d(f,m)}),b.items.length>0&&h(),I.createElement(I.Fragment,null,o)},t._onRenderItem=function(v){switch(v.itemType){case Lt.Divider:return t._renderSeparator(v);case Lt.Header:return t._renderHeader(v);default:return t._renderOption(v)}},t._renderOption=function(v){var g,S=t.props,b=S.onRenderOption,o=b===void 0?t._onRenderOption:b,h=S.hoisted.selectedIndices,d=h===void 0?[]:h,f=v.index!==void 0&&d?d.indexOf(v.index)>-1:!1,m=v.hidden?t._classNames.dropdownItemHidden:f&&v.disabled===!0?t._classNames.dropdownItemSelectedAndDisabled:f?t._classNames.dropdownItemSelected:v.disabled===!0?t._classNames.dropdownItemDisabled:t._classNames.dropdownItem,y=v.title,w=t._listId+v.index,E=(g=v.id)!==null&&g!==void 0?g:w+"-label",C=t._classNames.subComponentStyles?t._classNames.subComponentStyles.multiSelectItem:void 0;return t.props.multiSelect?I.createElement(I_,{id:w,key:v.key,disabled:v.disabled,onChange:t._onItemClick(v),inputProps:O({"aria-selected":f,onMouseEnter:t._onItemMouseEnter.bind(t,v),onMouseLeave:t._onMouseItemLeave.bind(t,v),onMouseMove:t._onItemMouseMove.bind(t,v),role:"option"},{"data-index":v.index,"data-is-focusable":!(v.disabled||v.hidden)}),label:v.text,title:y,onRenderLabel:t._onRenderItemLabel.bind(t,O(O({},v),{id:E})),className:Qe(m,"is-multi-select"),checked:f,styles:C,ariaPositionInSet:v.hidden?void 0:t._sizePosCache.positionInSet(v.index),ariaSetSize:v.hidden?void 0:t._sizePosCache.optionSetSize,ariaLabel:v.ariaLabel,ariaLabelledBy:v.ariaLabel?void 0:E}):I.createElement(S_,{id:w,key:v.key,"data-index":v.index,"data-is-focusable":!v.disabled,disabled:v.disabled,className:m,onClick:t._onItemClick(v),onMouseEnter:t._onItemMouseEnter.bind(t,v),onMouseLeave:t._onMouseItemLeave.bind(t,v),onMouseMove:t._onItemMouseMove.bind(t,v),role:"option","aria-selected":f?"true":"false",ariaLabel:v.ariaLabel,title:y,"aria-posinset":t._sizePosCache.positionInSet(v.index),"aria-setsize":t._sizePosCache.optionSetSize},o(v,t._onRenderOption))},t._onRenderOption=function(v){return I.createElement("span",{className:t._classNames.dropdownOptionText},v.text)},t._onRenderMultiselectOption=function(v){return I.createElement("span",{id:v.id,"aria-hidden":"true",className:t._classNames.dropdownOptionText},v.text)},t._onRenderItemLabel=function(v){var g=t.props.onRenderOption,S=g===void 0?t._onRenderMultiselectOption:g;return S(v,t._onRenderMultiselectOption)},t._onPositioned=function(v){t._focusZone.current&&t._requestAnimationFrame(function(){var g=t.props.hoisted.selectedIndices;if(t._focusZone.current)if(!t._hasBeenPositioned&&g&&g[0]&&!t.props.options[g[0]].disabled){var S=ke().getElementById("".concat(t._id,"-list").concat(g[0]));S&&t._focusZone.current.focusElement(S),t._hasBeenPositioned=!0}else t._focusZone.current.focus()}),(!t.state.calloutRenderEdge||t.state.calloutRenderEdge!==v.targetEdge)&&t.setState({calloutRenderEdge:v.targetEdge})},t._onItemClick=function(v){return function(g){v.disabled||(t.setSelectedIndex(g,v.index),t.props.multiSelect||t.setState({isOpen:!1}))}},t._onScroll=function(){var v=ha(t.context);!t._isScrollIdle&&t._scrollIdleTimeoutId!==void 0?(v.clearTimeout(t._scrollIdleTimeoutId),t._scrollIdleTimeoutId=void 0):t._isScrollIdle=!1,t._scrollIdleTimeoutId=v.setTimeout(function(){t._isScrollIdle=!0},t._scrollIdleDelay)},t._onMouseItemLeave=function(v,g){if(!t._shouldIgnoreMouseEvent()&&t._host.current)if(t._host.current.setActive)try{t._host.current.setActive()}catch{}else t._host.current.focus()},t._onDismiss=function(){t.setState({isOpen:!1})},t._onDropdownBlur=function(v){var g=t._isDisabled();g||t.state.isOpen||(t.setState({hasFocus:!1}),t.props.onBlur&&t.props.onBlur(v))},t._onDropdownKeyDown=function(v){var g=t._isDisabled();if(!g&&(t._lastKeyDownWasAltOrMeta=t._isAltOrMeta(v),!(t.props.onKeyDown&&(t.props.onKeyDown(v),v.defaultPrevented)))){var S,b=t.props.hoisted.selectedIndices.length?t.props.hoisted.selectedIndices[0]:-1,o=v.altKey||v.metaKey,h=t.state.isOpen;switch(v.which){case Y.enter:t.setState({isOpen:!h});break;case Y.escape:if(!h)return;t.setState({isOpen:!1});break;case Y.up:if(o){if(h){t.setState({isOpen:!1});break}return}t.props.multiSelect?t.setState({isOpen:!0}):t._isDisabled()||(S=t._moveIndex(v,-1,b-1,b));break;case Y.down:o&&(v.stopPropagation(),v.preventDefault()),o&&!h||t.props.multiSelect?t.setState({isOpen:!0}):t._isDisabled()||(S=t._moveIndex(v,1,b+1,b));break;case Y.home:t.props.multiSelect||(S=t._moveIndex(v,1,0,b));break;case Y.end:t.props.multiSelect||(S=t._moveIndex(v,-1,t.props.options.length-1,b));break;case Y.space:break;default:return}S!==b&&(v.stopPropagation(),v.preventDefault())}},t._onDropdownKeyUp=function(v){var g=t._isDisabled();if(!g){var S=t._shouldHandleKeyUp(v),b=t.state.isOpen;if(!(t.props.onKeyUp&&(t.props.onKeyUp(v),v.defaultPrevented))){switch(v.which){case Y.space:t.setState({isOpen:!b});break;default:S&&b&&t.setState({isOpen:!1});return}v.stopPropagation(),v.preventDefault()}}},t._onZoneKeyDown=function(v){var g,S,b;t._lastKeyDownWasAltOrMeta=t._isAltOrMeta(v);var o=v.altKey||v.metaKey;switch(v.which){case Y.up:o?t.setState({isOpen:!1}):t._host.current&&(b=Gs(t._host.current,t._host.current.lastChild,!0));break;case Y.home:case Y.end:case Y.pageUp:case Y.pageDown:break;case Y.down:!o&&t._host.current&&(b=qs(t._host.current,t._host.current.firstChild,!0));break;case Y.escape:t.setState({isOpen:!1});break;case Y.tab:t.setState({isOpen:!1});var h=ke();h&&(v.shiftKey?(g=We(h.body,t._dropDown.current,!1,!1,!0,!0))===null||g===void 0||g.focus():(S=Pe(h.body,t._dropDown.current,!1,!1,!0,!0))===null||S===void 0||S.focus());break;default:return}b&&b.focus(),v.stopPropagation(),v.preventDefault()},t._onZoneKeyUp=function(v){var g=t._shouldHandleKeyUp(v);g&&t.state.isOpen&&(t.setState({isOpen:!1}),v.preventDefault())},t._onDropdownClick=function(v){if(!(t.props.onClick&&(t.props.onClick(v),v.defaultPrevented))){var g=t.state.isOpen,S=t._isDisabled();!S&&!t._shouldOpenOnFocus()&&t.setState({isOpen:!g}),t._isFocusedByClick=!1}},t._onDropdownMouseDown=function(){t._isFocusedByClick=!0},t._onFocus=function(v){var g=t._isDisabled();if(!g){t.props.onFocus&&t.props.onFocus(v);var S={hasFocus:!0};t._shouldOpenOnFocus()&&(S.isOpen=!0),t.setState(S)}},t._isDisabled=function(){var v=t.props.disabled,g=t.props.isDisabled;return v===void 0&&(v=g),v},t._onRenderLabel=function(v){var g=v.label,S=v.required,b=v.disabled,o=t._classNames.subComponentStyles?t._classNames.subComponentStyles.label:void 0;return g?I.createElement(L_,{className:t._classNames.label,id:t._labelId,required:S,styles:o,disabled:b},g):null},lr(t);var s=i.multiSelect,l=i.selectedKey,_=i.selectedKeys,n=i.defaultSelectedKey,a=i.defaultSelectedKeys,c=i.options;if(kt.env.NODE_ENV!=="production")if(xr(il,i,{isDisabled:"disabled",onChanged:"onChange",placeHolder:"placeholder",onRenderPlaceHolder:"onRenderPlaceholder"}),gn(il,i,{defaultSelectedKey:"selectedKey",defaultSelectedKeys:"selectedKeys",selectedKeys:"selectedKey"}),s){var p=function(v){return xt("Dropdown property '".concat(v,"' cannot be used when 'multiSelect' is true. Use '").concat(v,"s' instead."))};l!==void 0&&p("selectedKey"),n!==void 0&&p("defaultSelectedKey")}else{var u=function(v){return xt("Dropdown property '".concat(v,"s' cannot be used when 'multiSelect' is false/unset. Use '").concat(v,"' instead."))};_!==void 0&&u("selectedKey"),a!==void 0&&u("defaultSelectedKey")}return t._id=i.id||lt("Dropdown"),t._labelId=t._id+"-label",t._listId=t._id+"-list",t._optionId=t._id+"-option",t._isScrollIdle=!0,t._hasBeenPositioned=!1,t._sizePosCache.updateOptions(c),t.state={isOpen:!1,hasFocus:!1,calloutRenderEdge:void 0},t}return Object.defineProperty(r.prototype,"selectedOptions",{get:function(){var i=this.props,t=i.options,s=i.hoisted.selectedIndices;return rl(t,s)},enumerable:!1,configurable:!0}),r.prototype.componentWillUnmount=function(){clearTimeout(this._scrollIdleTimeoutId)},r.prototype.componentDidUpdate=function(i,t){t.isOpen===!0&&this.state.isOpen===!1&&(this._gotMouseMove=!1,this._hasBeenPositioned=!1,this.props.onDismiss&&this.props.onDismiss())},r.prototype.render=function(){var i=this._id,t=this.props,s=t.className,l=t.label,_=t.options,n=t.ariaLabel,a=t.required,c=t.errorMessage,p=t.styles,u=t.theme,v=t.panelProps,g=t.calloutProps,S=t.onRenderTitle,b=S===void 0?this._getTitle:S,o=t.onRenderContainer,h=o===void 0?this._onRenderContainer:o,d=t.onRenderCaretDown,f=d===void 0?this._onRenderCaretDown:d,m=t.onRenderLabel,y=m===void 0?this._onRenderLabel:m,w=t.onRenderItem,E=w===void 0?this._onRenderItem:w,C=t.hoisted.selectedIndices,k=this.state,D=k.isOpen,L=k.calloutRenderEdge,R=k.hasFocus,A=t.onRenderPlaceholder||t.onRenderPlaceHolder||this._getPlaceholder;_!==this._sizePosCache.cachedOptions&&this._sizePosCache.updateOptions(_);var N=rl(_,C),W=De(t,Wt),U=this._isDisabled(),F=i+"-errorMessage";this._classNames=X_(p,{theme:u,className:s,hasError:!!(c&&c.length>0),hasLabel:!!l,isOpen:D,required:a,disabled:U,isRenderingPlaceholder:!N.length,panelClassName:v?v.className:void 0,calloutClassName:g?g.className:void 0,calloutRenderEdge:L});var x=!!c&&c.length>0;return I.createElement("div",{className:this._classNames.root,ref:this.props.hoisted.rootRef,"aria-owns":D?this._listId:void 0},y(this.props,this._onRenderLabel),I.createElement("div",O({"data-is-focusable":!U,"data-ktp-target":!0,ref:this._dropDown,id:i,tabIndex:U?-1:0,role:"combobox","aria-haspopup":"listbox","aria-expanded":D?"true":"false","aria-label":n,"aria-labelledby":l&&!n?Dr(this._labelId,this._optionId):void 0,"aria-describedby":x?this._id+"-errorMessage":void 0,"aria-required":a,"aria-disabled":U,"aria-invalid":x,"aria-controls":D?this._listId:void 0},W,{className:this._classNames.dropdown,onBlur:this._onDropdownBlur,onKeyDown:this._onDropdownKeyDown,onKeyUp:this._onDropdownKeyUp,onClick:this._onDropdownClick,onMouseDown:this._onDropdownMouseDown,onFocus:this._onFocus}),I.createElement("span",{id:this._optionId,className:this._classNames.title,"aria-live":R?"polite":void 0,"aria-atomic":R?!0:void 0},N.length?b(N,this._onRenderTitle):A(t,this._onRenderPlaceholder)),I.createElement("span",{className:this._classNames.caretDownWrapper},f(t,this._onRenderCaretDown))),D&&h(O(O({},t),{onDismiss:this._onDismiss,onRenderItem:E}),this._onRenderContainer),x&&I.createElement("div",{role:"alert",id:F,className:this._classNames.errorMessage},c))},r.prototype.focus=function(i){this._dropDown.current&&(this._dropDown.current.focus(),i&&this.setState({isOpen:!0}))},r.prototype.setSelectedIndex=function(i,t){var s=this.props,l=s.options,_=s.selectedKey,n=s.selectedKeys,a=s.multiSelect,c=s.notifyOnReselect,p=s.hoisted.selectedIndices,u=p===void 0?[]:p,v=u?u.indexOf(t)>-1:!1,g=[];if(t=Math.max(0,Math.min(l.length-1,t)),_!==void 0||n!==void 0){this._onChange(i,l,t,v,a);return}if(!(!a&&!c&&t===u[0])){if(a)if(g=u?this._copyArray(u):[],v){var S=g.indexOf(t);S>-1&&g.splice(S,1)}else g.push(t);else g=[t];i.persist(),this.props.hoisted.setSelectedIndices(g),this._onChange(i,l,t,v,a)}},r.prototype._copyArray=function(i){for(var t=[],s=0,l=i;s<l.length;s++){var _=l[s];t.push(_)}return t},r.prototype._moveIndex=function(i,t,s,l){var _=this.props.options;if(l===s||_.length===0)return l;s>=_.length?s=0:s<0&&(s=_.length-1);for(var n=0;_[s].itemType===Lt.Header||_[s].itemType===Lt.Divider||_[s].disabled;){if(n>=_.length)return l;s+t<0?s=_.length:s+t>=_.length&&(s=-1),s=s+t,n++}return this.setSelectedIndex(i,s),s},r.prototype._renderFocusableList=function(i){var t=i.onRenderList,s=t===void 0?this._onRenderList:t,l=i.label,_=i.ariaLabel,n=i.multiSelect;return I.createElement("div",{className:this._classNames.dropdownItemsWrapper,onKeyDown:this._onZoneKeyDown,onKeyUp:this._onZoneKeyUp,ref:this._host,tabIndex:0},I.createElement(Ea,{ref:this._focusZone,direction:Fe.vertical,id:this._listId,className:this._classNames.dropdownItems,role:"listbox","aria-label":_,"aria-labelledby":l&&!_?this._labelId:void 0,"aria-multiselectable":n},s(i,this._onRenderList)))},r.prototype._renderSeparator=function(i){var t=i.index,s=i.key,l=i.hidden?this._classNames.dropdownDividerHidden:this._classNames.dropdownDivider;return t>0?I.createElement("div",{role:"presentation",key:s,className:l}):null},r.prototype._renderHeader=function(i){var t=this.props.onRenderOption,s=t===void 0?this._onRenderOption:t,l=i.key,_=i.id,n=i.hidden?this._classNames.dropdownItemHeaderHidden:this._classNames.dropdownItemHeader;return I.createElement("div",{id:_,key:l,className:n},s(i,this._onRenderOption))},r.prototype._onItemMouseEnter=function(i,t){if(!this._shouldIgnoreMouseEvent()){var s=t.currentTarget;s.focus()}},r.prototype._onItemMouseMove=function(i,t){var s=$i(this.context),l=t.currentTarget;this._gotMouseMove=!0,!(!this._isScrollIdle||s.activeElement===l)&&l.focus()},r.prototype._shouldIgnoreMouseEvent=function(){return!this._isScrollIdle||!this._gotMouseMove},r.prototype._isAltOrMeta=function(i){return i.which===Y.alt||i.key==="Meta"},r.prototype._shouldHandleKeyUp=function(i){var t=this._lastKeyDownWasAltOrMeta&&this._isAltOrMeta(i);return this._lastKeyDownWasAltOrMeta=!1,!!t&&!(Tn()||Dn())},r.prototype._shouldOpenOnFocus=function(){var i=this.state.hasFocus,t=this.props.openOnKeyboardFocus;return!this._isFocusedByClick&&t===!0&&!i},r.defaultProps={options:[]},r.contextType=Zr,r}(I.Component),as,Qi,ls,cs,us,Q_={root:"ms-Dropdown-container",label:"ms-Dropdown-label",dropdown:"ms-Dropdown",title:"ms-Dropdown-title",caretDownWrapper:"ms-Dropdown-caretDownWrapper",caretDown:"ms-Dropdown-caretDown",callout:"ms-Dropdown-callout",panel:"ms-Dropdown-panel",dropdownItems:"ms-Dropdown-items",dropdownItem:"ms-Dropdown-item",dropdownDivider:"ms-Dropdown-divider",dropdownOptionText:"ms-Dropdown-optionText",dropdownItemHeader:"ms-Dropdown-header",titleIsPlaceHolder:"ms-Dropdown-titleIsPlaceHolder",titleHasError:"ms-Dropdown-title--hasError"},en=32,hs=36,ev=(as={},as["".concat(J,", ").concat(vh.replace("@media ",""))]=O({},Be()),as),tn={selectors:O((Qi={},Qi[J]=(ls={backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText"},ls[".".concat(se," &:focus:after")]={borderColor:"HighlightText"},ls),Qi[".ms-Checkbox-checkbox"]=(cs={},cs[J]={borderColor:"HighlightText"},cs),Qi),ev)},sl={selectors:(us={},us[J]={borderColor:"Highlight"},us)},tv=Bn(0,ti),rv=function(e){var r,i,t,s,l,_,n,a,c,p,u,v,g=e.theme,S=e.hasError,b=e.hasLabel,o=e.className,h=e.isOpen,d=e.disabled,f=e.required,m=e.isRenderingPlaceholder,y=e.panelClassName,w=e.calloutClassName,E=e.calloutRenderEdge;if(!g)throw new Error("theme is undefined or null in base Dropdown getStyles function.");var C=vt(Q_,g),k=g.palette,D=g.semanticColors,L=g.effects,R=g.fonts,A={color:D.menuItemTextHovered},N={color:D.menuItemText},W={borderColor:D.errorText},U=[C.dropdownItem,{backgroundColor:"transparent",boxSizing:"border-box",cursor:"pointer",display:"flex",alignItems:"center",padding:"0 8px",width:"100%",minHeight:hs,lineHeight:20,height:0,position:"relative",border:"1px solid transparent",borderRadius:0,wordWrap:"break-word",overflowWrap:"break-word",textAlign:"left",".ms-Button-flexContainer":{width:"100%"}}],F=[C.dropdownItemHeader,O(O({},R.medium),{fontWeight:ve.semibold,color:D.menuHeader,background:"none",backgroundColor:"transparent",border:"none",height:hs,lineHeight:hs,cursor:"default",padding:"0 8px",userSelect:"none",textAlign:"left",selectors:(r={},r[J]=O({color:"GrayText"},Be()),r)})],x=D.menuItemBackgroundPressed,M=function(G){var X,ne;return G===void 0&&(G=!1),{selectors:(X={"&:hover":[{color:D.menuItemTextHovered,backgroundColor:G?x:D.menuItemBackgroundHovered},tn],"&.is-multi-select:hover":[{backgroundColor:G?x:"transparent"},tn],"&:active:hover":[{color:D.menuItemTextHovered,backgroundColor:G?D.menuItemBackgroundHovered:D.menuItemBackgroundPressed},tn]},X[".".concat(se," &:focus:after, :host(.").concat(se,") &:focus:after")]=(ne={left:0,top:0,bottom:0,right:0},ne[J]={inset:"2px"},ne),X[J]={border:"none"},X)}},B=ge(ge([],U,!0),[{backgroundColor:x,color:D.menuItemTextHovered},M(!0),tn],!1),P=ge(ge([],U,!0),[{color:D.disabledText,cursor:"default",selectors:(i={},i[J]={color:"GrayText",border:"none"},i)}],!1),j=E===Z.bottom?"".concat(L.roundedCorner2," ").concat(L.roundedCorner2," 0 0"):"0 0 ".concat(L.roundedCorner2," ").concat(L.roundedCorner2),$=E===Z.bottom?"0 0 ".concat(L.roundedCorner2," ").concat(L.roundedCorner2):"".concat(L.roundedCorner2," ").concat(L.roundedCorner2," 0 0");return{root:[C.root,o],label:C.label,dropdown:[C.dropdown,Qo,R.medium,{color:D.menuItemText,borderColor:D.focusBorder,position:"relative",outline:0,userSelect:"none",selectors:(t={},t["&:hover ."+C.title]=[!d&&A,{borderColor:h?k.neutralSecondary:k.neutralPrimary},sl],t["&:focus ."+C.title]=[!d&&A,{selectors:(s={},s[J]={color:"Highlight"},s)}],t["&:focus:after"]=[{pointerEvents:"none",content:"''",position:"absolute",boxSizing:"border-box",top:"0px",left:"0px",width:"100%",height:"100%",border:d?"none":"2px solid ".concat(k.themePrimary),borderRadius:"2px",selectors:(l={},l[J]={color:"Highlight"},l)}],t["&:active ."+C.title]=[!d&&A,{borderColor:k.themePrimary},sl],t["&:hover ."+C.caretDown]=!d&&N,t["&:focus ."+C.caretDown]=[!d&&N,{selectors:(_={},_[J]={color:"Highlight"},_)}],t["&:active ."+C.caretDown]=!d&&N,t["&:hover ."+C.titleIsPlaceHolder]=!d&&N,t["&:focus ."+C.titleIsPlaceHolder]=!d&&N,t["&:active ."+C.titleIsPlaceHolder]=!d&&N,t["&:hover ."+C.titleHasError]=W,t["&:active ."+C.titleHasError]=W,t)},h&&"is-open",d&&"is-disabled",f&&"is-required",f&&!b&&{selectors:(n={":before":{content:"'*'",color:D.errorText,position:"absolute",top:-5,right:-10}},n[J]={selectors:{":after":{right:-14}}},n)}],title:[C.title,Qo,{backgroundColor:D.inputBackground,borderWidth:1,borderStyle:"solid",borderColor:D.inputBorder,borderRadius:h?j:L.roundedCorner2,cursor:"pointer",display:"block",height:en,lineHeight:en-2,padding:"0 28px 0 8px",position:"relative",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},m&&[C.titleIsPlaceHolder,{color:D.inputPlaceholderText}],S&&[C.titleHasError,W],d&&{backgroundColor:D.disabledBackground,border:"none",color:D.disabledText,cursor:"default",selectors:(a={},a[J]=O({border:"1px solid GrayText",color:"GrayText",backgroundColor:"Window"},Be()),a)}],caretDownWrapper:[C.caretDownWrapper,{height:en,lineHeight:en-2,paddingTop:1,position:"absolute",right:8,top:0},!d&&{cursor:"pointer"}],caretDown:[C.caretDown,{color:k.neutralSecondary,fontSize:R.small.fontSize,pointerEvents:"none"},d&&{color:D.disabledText,selectors:(c={},c[J]=O({color:"GrayText"},Be()),c)}],errorMessage:O(O({color:D.errorText},g.fonts.small),{paddingTop:5}),callout:[C.callout,{boxShadow:L.elevation8,borderRadius:$,selectors:(p={},p[".ms-Callout-main"]={borderRadius:$},p)},w],dropdownItemsWrapper:{selectors:{"&:focus":{outline:0}}},dropdownItems:[C.dropdownItems,{display:"block"}],dropdownItem:ge(ge([],U,!0),[M()],!1),dropdownItemSelected:B,dropdownItemDisabled:P,dropdownItemSelectedAndDisabled:[B,P,{backgroundColor:"transparent"}],dropdownItemHidden:ge(ge([],U,!0),[{display:"none"}],!1),dropdownDivider:[C.dropdownDivider,{height:1,backgroundColor:D.bodyDivider}],dropdownDividerHidden:[C.dropdownDivider,{display:"none"}],dropdownOptionText:[C.dropdownOptionText,{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",minWidth:0,maxWidth:"100%",wordWrap:"break-word",overflowWrap:"break-word",margin:"1px"}],dropdownItemHeader:F,dropdownItemHeaderHidden:ge(ge([],F,!0),[{display:"none"}],!1),subComponentStyles:{label:{root:{display:"inline-block"}},multiSelectItem:{root:{padding:0},label:{alignSelf:"stretch",padding:"0 8px",width:"100%"},input:{selectors:(u={},u[".".concat(se," &:focus + label::before, :host(.").concat(se,") &:focus + label::before")]={outlineOffset:"0px"},u)}},panel:{root:[y],main:{selectors:(v={},v[tv]={width:272},v)},contentInner:{padding:"0 0 20px"}}}}},ol=et(nl,rv,void 0,{scope:"Dropdown"});ol.displayName="Dropdown";const iv=()=>{const[e,r]=I.default.useState([]);return I.default.useEffect(()=>{r([{key:"azure-docs/articles/aks/learn/quick-kubernetes-deploy-cli.md",text:"Deploy an Azure Kubernetes Service (AKS) cluster"},{key:"azure-databases-docs/articles/mysql/flexible-server/tutorial-deploy-wordpress-on-aks.md",text:"Tutorial: Deploy WordPress on AKS cluster by using Azure CLI"},{key:"CreateAKSWebApp/README.md",text:"Deploy a Scalable & Secure Azure Kubernetes Service cluster using the Azure CLI"}])},[]),{tutorials:e}},nv=()=>{const e=Sl(),{tutorials:r}=iv();return!e.selectedTutorial||!e.confirmSelection||e.scenarioStatus===jr.NOTSTARTED?fe.jsxs(fe.Fragment,{children:[fe.jsx("p",{style:{marginBottom:"12px"},children:'Please select one of the following Executable Docs from the dropdown. Then, click "Run" to execute the selected doc.'}),fe.jsx("p",{style:{marginBottom:"12px"},children:'Then, click "Run" to execute the selected doc.'}),fe.jsx(ol,{label:"Select an Executable Doc:","aria-label":"Select an Executable Doc",style:{width:"60%",marginBottom:"12px"},options:r,selectedKey:e.selectedTutorial,onChange:(i,t)=>{console.log("WORKING"),e.setSelectedTutorial(t.key),e.setScenarioStatus(jr.EXECUTING)}}),fe.jsx(ts,{text:"Run",onClick:()=>{var i;e.setConfirmSelection(!0),console.log(e.selectedTutorial),(i=e.terminalSocket)==null||i.send(`ie execute ${e.selectedTutorial}`)},color:"primary"})]}):e.confirmSelection&&(e.scenarioStatus===jr.EXECUTING||e.scenarioStatus===jr.FAILED)?fe.jsx("div",{}):fe.jsx("div",{})};var ds={exports:{}},al;function sv(){return al||(al=1,function(e,r){(function(i,t){e.exports=t()})(self,()=>(()=>{var i={};return(()=>{var t=i;function s(l,_,n){return l.addEventListener(_,n),{dispose:()=>{n&&l.removeEventListener(_,n)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.AttachAddon=void 0,t.AttachAddon=class{constructor(l,_){this._disposables=[],this._socket=l,this._socket.binaryType="arraybuffer",this._bidirectional=!(_&&_.bidirectional===!1)}activate(l){this._disposables.push(s(this._socket,"message",_=>{const n=_.data;l.write(typeof n=="string"?n:new Uint8Array(n))})),this._bidirectional&&(this._disposables.push(l.onData(_=>this._sendData(_))),this._disposables.push(l.onBinary(_=>this._sendBinary(_)))),this._disposables.push(s(this._socket,"close",()=>this.dispose())),this._disposables.push(s(this._socket,"error",()=>this.dispose()))}dispose(){for(const l of this._disposables)l.dispose()}_sendData(l){this._checkOpenSocket()&&this._socket.send(l)}_sendBinary(l){if(!this._checkOpenSocket())return;const _=new Uint8Array(l.length);for(let n=0;n<l.length;++n)_[n]=255&l.charCodeAt(n);this._socket.send(_)}_checkOpenSocket(){switch(this._socket.readyState){case WebSocket.OPEN:return!0;case WebSocket.CONNECTING:throw new Error("Attach addon was loaded before socket was open");case WebSocket.CLOSING:return console.warn("Attach addon socket is closing"),!1;case WebSocket.CLOSED:throw new Error("Attach addon socket is closed");default:throw new Error("Unexpected socket state")}}}})(),i})())}(ds)),ds.exports}var ov=sv(),fs={exports:{}},ll;function av(){return ll||(ll=1,function(e,r){(function(i,t){e.exports=t()})(self,()=>(()=>{var i={4567:function(_,n,a){var c=this&&this.__decorate||function(f,m,y,w){var E,C=arguments.length,k=C<3?m:w===null?w=Object.getOwnPropertyDescriptor(m,y):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(f,m,y,w);else for(var D=f.length-1;D>=0;D--)(E=f[D])&&(k=(C<3?E(k):C>3?E(m,y,k):E(m,y))||k);return C>3&&k&&Object.defineProperty(m,y,k),k},p=this&&this.__param||function(f,m){return function(y,w){m(y,w,f)}};Object.defineProperty(n,"__esModule",{value:!0}),n.AccessibilityManager=void 0;const u=a(9042),v=a(6114),g=a(9924),S=a(844),b=a(5596),o=a(4725),h=a(3656);let d=n.AccessibilityManager=class extends S.Disposable{constructor(f,m){super(),this._terminal=f,this._renderService=m,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let y=0;y<this._terminal.rows;y++)this._rowElements[y]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[y]);if(this._topBoundaryFocusListener=y=>this._handleBoundaryFocus(y,0),this._bottomBoundaryFocusListener=y=>this._handleBoundaryFocus(y,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new g.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(y=>this._handleResize(y.rows))),this.register(this._terminal.onRender(y=>this._refreshRows(y.start,y.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(y=>this._handleChar(y))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(y=>this._handleTab(y))),this.register(this._terminal.onKey(y=>this._handleKey(y.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new b.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,h.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,S.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(f){for(let m=0;m<f;m++)this._handleChar(" ")}_handleChar(f){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==f&&(this._charsToAnnounce+=f):this._charsToAnnounce+=f,f===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=u.tooMuchOutput)),v.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,v.isMac&&this._liveRegion.remove()}_handleKey(f){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(f)||this._charsToConsume.push(f)}_refreshRows(f,m){this._liveRegionDebouncer.refresh(f,m,this._terminal.rows)}_renderRows(f,m){const y=this._terminal.buffer,w=y.lines.length.toString();for(let E=f;E<=m;E++){const C=y.translateBufferLineToString(y.ydisp+E,!0),k=(y.ydisp+E+1).toString(),D=this._rowElements[E];D&&(C.length===0?D.innerText="":D.textContent=C,D.setAttribute("aria-posinset",k),D.setAttribute("aria-setsize",w))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(f,m){const y=f.target,w=this._rowElements[m===0?1:this._rowElements.length-2];if(y.getAttribute("aria-posinset")===(m===0?"1":`${this._terminal.buffer.lines.length}`)||f.relatedTarget!==w)return;let E,C;if(m===0?(E=y,C=this._rowElements.pop(),this._rowContainer.removeChild(C)):(E=this._rowElements.shift(),C=y,this._rowContainer.removeChild(E)),E.removeEventListener("focus",this._topBoundaryFocusListener),C.removeEventListener("focus",this._bottomBoundaryFocusListener),m===0){const k=this._createAccessibilityTreeNode();this._rowElements.unshift(k),this._rowContainer.insertAdjacentElement("afterbegin",k)}else{const k=this._createAccessibilityTreeNode();this._rowElements.push(k),this._rowContainer.appendChild(k)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(m===0?-1:1),this._rowElements[m===0?1:this._rowElements.length-2].focus(),f.preventDefault(),f.stopImmediatePropagation()}_handleResize(f){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let m=this._rowContainer.children.length;m<this._terminal.rows;m++)this._rowElements[m]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[m]);for(;this._rowElements.length>f;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const f=document.createElement("div");return f.setAttribute("role","listitem"),f.tabIndex=-1,this._refreshRowDimensions(f),f}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let f=0;f<this._terminal.rows;f++)this._refreshRowDimensions(this._rowElements[f])}}_refreshRowDimensions(f){f.style.height=`${this._renderService.dimensions.css.cell.height}px`}};n.AccessibilityManager=d=c([p(1,o.IRenderService)],d)},3614:(_,n)=>{function a(v){return v.replace(/\r?\n/g,"\r")}function c(v,g){return g?"\x1B[200~"+v+"\x1B[201~":v}function p(v,g,S,b){v=c(v=a(v),S.decPrivateModes.bracketedPasteMode&&b.rawOptions.ignoreBracketedPasteMode!==!0),S.triggerDataEvent(v,!0),g.value=""}function u(v,g,S){const b=S.getBoundingClientRect(),o=v.clientX-b.left-10,h=v.clientY-b.top-10;g.style.width="20px",g.style.height="20px",g.style.left=`${o}px`,g.style.top=`${h}px`,g.style.zIndex="1000",g.focus()}Object.defineProperty(n,"__esModule",{value:!0}),n.rightClickHandler=n.moveTextAreaUnderMouseCursor=n.paste=n.handlePasteEvent=n.copyHandler=n.bracketTextForPaste=n.prepareTextForTerminal=void 0,n.prepareTextForTerminal=a,n.bracketTextForPaste=c,n.copyHandler=function(v,g){v.clipboardData&&v.clipboardData.setData("text/plain",g.selectionText),v.preventDefault()},n.handlePasteEvent=function(v,g,S,b){v.stopPropagation(),v.clipboardData&&p(v.clipboardData.getData("text/plain"),g,S,b)},n.paste=p,n.moveTextAreaUnderMouseCursor=u,n.rightClickHandler=function(v,g,S,b,o){u(v,g,S),o&&b.rightClickSelect(v),g.value=b.selectionText,g.select()}},7239:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorContrastCache=void 0;const c=a(1505);n.ColorContrastCache=class{constructor(){this._color=new c.TwoKeyMap,this._css=new c.TwoKeyMap}setCss(p,u,v){this._css.set(p,u,v)}getCss(p,u){return this._css.get(p,u)}setColor(p,u,v){this._color.set(p,u,v)}getColor(p,u){return this._color.get(p,u)}clear(){this._color.clear(),this._css.clear()}}},3656:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.addDisposableDomListener=void 0,n.addDisposableDomListener=function(a,c,p,u){a.addEventListener(c,p,u);let v=!1;return{dispose:()=>{v||(v=!0,a.removeEventListener(c,p,u))}}}},6465:function(_,n,a){var c=this&&this.__decorate||function(o,h,d,f){var m,y=arguments.length,w=y<3?h:f===null?f=Object.getOwnPropertyDescriptor(h,d):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(o,h,d,f);else for(var E=o.length-1;E>=0;E--)(m=o[E])&&(w=(y<3?m(w):y>3?m(h,d,w):m(h,d))||w);return y>3&&w&&Object.defineProperty(h,d,w),w},p=this&&this.__param||function(o,h){return function(d,f){h(d,f,o)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Linkifier2=void 0;const u=a(3656),v=a(8460),g=a(844),S=a(2585);let b=n.Linkifier2=class extends g.Disposable{get currentLink(){return this._currentLink}constructor(o){super(),this._bufferService=o,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new v.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new v.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,g.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,g.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(o){return this._linkProviders.push(o),{dispose:()=>{const h=this._linkProviders.indexOf(o);h!==-1&&this._linkProviders.splice(h,1)}}}attachToDom(o,h,d){this._element=o,this._mouseService=h,this._renderService=d,this.register((0,u.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,u.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(o){if(this._lastMouseEvent=o,!this._element||!this._mouseService)return;const h=this._positionFromMouseEvent(o,this._element,this._mouseService);if(!h)return;this._isMouseOut=!1;const d=o.composedPath();for(let f=0;f<d.length;f++){const m=d[f];if(m.classList.contains("xterm"))break;if(m.classList.contains("xterm-hover"))return}this._lastBufferCell&&h.x===this._lastBufferCell.x&&h.y===this._lastBufferCell.y||(this._handleHover(h),this._lastBufferCell=h)}_handleHover(o){if(this._activeLine!==o.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(o,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,o)||(this._clearCurrentLink(),this._askForLink(o,!0))}_askForLink(o,h){var d,f;this._activeProviderReplies&&h||((d=this._activeProviderReplies)===null||d===void 0||d.forEach(y=>{y==null||y.forEach(w=>{w.link.dispose&&w.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=o.y);let m=!1;for(const[y,w]of this._linkProviders.entries())h?!((f=this._activeProviderReplies)===null||f===void 0)&&f.get(y)&&(m=this._checkLinkProviderResult(y,o,m)):w.provideLinks(o.y,E=>{var C,k;if(this._isMouseOut)return;const D=E==null?void 0:E.map(L=>({link:L}));(C=this._activeProviderReplies)===null||C===void 0||C.set(y,D),m=this._checkLinkProviderResult(y,o,m),((k=this._activeProviderReplies)===null||k===void 0?void 0:k.size)===this._linkProviders.length&&this._removeIntersectingLinks(o.y,this._activeProviderReplies)})}_removeIntersectingLinks(o,h){const d=new Set;for(let f=0;f<h.size;f++){const m=h.get(f);if(m)for(let y=0;y<m.length;y++){const w=m[y],E=w.link.range.start.y<o?0:w.link.range.start.x,C=w.link.range.end.y>o?this._bufferService.cols:w.link.range.end.x;for(let k=E;k<=C;k++){if(d.has(k)){m.splice(y--,1);break}d.add(k)}}}}_checkLinkProviderResult(o,h,d){var f;if(!this._activeProviderReplies)return d;const m=this._activeProviderReplies.get(o);let y=!1;for(let w=0;w<o;w++)this._activeProviderReplies.has(w)&&!this._activeProviderReplies.get(w)||(y=!0);if(!y&&m){const w=m.find(E=>this._linkAtPosition(E.link,h));w&&(d=!0,this._handleNewLink(w))}if(this._activeProviderReplies.size===this._linkProviders.length&&!d)for(let w=0;w<this._activeProviderReplies.size;w++){const E=(f=this._activeProviderReplies.get(w))===null||f===void 0?void 0:f.find(C=>this._linkAtPosition(C.link,h));if(E){d=!0,this._handleNewLink(E);break}}return d}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(o){if(!this._element||!this._mouseService||!this._currentLink)return;const h=this._positionFromMouseEvent(o,this._element,this._mouseService);h&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,h)&&this._currentLink.link.activate(o,this._currentLink.link.text)}_clearCurrentLink(o,h){this._element&&this._currentLink&&this._lastMouseEvent&&(!o||!h||this._currentLink.link.range.start.y>=o&&this._currentLink.link.range.end.y<=h)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,g.disposeArray)(this._linkCacheDisposables))}_handleNewLink(o){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const h=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);h&&this._linkAtPosition(o.link,h)&&(this._currentLink=o,this._currentLink.state={decorations:{underline:o.link.decorations===void 0||o.link.decorations.underline,pointerCursor:o.link.decorations===void 0||o.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,o.link,this._lastMouseEvent),o.link.decorations={},Object.defineProperties(o.link.decorations,{pointerCursor:{get:()=>{var d,f;return(f=(d=this._currentLink)===null||d===void 0?void 0:d.state)===null||f===void 0?void 0:f.decorations.pointerCursor},set:d=>{var f,m;!((f=this._currentLink)===null||f===void 0)&&f.state&&this._currentLink.state.decorations.pointerCursor!==d&&(this._currentLink.state.decorations.pointerCursor=d,this._currentLink.state.isHovered&&((m=this._element)===null||m===void 0||m.classList.toggle("xterm-cursor-pointer",d)))}},underline:{get:()=>{var d,f;return(f=(d=this._currentLink)===null||d===void 0?void 0:d.state)===null||f===void 0?void 0:f.decorations.underline},set:d=>{var f,m,y;!((f=this._currentLink)===null||f===void 0)&&f.state&&((y=(m=this._currentLink)===null||m===void 0?void 0:m.state)===null||y===void 0?void 0:y.decorations.underline)!==d&&(this._currentLink.state.decorations.underline=d,this._currentLink.state.isHovered&&this._fireUnderlineEvent(o.link,d))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(d=>{if(!this._currentLink)return;const f=d.start===0?0:d.start+1+this._bufferService.buffer.ydisp,m=this._bufferService.buffer.ydisp+1+d.end;if(this._currentLink.link.range.start.y>=f&&this._currentLink.link.range.end.y<=m&&(this._clearCurrentLink(f,m),this._lastMouseEvent&&this._element)){const y=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);y&&this._askForLink(y,!1)}})))}_linkHover(o,h,d){var f;!((f=this._currentLink)===null||f===void 0)&&f.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(h,!0),this._currentLink.state.decorations.pointerCursor&&o.classList.add("xterm-cursor-pointer")),h.hover&&h.hover(d,h.text)}_fireUnderlineEvent(o,h){const d=o.range,f=this._bufferService.buffer.ydisp,m=this._createLinkUnderlineEvent(d.start.x-1,d.start.y-f-1,d.end.x,d.end.y-f-1,void 0);(h?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(m)}_linkLeave(o,h,d){var f;!((f=this._currentLink)===null||f===void 0)&&f.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(h,!1),this._currentLink.state.decorations.pointerCursor&&o.classList.remove("xterm-cursor-pointer")),h.leave&&h.leave(d,h.text)}_linkAtPosition(o,h){const d=o.range.start.y*this._bufferService.cols+o.range.start.x,f=o.range.end.y*this._bufferService.cols+o.range.end.x,m=h.y*this._bufferService.cols+h.x;return d<=m&&m<=f}_positionFromMouseEvent(o,h,d){const f=d.getCoords(o,h,this._bufferService.cols,this._bufferService.rows);if(f)return{x:f[0],y:f[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(o,h,d,f,m){return{x1:o,y1:h,x2:d,y2:f,cols:this._bufferService.cols,fg:m}}};n.Linkifier2=b=c([p(0,S.IBufferService)],b)},9042:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tooMuchOutput=n.promptLabel=void 0,n.promptLabel="Terminal input",n.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(_,n,a){var c=this&&this.__decorate||function(b,o,h,d){var f,m=arguments.length,y=m<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,h):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(b,o,h,d);else for(var w=b.length-1;w>=0;w--)(f=b[w])&&(y=(m<3?f(y):m>3?f(o,h,y):f(o,h))||y);return m>3&&y&&Object.defineProperty(o,h,y),y},p=this&&this.__param||function(b,o){return function(h,d){o(h,d,b)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OscLinkProvider=void 0;const u=a(511),v=a(2585);let g=n.OscLinkProvider=class{constructor(b,o,h){this._bufferService=b,this._optionsService=o,this._oscLinkService=h}provideLinks(b,o){var h;const d=this._bufferService.buffer.lines.get(b-1);if(!d)return void o(void 0);const f=[],m=this._optionsService.rawOptions.linkHandler,y=new u.CellData,w=d.getTrimmedLength();let E=-1,C=-1,k=!1;for(let D=0;D<w;D++)if(C!==-1||d.hasContent(D)){if(d.loadCell(D,y),y.hasExtendedAttrs()&&y.extended.urlId){if(C===-1){C=D,E=y.extended.urlId;continue}k=y.extended.urlId!==E}else C!==-1&&(k=!0);if(k||C!==-1&&D===w-1){const L=(h=this._oscLinkService.getLinkData(E))===null||h===void 0?void 0:h.uri;if(L){const R={start:{x:C+1,y:b},end:{x:D+(k||D!==w-1?0:1),y:b}};let A=!1;if(!(m!=null&&m.allowNonHttpProtocols))try{const N=new URL(L);["http:","https:"].includes(N.protocol)||(A=!0)}catch{A=!0}A||f.push({text:L,range:R,activate:(N,W)=>m?m.activate(N,W,R):S(0,W),hover:(N,W)=>{var U;return(U=m==null?void 0:m.hover)===null||U===void 0?void 0:U.call(m,N,W,R)},leave:(N,W)=>{var U;return(U=m==null?void 0:m.leave)===null||U===void 0?void 0:U.call(m,N,W,R)}})}k=!1,y.hasExtendedAttrs()&&y.extended.urlId?(C=D,E=y.extended.urlId):(C=-1,E=-1)}}o(f)}};function S(b,o){if(confirm(`Do you want to navigate to ${o}?

WARNING: This link could potentially be dangerous`)){const h=window.open();if(h){try{h.opener=null}catch{}h.location.href=o}else console.warn("Opening link blocked as opener could not be cleared")}}n.OscLinkProvider=g=c([p(0,v.IBufferService),p(1,v.IOptionsService),p(2,v.IOscLinkService)],g)},6193:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.RenderDebouncer=void 0,n.RenderDebouncer=class{constructor(a,c){this._parentWindow=a,this._renderCallback=c,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(a){return this._refreshCallbacks.push(a),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(a,c,p){this._rowCount=p,a=a!==void 0?a:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const a=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,c),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const a of this._refreshCallbacks)a(0);this._refreshCallbacks=[]}}},5596:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ScreenDprMonitor=void 0;const c=a(844);class p extends c.Disposable{constructor(v){super(),this._parentWindow=v,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,c.toDisposable)(()=>{this.clearListener()}))}setListener(v){this._listener&&this.clearListener(),this._listener=v,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var v;this._outerListener&&((v=this._resolutionMediaMatchList)===null||v===void 0||v.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}n.ScreenDprMonitor=p},3236:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Terminal=void 0;const c=a(3614),p=a(3656),u=a(6465),v=a(9042),g=a(3730),S=a(1680),b=a(3107),o=a(5744),h=a(2950),d=a(1296),f=a(428),m=a(4269),y=a(5114),w=a(8934),E=a(3230),C=a(9312),k=a(4725),D=a(6731),L=a(8055),R=a(8969),A=a(8460),N=a(844),W=a(6114),U=a(8437),F=a(2584),x=a(7399),M=a(5941),B=a(9074),P=a(2585),j=a(5435),$=a(4567),G=typeof window<"u"?window.document:null;class X extends R.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(T={}){super(T),this.browser=W,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new N.MutableDisposable),this._onCursorMove=this.register(new A.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new A.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new A.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new A.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new A.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new A.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new A.EventEmitter),this._onBlur=this.register(new A.EventEmitter),this._onA11yCharEmitter=this.register(new A.EventEmitter),this._onA11yTabEmitter=this.register(new A.EventEmitter),this._onWillOpen=this.register(new A.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(u.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(g.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(B.DecorationService),this._instantiationService.setService(P.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((H,z)=>this.refresh(H,z))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(H=>this._reportWindowsOptions(H))),this.register(this._inputHandler.onColor(H=>this._handleColorEvent(H))),this.register((0,A.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,A.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,A.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,A.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(H=>this._afterResize(H.cols,H.rows))),this.register((0,N.toDisposable)(()=>{var H,z;this._customKeyEventHandler=void 0,(z=(H=this.element)===null||H===void 0?void 0:H.parentNode)===null||z===void 0||z.removeChild(this.element)}))}_handleColorEvent(T){if(this._themeService)for(const H of T){let z,K="";switch(H.index){case 256:z="foreground",K="10";break;case 257:z="background",K="11";break;case 258:z="cursor",K="12";break;default:z="ansi",K="4;"+H.index}switch(H.type){case 0:const Q=L.color.toColorRGB(z==="ansi"?this._themeService.colors.ansi[H.index]:this._themeService.colors[z]);this.coreService.triggerDataEvent(`${F.C0.ESC}]${K};${(0,M.toRgbString)(Q)}${F.C1_ESCAPED.ST}`);break;case 1:if(z==="ansi")this._themeService.modifyColors(V=>V.ansi[H.index]=L.rgba.toColor(...H.color));else{const V=z;this._themeService.modifyColors(te=>te[V]=L.rgba.toColor(...H.color))}break;case 2:this._themeService.restoreColor(H.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(T){T?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance($.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(T){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(F.C0.ESC+"[I"),this.updateCursorStyle(T),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var T;return(T=this.textarea)===null||T===void 0?void 0:T.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(F.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const T=this.buffer.ybase+this.buffer.y,H=this.buffer.lines.get(T);if(!H)return;const z=Math.min(this.buffer.x,this.cols-1),K=this._renderService.dimensions.css.cell.height,Q=H.getWidth(z),V=this._renderService.dimensions.css.cell.width*Q,te=this.buffer.y*this._renderService.dimensions.css.cell.height,we=z*this._renderService.dimensions.css.cell.width;this.textarea.style.left=we+"px",this.textarea.style.top=te+"px",this.textarea.style.width=V+"px",this.textarea.style.height=K+"px",this.textarea.style.lineHeight=K+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,p.addDisposableDomListener)(this.element,"copy",H=>{this.hasSelection()&&(0,c.copyHandler)(H,this._selectionService)}));const T=H=>(0,c.handlePasteEvent)(H,this.textarea,this.coreService,this.optionsService);this.register((0,p.addDisposableDomListener)(this.textarea,"paste",T)),this.register((0,p.addDisposableDomListener)(this.element,"paste",T)),W.isFirefox?this.register((0,p.addDisposableDomListener)(this.element,"mousedown",H=>{H.button===2&&(0,c.rightClickHandler)(H,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,p.addDisposableDomListener)(this.element,"contextmenu",H=>{(0,c.rightClickHandler)(H,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),W.isLinux&&this.register((0,p.addDisposableDomListener)(this.element,"auxclick",H=>{H.button===1&&(0,c.moveTextAreaUnderMouseCursor)(H,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,p.addDisposableDomListener)(this.textarea,"keyup",T=>this._keyUp(T),!0)),this.register((0,p.addDisposableDomListener)(this.textarea,"keydown",T=>this._keyDown(T),!0)),this.register((0,p.addDisposableDomListener)(this.textarea,"keypress",T=>this._keyPress(T),!0)),this.register((0,p.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,p.addDisposableDomListener)(this.textarea,"compositionupdate",T=>this._compositionHelper.compositionupdate(T))),this.register((0,p.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,p.addDisposableDomListener)(this.textarea,"input",T=>this._inputEvent(T),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(T){var H;if(!T)throw new Error("Terminal requires a parent element.");T.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=T.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),T.appendChild(this.element);const z=G.createDocumentFragment();this._viewportElement=G.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),z.appendChild(this._viewportElement),this._viewportScrollArea=G.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=G.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=G.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),z.appendChild(this.screenElement),this.textarea=G.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",v.promptLabel),W.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(y.CoreBrowserService,this.textarea,(H=this._document.defaultView)!==null&&H!==void 0?H:window),this._instantiationService.setService(k.ICoreBrowserService,this._coreBrowserService),this.register((0,p.addDisposableDomListener)(this.textarea,"focus",K=>this._handleTextAreaFocus(K))),this.register((0,p.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(f.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(k.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(D.ThemeService),this._instantiationService.setService(k.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(m.CharacterJoinerService),this._instantiationService.setService(k.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(E.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(k.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(K=>this._onRender.fire(K))),this.onResize(K=>this._renderService.resize(K.cols,K.rows)),this._compositionView=G.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(h.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(z);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(w.MouseService),this._instantiationService.setService(k.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(S.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(K=>this.scrollLines(K.amount,K.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(C.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(k.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(K=>this.scrollLines(K.amount,K.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(K=>this._renderService.handleSelectionChanged(K.start,K.end,K.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(K=>{this.textarea.value=K,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(K=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,p.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(b.BufferDecorationRenderer,this.screenElement)),this.register((0,p.addDisposableDomListener)(this.element,"mousedown",K=>this._selectionService.handleMouseDown(K))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance($.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",K=>this._handleScreenReaderModeOptionChange(K))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(o.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",K=>{!this._overviewRulerRenderer&&K&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(o.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(d.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const T=this,H=this.element;function z(V){const te=T._mouseService.getMouseReportCoords(V,T.screenElement);if(!te)return!1;let we,Ie;switch(V.overrideType||V.type){case"mousemove":Ie=32,V.buttons===void 0?(we=3,V.button!==void 0&&(we=V.button<3?V.button:3)):we=1&V.buttons?0:4&V.buttons?1:2&V.buttons?2:3;break;case"mouseup":Ie=0,we=V.button<3?V.button:3;break;case"mousedown":Ie=1,we=V.button<3?V.button:3;break;case"wheel":if(T.viewport.getLinesScrolled(V)===0)return!1;Ie=V.deltaY<0?0:1,we=4;break;default:return!1}return!(Ie===void 0||we===void 0||we>4)&&T.coreMouseService.triggerMouseEvent({col:te.col,row:te.row,x:te.x,y:te.y,button:we,action:Ie,ctrl:V.ctrlKey,alt:V.altKey,shift:V.shiftKey})}const K={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Q={mouseup:V=>(z(V),V.buttons||(this._document.removeEventListener("mouseup",K.mouseup),K.mousedrag&&this._document.removeEventListener("mousemove",K.mousedrag)),this.cancel(V)),wheel:V=>(z(V),this.cancel(V,!0)),mousedrag:V=>{V.buttons&&z(V)},mousemove:V=>{V.buttons||z(V)}};this.register(this.coreMouseService.onProtocolChange(V=>{V?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(V)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&V?K.mousemove||(H.addEventListener("mousemove",Q.mousemove),K.mousemove=Q.mousemove):(H.removeEventListener("mousemove",K.mousemove),K.mousemove=null),16&V?K.wheel||(H.addEventListener("wheel",Q.wheel,{passive:!1}),K.wheel=Q.wheel):(H.removeEventListener("wheel",K.wheel),K.wheel=null),2&V?K.mouseup||(H.addEventListener("mouseup",Q.mouseup),K.mouseup=Q.mouseup):(this._document.removeEventListener("mouseup",K.mouseup),H.removeEventListener("mouseup",K.mouseup),K.mouseup=null),4&V?K.mousedrag||(K.mousedrag=Q.mousedrag):(this._document.removeEventListener("mousemove",K.mousedrag),K.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,p.addDisposableDomListener)(H,"mousedown",V=>{if(V.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(V))return z(V),K.mouseup&&this._document.addEventListener("mouseup",K.mouseup),K.mousedrag&&this._document.addEventListener("mousemove",K.mousedrag),this.cancel(V)})),this.register((0,p.addDisposableDomListener)(H,"wheel",V=>{if(!K.wheel){if(!this.buffer.hasScrollback){const te=this.viewport.getLinesScrolled(V);if(te===0)return;const we=F.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(V.deltaY<0?"A":"B");let Ie="";for(let it=0;it<Math.abs(te);it++)Ie+=we;return this.coreService.triggerDataEvent(Ie,!0),this.cancel(V,!0)}return this.viewport.handleWheel(V)?this.cancel(V):void 0}},{passive:!1})),this.register((0,p.addDisposableDomListener)(H,"touchstart",V=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(V),this.cancel(V)},{passive:!0})),this.register((0,p.addDisposableDomListener)(H,"touchmove",V=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(V)?void 0:this.cancel(V)},{passive:!1}))}refresh(T,H){var z;(z=this._renderService)===null||z===void 0||z.refreshRows(T,H)}updateCursorStyle(T){var H;!((H=this._selectionService)===null||H===void 0)&&H.shouldColumnSelect(T)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(T,H,z=0){var K;z===1?(super.scrollLines(T,H,z),this.refresh(0,this.rows-1)):(K=this.viewport)===null||K===void 0||K.scrollLines(T)}paste(T){(0,c.paste)(T,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(T){this._customKeyEventHandler=T}registerLinkProvider(T){return this.linkifier2.registerLinkProvider(T)}registerCharacterJoiner(T){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const H=this._characterJoinerService.register(T);return this.refresh(0,this.rows-1),H}deregisterCharacterJoiner(T){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(T)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(T){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+T)}registerDecoration(T){return this._decorationService.registerDecoration(T)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(T,H,z){this._selectionService.setSelection(T,H,z)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var T;(T=this._selectionService)===null||T===void 0||T.clearSelection()}selectAll(){var T;(T=this._selectionService)===null||T===void 0||T.selectAll()}selectLines(T,H){var z;(z=this._selectionService)===null||z===void 0||z.selectLines(T,H)}_keyDown(T){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(T)===!1)return!1;const H=this.browser.isMac&&this.options.macOptionIsMeta&&T.altKey;if(!H&&!this._compositionHelper.keydown(T))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;H||T.key!=="Dead"&&T.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const z=(0,x.evaluateKeyboardEvent)(T,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(T),z.type===3||z.type===2){const K=this.rows-1;return this.scrollLines(z.type===2?-K:K),this.cancel(T,!0)}return z.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,T)||(z.cancel&&this.cancel(T,!0),!z.key||!!(T.key&&!T.ctrlKey&&!T.altKey&&!T.metaKey&&T.key.length===1&&T.key.charCodeAt(0)>=65&&T.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(z.key!==F.C0.ETX&&z.key!==F.C0.CR||(this.textarea.value=""),this._onKey.fire({key:z.key,domEvent:T}),this._showCursor(),this.coreService.triggerDataEvent(z.key,!0),!this.optionsService.rawOptions.screenReaderMode||T.altKey||T.ctrlKey?this.cancel(T,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(T,H){const z=T.isMac&&!this.options.macOptionIsMeta&&H.altKey&&!H.ctrlKey&&!H.metaKey||T.isWindows&&H.altKey&&H.ctrlKey&&!H.metaKey||T.isWindows&&H.getModifierState("AltGraph");return H.type==="keypress"?z:z&&(!H.keyCode||H.keyCode>47)}_keyUp(T){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(T)===!1||(function(H){return H.keyCode===16||H.keyCode===17||H.keyCode===18}(T)||this.focus(),this.updateCursorStyle(T),this._keyPressHandled=!1)}_keyPress(T){let H;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(T)===!1)return!1;if(this.cancel(T),T.charCode)H=T.charCode;else if(T.which===null||T.which===void 0)H=T.keyCode;else{if(T.which===0||T.charCode===0)return!1;H=T.which}return!(!H||(T.altKey||T.ctrlKey||T.metaKey)&&!this._isThirdLevelShift(this.browser,T)||(H=String.fromCharCode(H),this._onKey.fire({key:H,domEvent:T}),this._showCursor(),this.coreService.triggerDataEvent(H,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(T){if(T.data&&T.inputType==="insertText"&&(!T.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const H=T.data;return this.coreService.triggerDataEvent(H,!0),this.cancel(T),!0}return!1}resize(T,H){T!==this.cols||H!==this.rows?super.resize(T,H):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(T,H){var z,K;(z=this._charSizeService)===null||z===void 0||z.measure(),(K=this.viewport)===null||K===void 0||K.syncScrollArea(!0)}clear(){var T;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let H=1;H<this.rows;H++)this.buffer.lines.push(this.buffer.getBlankLine(U.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(T=this.viewport)===null||T===void 0||T.reset(),this.refresh(0,this.rows-1)}}reset(){var T,H;this.options.rows=this.rows,this.options.cols=this.cols;const z=this._customKeyEventHandler;this._setup(),super.reset(),(T=this._selectionService)===null||T===void 0||T.reset(),this._decorationService.reset(),(H=this.viewport)===null||H===void 0||H.reset(),this._customKeyEventHandler=z,this.refresh(0,this.rows-1)}clearTextureAtlas(){var T;(T=this._renderService)===null||T===void 0||T.clearTextureAtlas()}_reportFocus(){var T;!((T=this.element)===null||T===void 0)&&T.classList.contains("focus")?this.coreService.triggerDataEvent(F.C0.ESC+"[I"):this.coreService.triggerDataEvent(F.C0.ESC+"[O")}_reportWindowsOptions(T){if(this._renderService)switch(T){case j.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const H=this._renderService.dimensions.css.canvas.width.toFixed(0),z=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${F.C0.ESC}[4;${z};${H}t`);break;case j.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const K=this._renderService.dimensions.css.cell.width.toFixed(0),Q=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${F.C0.ESC}[6;${Q};${K}t`)}}cancel(T,H){if(this.options.cancelEvents||H)return T.preventDefault(),T.stopPropagation(),!1}}n.Terminal=X},9924:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TimeBasedDebouncer=void 0,n.TimeBasedDebouncer=class{constructor(a,c=1e3){this._renderCallback=a,this._debounceThresholdMS=c,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(a,c,p){this._rowCount=p,a=a!==void 0?a:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c;const u=Date.now();if(u-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=u,this._innerRefresh();else if(!this._additionalRefreshRequested){const v=u-this._lastRefreshMs,g=this._debounceThresholdMS-v;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},g)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const a=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,c)}}},1680:function(_,n,a){var c=this&&this.__decorate||function(h,d,f,m){var y,w=arguments.length,E=w<3?d:m===null?m=Object.getOwnPropertyDescriptor(d,f):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(h,d,f,m);else for(var C=h.length-1;C>=0;C--)(y=h[C])&&(E=(w<3?y(E):w>3?y(d,f,E):y(d,f))||E);return w>3&&E&&Object.defineProperty(d,f,E),E},p=this&&this.__param||function(h,d){return function(f,m){d(f,m,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Viewport=void 0;const u=a(3656),v=a(4725),g=a(8460),S=a(844),b=a(2585);let o=n.Viewport=class extends S.Disposable{constructor(h,d,f,m,y,w,E,C){super(),this._viewportElement=h,this._scrollArea=d,this._bufferService=f,this._optionsService=m,this._charSizeService=y,this._renderService=w,this._coreBrowserService=E,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new g.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,u.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(k=>this._activeBuffer=k.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(k=>this._renderDimensions=k)),this._handleThemeChange(C.colors),this.register(C.onChangeColors(k=>this._handleThemeChange(k))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(h){this._viewportElement.style.backgroundColor=h.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(h){if(h)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const d=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==d&&(this._lastRecordedBufferHeight=d,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const h=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==h&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=h),this._refreshAnimationFrame=null}syncScrollArea(h=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(h);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(h)}_handleScroll(h){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const d=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:d,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const h=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(h*(this._smoothScrollState.target-this._smoothScrollState.origin)),h<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(h,d){const f=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(d<0&&this._viewportElement.scrollTop!==0||d>0&&f<this._lastRecordedBufferHeight)||(h.cancelable&&h.preventDefault(),!1)}handleWheel(h){const d=this._getPixelsScrolled(h);return d!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+d:this._smoothScrollState.target+=d,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=d,this._bubbleScroll(h,d))}scrollLines(h){if(h!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const d=h*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+d,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:h,suppressScrollEvent:!1})}_getPixelsScrolled(h){if(h.deltaY===0||h.shiftKey)return 0;let d=this._applyScrollModifier(h.deltaY,h);return h.deltaMode===WheelEvent.DOM_DELTA_LINE?d*=this._currentRowHeight:h.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d*=this._currentRowHeight*this._bufferService.rows),d}getBufferElements(h,d){var f;let m,y="";const w=[],E=d??this._bufferService.buffer.lines.length,C=this._bufferService.buffer.lines;for(let k=h;k<E;k++){const D=C.get(k);if(!D)continue;const L=(f=C.get(k+1))===null||f===void 0?void 0:f.isWrapped;if(y+=D.translateToString(!L),!L||k===C.length-1){const R=document.createElement("div");R.textContent=y,w.push(R),y.length>0&&(m=R),y=""}}return{bufferElements:w,cursorElement:m}}getLinesScrolled(h){if(h.deltaY===0||h.shiftKey)return 0;let d=this._applyScrollModifier(h.deltaY,h);return h.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(d/=this._currentRowHeight+0,this._wheelPartialScroll+=d,d=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):h.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d*=this._bufferService.rows),d}_applyScrollModifier(h,d){const f=this._optionsService.rawOptions.fastScrollModifier;return f==="alt"&&d.altKey||f==="ctrl"&&d.ctrlKey||f==="shift"&&d.shiftKey?h*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:h*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(h){this._lastTouchY=h.touches[0].pageY}handleTouchMove(h){const d=this._lastTouchY-h.touches[0].pageY;return this._lastTouchY=h.touches[0].pageY,d!==0&&(this._viewportElement.scrollTop+=d,this._bubbleScroll(h,d))}};n.Viewport=o=c([p(2,b.IBufferService),p(3,b.IOptionsService),p(4,v.ICharSizeService),p(5,v.IRenderService),p(6,v.ICoreBrowserService),p(7,v.IThemeService)],o)},3107:function(_,n,a){var c=this&&this.__decorate||function(o,h,d,f){var m,y=arguments.length,w=y<3?h:f===null?f=Object.getOwnPropertyDescriptor(h,d):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(o,h,d,f);else for(var E=o.length-1;E>=0;E--)(m=o[E])&&(w=(y<3?m(w):y>3?m(h,d,w):m(h,d))||w);return y>3&&w&&Object.defineProperty(h,d,w),w},p=this&&this.__param||function(o,h){return function(d,f){h(d,f,o)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferDecorationRenderer=void 0;const u=a(3656),v=a(4725),g=a(844),S=a(2585);let b=n.BufferDecorationRenderer=class extends g.Disposable{constructor(o,h,d,f){super(),this._screenElement=o,this._bufferService=h,this._decorationService=d,this._renderService=f,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,u.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(m=>this._removeDecoration(m))),this.register((0,g.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const o of this._decorationService.decorations)this._renderDecoration(o);this._dimensionsChanged=!1}_renderDecoration(o){this._refreshStyle(o),this._dimensionsChanged&&this._refreshXPosition(o)}_createElement(o){var h,d;const f=document.createElement("div");f.classList.add("xterm-decoration"),f.classList.toggle("xterm-decoration-top-layer",((h=o==null?void 0:o.options)===null||h===void 0?void 0:h.layer)==="top"),f.style.width=`${Math.round((o.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,f.style.height=(o.options.height||1)*this._renderService.dimensions.css.cell.height+"px",f.style.top=(o.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",f.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const m=(d=o.options.x)!==null&&d!==void 0?d:0;return m&&m>this._bufferService.cols&&(f.style.display="none"),this._refreshXPosition(o,f),f}_refreshStyle(o){const h=o.marker.line-this._bufferService.buffers.active.ydisp;if(h<0||h>=this._bufferService.rows)o.element&&(o.element.style.display="none",o.onRenderEmitter.fire(o.element));else{let d=this._decorationElements.get(o);d||(d=this._createElement(o),o.element=d,this._decorationElements.set(o,d),this._container.appendChild(d),o.onDispose(()=>{this._decorationElements.delete(o),d.remove()})),d.style.top=h*this._renderService.dimensions.css.cell.height+"px",d.style.display=this._altBufferIsActive?"none":"block",o.onRenderEmitter.fire(d)}}_refreshXPosition(o,h=o.element){var d;if(!h)return;const f=(d=o.options.x)!==null&&d!==void 0?d:0;(o.options.anchor||"left")==="right"?h.style.right=f?f*this._renderService.dimensions.css.cell.width+"px":"":h.style.left=f?f*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(o){var h;(h=this._decorationElements.get(o))===null||h===void 0||h.remove(),this._decorationElements.delete(o),o.dispose()}};n.BufferDecorationRenderer=b=c([p(1,S.IBufferService),p(2,S.IDecorationService),p(3,v.IRenderService)],b)},5871:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorZoneStore=void 0,n.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(a){if(a.options.overviewRulerOptions){for(const c of this._zones)if(c.color===a.options.overviewRulerOptions.color&&c.position===a.options.overviewRulerOptions.position){if(this._lineIntersectsZone(c,a.marker.line))return;if(this._lineAdjacentToZone(c,a.marker.line,a.options.overviewRulerOptions.position))return void this._addLineToZone(c,a.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=a.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=a.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=a.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=a.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:a.options.overviewRulerOptions.color,position:a.options.overviewRulerOptions.position,startBufferLine:a.marker.line,endBufferLine:a.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(a){this._linePadding=a}_lineIntersectsZone(a,c){return c>=a.startBufferLine&&c<=a.endBufferLine}_lineAdjacentToZone(a,c,p){return c>=a.startBufferLine-this._linePadding[p||"full"]&&c<=a.endBufferLine+this._linePadding[p||"full"]}_addLineToZone(a,c){a.startBufferLine=Math.min(a.startBufferLine,c),a.endBufferLine=Math.max(a.endBufferLine,c)}}},5744:function(_,n,a){var c=this&&this.__decorate||function(m,y,w,E){var C,k=arguments.length,D=k<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,w):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(m,y,w,E);else for(var L=m.length-1;L>=0;L--)(C=m[L])&&(D=(k<3?C(D):k>3?C(y,w,D):C(y,w))||D);return k>3&&D&&Object.defineProperty(y,w,D),D},p=this&&this.__param||function(m,y){return function(w,E){y(w,E,m)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OverviewRulerRenderer=void 0;const u=a(5871),v=a(3656),g=a(4725),S=a(844),b=a(2585),o={full:0,left:0,center:0,right:0},h={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0};let f=n.OverviewRulerRenderer=class extends S.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(m,y,w,E,C,k,D){var L;super(),this._viewportElement=m,this._screenElement=y,this._bufferService=w,this._decorationService=E,this._renderService=C,this._optionsService=k,this._coreBrowseService=D,this._colorZoneStore=new u.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(L=this._viewportElement.parentElement)===null||L===void 0||L.insertBefore(this._canvas,this._viewportElement);const R=this._canvas.getContext("2d");if(!R)throw new Error("Ctx cannot be null");this._ctx=R,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,S.toDisposable)(()=>{var A;(A=this._canvas)===null||A===void 0||A.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,v.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const m=Math.floor(this._canvas.width/3),y=Math.ceil(this._canvas.width/3);h.full=this._canvas.width,h.left=m,h.center=y,h.right=m,this._refreshDrawHeightConstants(),d.full=0,d.left=0,d.center=h.left,d.right=h.left+h.center}_refreshDrawHeightConstants(){o.full=Math.round(2*this._coreBrowseService.dpr);const m=this._canvas.height/this._bufferService.buffer.lines.length,y=Math.round(Math.max(Math.min(m,12),6)*this._coreBrowseService.dpr);o.left=y,o.center=y,o.right=y}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const y of this._decorationService.decorations)this._colorZoneStore.addDecoration(y);this._ctx.lineWidth=1;const m=this._colorZoneStore.zones;for(const y of m)y.position!=="full"&&this._renderColorZone(y);for(const y of m)y.position==="full"&&this._renderColorZone(y);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(m){this._ctx.fillStyle=m.color,this._ctx.fillRect(d[m.position||"full"],Math.round((this._canvas.height-1)*(m.startBufferLine/this._bufferService.buffers.active.lines.length)-o[m.position||"full"]/2),h[m.position||"full"],Math.round((this._canvas.height-1)*((m.endBufferLine-m.startBufferLine)/this._bufferService.buffers.active.lines.length)+o[m.position||"full"]))}_queueRefresh(m,y){this._shouldUpdateDimensions=m||this._shouldUpdateDimensions,this._shouldUpdateAnchor=y||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};n.OverviewRulerRenderer=f=c([p(2,b.IBufferService),p(3,b.IDecorationService),p(4,g.IRenderService),p(5,b.IOptionsService),p(6,g.ICoreBrowserService)],f)},2950:function(_,n,a){var c=this&&this.__decorate||function(b,o,h,d){var f,m=arguments.length,y=m<3?o:d===null?d=Object.getOwnPropertyDescriptor(o,h):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(b,o,h,d);else for(var w=b.length-1;w>=0;w--)(f=b[w])&&(y=(m<3?f(y):m>3?f(o,h,y):f(o,h))||y);return m>3&&y&&Object.defineProperty(o,h,y),y},p=this&&this.__param||function(b,o){return function(h,d){o(h,d,b)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CompositionHelper=void 0;const u=a(4725),v=a(2585),g=a(2584);let S=n.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(b,o,h,d,f,m){this._textarea=b,this._compositionView=o,this._bufferService=h,this._optionsService=d,this._coreService=f,this._renderService=m,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(b){this._compositionView.textContent=b.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(b){if(this._isComposing||this._isSendingComposition){if(b.keyCode===229||b.keyCode===16||b.keyCode===17||b.keyCode===18)return!1;this._finalizeComposition(!1)}return b.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(b){if(this._compositionView.classList.remove("active"),this._isComposing=!1,b){const o={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let h;this._isSendingComposition=!1,o.start+=this._dataAlreadySent.length,h=this._isComposing?this._textarea.value.substring(o.start,o.end):this._textarea.value.substring(o.start),h.length>0&&this._coreService.triggerDataEvent(h,!0)}},0)}else{this._isSendingComposition=!1;const o=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(o,!0)}}_handleAnyTextareaChanges(){const b=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const o=this._textarea.value,h=o.replace(b,"");this._dataAlreadySent=h,o.length>b.length?this._coreService.triggerDataEvent(h,!0):o.length<b.length?this._coreService.triggerDataEvent(`${g.C0.DEL}`,!0):o.length===b.length&&o!==b&&this._coreService.triggerDataEvent(o,!0)}},0)}updateCompositionElements(b){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const o=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),h=this._renderService.dimensions.css.cell.height,d=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,f=o*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=f+"px",this._compositionView.style.top=d+"px",this._compositionView.style.height=h+"px",this._compositionView.style.lineHeight=h+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const m=this._compositionView.getBoundingClientRect();this._textarea.style.left=f+"px",this._textarea.style.top=d+"px",this._textarea.style.width=Math.max(m.width,1)+"px",this._textarea.style.height=Math.max(m.height,1)+"px",this._textarea.style.lineHeight=m.height+"px"}b||setTimeout(()=>this.updateCompositionElements(!0),0)}}};n.CompositionHelper=S=c([p(2,v.IBufferService),p(3,v.IOptionsService),p(4,v.ICoreService),p(5,u.IRenderService)],S)},9806:(_,n)=>{function a(c,p,u){const v=u.getBoundingClientRect(),g=c.getComputedStyle(u),S=parseInt(g.getPropertyValue("padding-left")),b=parseInt(g.getPropertyValue("padding-top"));return[p.clientX-v.left-S,p.clientY-v.top-b]}Object.defineProperty(n,"__esModule",{value:!0}),n.getCoords=n.getCoordsRelativeToElement=void 0,n.getCoordsRelativeToElement=a,n.getCoords=function(c,p,u,v,g,S,b,o,h){if(!S)return;const d=a(c,p,u);return d?(d[0]=Math.ceil((d[0]+(h?b/2:0))/b),d[1]=Math.ceil(d[1]/o),d[0]=Math.min(Math.max(d[0],1),v+(h?1:0)),d[1]=Math.min(Math.max(d[1],1),g),d):void 0}},9504:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.moveToCellSequence=void 0;const c=a(2584);function p(o,h,d,f){const m=o-u(o,d),y=h-u(h,d),w=Math.abs(m-y)-function(E,C,k){let D=0;const L=E-u(E,k),R=C-u(C,k);for(let A=0;A<Math.abs(L-R);A++){const N=v(E,C)==="A"?-1:1,W=k.buffer.lines.get(L+N*A);W!=null&&W.isWrapped&&D++}return D}(o,h,d);return b(w,S(v(o,h),f))}function u(o,h){let d=0,f=h.buffer.lines.get(o),m=f==null?void 0:f.isWrapped;for(;m&&o>=0&&o<h.rows;)d++,f=h.buffer.lines.get(--o),m=f==null?void 0:f.isWrapped;return d}function v(o,h){return o>h?"A":"B"}function g(o,h,d,f,m,y){let w=o,E=h,C="";for(;w!==d||E!==f;)w+=m?1:-1,m&&w>y.cols-1?(C+=y.buffer.translateBufferLineToString(E,!1,o,w),w=0,o=0,E++):!m&&w<0&&(C+=y.buffer.translateBufferLineToString(E,!1,0,o+1),w=y.cols-1,o=w,E--);return C+y.buffer.translateBufferLineToString(E,!1,o,w)}function S(o,h){const d=h?"O":"[";return c.C0.ESC+d+o}function b(o,h){o=Math.floor(o);let d="";for(let f=0;f<o;f++)d+=h;return d}n.moveToCellSequence=function(o,h,d,f){const m=d.buffer.x,y=d.buffer.y;if(!d.buffer.hasScrollback)return function(C,k,D,L,R,A){return p(k,L,R,A).length===0?"":b(g(C,k,C,k-u(k,R),!1,R).length,S("D",A))}(m,y,0,h,d,f)+p(y,h,d,f)+function(C,k,D,L,R,A){let N;N=p(k,L,R,A).length>0?L-u(L,R):k;const W=L,U=function(F,x,M,B,P,j){let $;return $=p(M,B,P,j).length>0?B-u(B,P):x,F<M&&$<=B||F>=M&&$<B?"C":"D"}(C,k,D,L,R,A);return b(g(C,N,D,W,U==="C",R).length,S(U,A))}(m,y,o,h,d,f);let w;if(y===h)return w=m>o?"D":"C",b(Math.abs(m-o),S(w,f));w=y>h?"D":"C";const E=Math.abs(y-h);return b(function(C,k){return k.cols-C}(y>h?o:m,d)+(E-1)*d.cols+1+((y>h?m:o)-1),S(w,f))}},1296:function(_,n,a){var c=this&&this.__decorate||function(R,A,N,W){var U,F=arguments.length,x=F<3?A:W===null?W=Object.getOwnPropertyDescriptor(A,N):W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(R,A,N,W);else for(var M=R.length-1;M>=0;M--)(U=R[M])&&(x=(F<3?U(x):F>3?U(A,N,x):U(A,N))||x);return F>3&&x&&Object.defineProperty(A,N,x),x},p=this&&this.__param||function(R,A){return function(N,W){A(N,W,R)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRenderer=void 0;const u=a(3787),v=a(2550),g=a(2223),S=a(6171),b=a(4725),o=a(8055),h=a(8460),d=a(844),f=a(2585),m="xterm-dom-renderer-owner-",y="xterm-rows",w="xterm-fg-",E="xterm-bg-",C="xterm-focus",k="xterm-selection";let D=1,L=n.DomRenderer=class extends d.Disposable{constructor(R,A,N,W,U,F,x,M,B,P){super(),this._element=R,this._screenElement=A,this._viewportElement=N,this._linkifier2=W,this._charSizeService=F,this._optionsService=x,this._bufferService=M,this._coreBrowserService=B,this._themeService=P,this._terminalClass=D++,this._rowElements=[],this.onRequestRedraw=this.register(new h.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(y),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(k),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,S.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(j=>this._injectCss(j))),this._injectCss(this._themeService.colors),this._rowFactory=U.createInstance(u.DomRendererRowFactory,document),this._element.classList.add(m+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(j=>this._handleLinkHover(j))),this.register(this._linkifier2.onHideLinkUnderline(j=>this._handleLinkLeave(j))),this.register((0,d.toDisposable)(()=>{this._element.classList.remove(m+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new v.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const R=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*R,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*R),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/R),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/R),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const N of this._rowElements)N.style.width=`${this.dimensions.css.canvas.width}px`,N.style.height=`${this.dimensions.css.cell.height}px`,N.style.lineHeight=`${this.dimensions.css.cell.height}px`,N.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const A=`${this._terminalSelector} .${y} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=A,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(R){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let A=`${this._terminalSelector} .${y} { color: ${R.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;A+=`${this._terminalSelector} .${y} .xterm-dim { color: ${o.color.multiplyOpacity(R.foreground,.5).css};}`,A+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,A+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",A+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${R.cursor.css};  color: ${R.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${R.cursor.css}; }}`,A+=`${this._terminalSelector} .${y}.${C} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${y}.${C} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-block { background-color: ${R.cursor.css}; color: ${R.cursorAccent.css};}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${R.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${R.cursor.css} inset;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${R.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,A+=`${this._terminalSelector} .${k} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${k} div { position: absolute; background-color: ${R.selectionBackgroundOpaque.css};}${this._terminalSelector} .${k} div { position: absolute; background-color: ${R.selectionInactiveBackgroundOpaque.css};}`;for(const[N,W]of R.ansi.entries())A+=`${this._terminalSelector} .${w}${N} { color: ${W.css}; }${this._terminalSelector} .${w}${N}.xterm-dim { color: ${o.color.multiplyOpacity(W,.5).css}; }${this._terminalSelector} .${E}${N} { background-color: ${W.css}; }`;A+=`${this._terminalSelector} .${w}${g.INVERTED_DEFAULT_COLOR} { color: ${o.color.opaque(R.background).css}; }${this._terminalSelector} .${w}${g.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${o.color.multiplyOpacity(o.color.opaque(R.background),.5).css}; }${this._terminalSelector} .${E}${g.INVERTED_DEFAULT_COLOR} { background-color: ${R.foreground.css}; }`,this._themeStyleElement.textContent=A}_setDefaultSpacing(){const R=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${R}px`,this._rowFactory.defaultSpacing=R}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(R,A){for(let N=this._rowElements.length;N<=A;N++){const W=document.createElement("div");this._rowContainer.appendChild(W),this._rowElements.push(W)}for(;this._rowElements.length>A;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(R,A){this._refreshRowElements(R,A),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(C)}handleFocus(){this._rowContainer.classList.add(C),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(R,A,N){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(R,A,N),this.renderRows(0,this._bufferService.rows-1),!R||!A)return;const W=R[1]-this._bufferService.buffer.ydisp,U=A[1]-this._bufferService.buffer.ydisp,F=Math.max(W,0),x=Math.min(U,this._bufferService.rows-1);if(F>=this._bufferService.rows||x<0)return;const M=document.createDocumentFragment();if(N){const B=R[0]>A[0];M.appendChild(this._createSelectionElement(F,B?A[0]:R[0],B?R[0]:A[0],x-F+1))}else{const B=W===F?R[0]:0,P=F===U?A[0]:this._bufferService.cols;M.appendChild(this._createSelectionElement(F,B,P));const j=x-F-1;if(M.appendChild(this._createSelectionElement(F+1,0,this._bufferService.cols,j)),F!==x){const $=U===x?A[0]:this._bufferService.cols;M.appendChild(this._createSelectionElement(x,0,$))}}this._selectionContainer.appendChild(M)}_createSelectionElement(R,A,N,W=1){const U=document.createElement("div");return U.style.height=W*this.dimensions.css.cell.height+"px",U.style.top=R*this.dimensions.css.cell.height+"px",U.style.left=A*this.dimensions.css.cell.width+"px",U.style.width=this.dimensions.css.cell.width*(N-A)+"px",U}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const R of this._rowElements)R.replaceChildren()}renderRows(R,A){const N=this._bufferService.buffer,W=N.ybase+N.y,U=Math.min(N.x,this._bufferService.cols-1),F=this._optionsService.rawOptions.cursorBlink,x=this._optionsService.rawOptions.cursorStyle,M=this._optionsService.rawOptions.cursorInactiveStyle;for(let B=R;B<=A;B++){const P=B+N.ydisp,j=this._rowElements[B],$=N.lines.get(P);if(!j||!$)break;j.replaceChildren(...this._rowFactory.createRow($,P,P===W,x,M,U,F,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${m}${this._terminalClass}`}_handleLinkHover(R){this._setCellUnderline(R.x1,R.x2,R.y1,R.y2,R.cols,!0)}_handleLinkLeave(R){this._setCellUnderline(R.x1,R.x2,R.y1,R.y2,R.cols,!1)}_setCellUnderline(R,A,N,W,U,F){N<0&&(R=0),W<0&&(A=0);const x=this._bufferService.rows-1;N=Math.max(Math.min(N,x),0),W=Math.max(Math.min(W,x),0),U=Math.min(U,this._bufferService.cols);const M=this._bufferService.buffer,B=M.ybase+M.y,P=Math.min(M.x,U-1),j=this._optionsService.rawOptions.cursorBlink,$=this._optionsService.rawOptions.cursorStyle,G=this._optionsService.rawOptions.cursorInactiveStyle;for(let X=N;X<=W;++X){const ne=X+M.ydisp,T=this._rowElements[X],H=M.lines.get(ne);if(!T||!H)break;T.replaceChildren(...this._rowFactory.createRow(H,ne,ne===B,$,G,P,j,this.dimensions.css.cell.width,this._widthCache,F?X===N?R:0:-1,F?(X===W?A:U)-1:-1))}}};n.DomRenderer=L=c([p(4,f.IInstantiationService),p(5,b.ICharSizeService),p(6,f.IOptionsService),p(7,f.IBufferService),p(8,b.ICoreBrowserService),p(9,b.IThemeService)],L)},3787:function(_,n,a){var c=this&&this.__decorate||function(w,E,C,k){var D,L=arguments.length,R=L<3?E:k===null?k=Object.getOwnPropertyDescriptor(E,C):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(w,E,C,k);else for(var A=w.length-1;A>=0;A--)(D=w[A])&&(R=(L<3?D(R):L>3?D(E,C,R):D(E,C))||R);return L>3&&R&&Object.defineProperty(E,C,R),R},p=this&&this.__param||function(w,E){return function(C,k){E(C,k,w)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRendererRowFactory=void 0;const u=a(2223),v=a(643),g=a(511),S=a(2585),b=a(8055),o=a(4725),h=a(4269),d=a(6171),f=a(3734);let m=n.DomRendererRowFactory=class{constructor(w,E,C,k,D,L,R){this._document=w,this._characterJoinerService=E,this._optionsService=C,this._coreBrowserService=k,this._coreService=D,this._decorationService=L,this._themeService=R,this._workCell=new g.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(w,E,C){this._selectionStart=w,this._selectionEnd=E,this._columnSelectMode=C}createRow(w,E,C,k,D,L,R,A,N,W,U){const F=[],x=this._characterJoinerService.getJoinedCharacters(E),M=this._themeService.colors;let B,P=w.getNoBgTrimmedLength();C&&P<L+1&&(P=L+1);let j=0,$="",G=0,X=0,ne=0,T=!1,H=0,z=!1,K=0;const Q=[],V=W!==-1&&U!==-1;for(let te=0;te<P;te++){w.loadCell(te,this._workCell);let we=this._workCell.getWidth();if(we===0)continue;let Ie=!1,it=te,ee=this._workCell;if(x.length>0&&te===x[0][0]){Ie=!0;const de=x.shift();ee=new h.JoinedCellData(this._workCell,w.translateToString(!0,de[0],de[1]),de[1]-de[0]),it=de[1]-1,we=ee.getWidth()}const er=this._isCellInSelection(te,E),_i=C&&te===L,Ur=V&&te>=W&&te<=U;let vi=!1;this._decorationService.forEachDecorationAtCell(te,E,void 0,de=>{vi=!0});let Kr=ee.getChars()||v.WHITESPACE_CELL_CHAR;if(Kr===" "&&(ee.isUnderline()||ee.isOverline())&&(Kr=""),K=we*A-N.get(Kr,ee.isBold(),ee.isItalic()),B){if(j&&(er&&z||!er&&!z&&ee.bg===G)&&(er&&z&&M.selectionForeground||ee.fg===X)&&ee.extended.ext===ne&&Ur===T&&K===H&&!_i&&!Ie&&!vi){$+=Kr,j++;continue}j&&(B.textContent=$),B=this._document.createElement("span"),j=0,$=""}else B=this._document.createElement("span");if(G=ee.bg,X=ee.fg,ne=ee.extended.ext,T=Ur,H=K,z=er,Ie&&L>=te&&L<=it&&(L=te),!this._coreService.isCursorHidden&&_i){if(Q.push("xterm-cursor"),this._coreBrowserService.isFocused)R&&Q.push("xterm-cursor-blink"),Q.push(k==="bar"?"xterm-cursor-bar":k==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(D)switch(D){case"outline":Q.push("xterm-cursor-outline");break;case"block":Q.push("xterm-cursor-block");break;case"bar":Q.push("xterm-cursor-bar");break;case"underline":Q.push("xterm-cursor-underline")}}if(ee.isBold()&&Q.push("xterm-bold"),ee.isItalic()&&Q.push("xterm-italic"),ee.isDim()&&Q.push("xterm-dim"),$=ee.isInvisible()?v.WHITESPACE_CELL_CHAR:ee.getChars()||v.WHITESPACE_CELL_CHAR,ee.isUnderline()&&(Q.push(`xterm-underline-${ee.extended.underlineStyle}`),$===" "&&($=""),!ee.isUnderlineColorDefault()))if(ee.isUnderlineColorRGB())B.style.textDecorationColor=`rgb(${f.AttributeData.toColorRGB(ee.getUnderlineColor()).join(",")})`;else{let de=ee.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ee.isBold()&&de<8&&(de+=8),B.style.textDecorationColor=M.ansi[de].css}ee.isOverline()&&(Q.push("xterm-overline"),$===" "&&($="")),ee.isStrikethrough()&&Q.push("xterm-strikethrough"),Ur&&(B.style.textDecoration="underline");let Ye=ee.getFgColor(),br=ee.getFgColorMode(),ut=ee.getBgColor(),Cr=ee.getBgColorMode();const zr=!!ee.isInverse();if(zr){const de=Ye;Ye=ut,ut=de;const vs=br;br=Cr,Cr=vs}let Bt,pi,At,tr=!1;switch(this._decorationService.forEachDecorationAtCell(te,E,void 0,de=>{de.options.layer!=="top"&&tr||(de.backgroundColorRGB&&(Cr=50331648,ut=de.backgroundColorRGB.rgba>>8&16777215,Bt=de.backgroundColorRGB),de.foregroundColorRGB&&(br=50331648,Ye=de.foregroundColorRGB.rgba>>8&16777215,pi=de.foregroundColorRGB),tr=de.options.layer==="top")}),!tr&&er&&(Bt=this._coreBrowserService.isFocused?M.selectionBackgroundOpaque:M.selectionInactiveBackgroundOpaque,ut=Bt.rgba>>8&16777215,Cr=50331648,tr=!0,M.selectionForeground&&(br=50331648,Ye=M.selectionForeground.rgba>>8&16777215,pi=M.selectionForeground)),tr&&Q.push("xterm-decoration-top"),Cr){case 16777216:case 33554432:At=M.ansi[ut],Q.push(`xterm-bg-${ut}`);break;case 50331648:At=b.rgba.toColor(ut>>16,ut>>8&255,255&ut),this._addStyle(B,`background-color:#${y((ut>>>0).toString(16),"0",6)}`);break;default:zr?(At=M.foreground,Q.push(`xterm-bg-${u.INVERTED_DEFAULT_COLOR}`)):At=M.background}switch(Bt||ee.isDim()&&(Bt=b.color.multiplyOpacity(At,.5)),br){case 16777216:case 33554432:ee.isBold()&&Ye<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Ye+=8),this._applyMinimumContrast(B,At,M.ansi[Ye],ee,Bt,void 0)||Q.push(`xterm-fg-${Ye}`);break;case 50331648:const de=b.rgba.toColor(Ye>>16&255,Ye>>8&255,255&Ye);this._applyMinimumContrast(B,At,de,ee,Bt,pi)||this._addStyle(B,`color:#${y(Ye.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(B,At,M.foreground,ee,Bt,void 0)||zr&&Q.push(`xterm-fg-${u.INVERTED_DEFAULT_COLOR}`)}Q.length&&(B.className=Q.join(" "),Q.length=0),_i||Ie||vi?B.textContent=$:j++,K!==this.defaultSpacing&&(B.style.letterSpacing=`${K}px`),F.push(B),te=it}return B&&j&&(B.textContent=$),F}_applyMinimumContrast(w,E,C,k,D,L){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,d.excludeFromContrastRatioDemands)(k.getCode()))return!1;const R=this._getContrastCache(k);let A;if(D||L||(A=R.getColor(E.rgba,C.rgba)),A===void 0){const N=this._optionsService.rawOptions.minimumContrastRatio/(k.isDim()?2:1);A=b.color.ensureContrastRatio(D||E,L||C,N),R.setColor((D||E).rgba,(L||C).rgba,A??null)}return!!A&&(this._addStyle(w,`color:${A.css}`),!0)}_getContrastCache(w){return w.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(w,E){w.setAttribute("style",`${w.getAttribute("style")||""}${E};`)}_isCellInSelection(w,E){const C=this._selectionStart,k=this._selectionEnd;return!(!C||!k)&&(this._columnSelectMode?C[0]<=k[0]?w>=C[0]&&E>=C[1]&&w<k[0]&&E<=k[1]:w<C[0]&&E>=C[1]&&w>=k[0]&&E<=k[1]:E>C[1]&&E<k[1]||C[1]===k[1]&&E===C[1]&&w>=C[0]&&w<k[0]||C[1]<k[1]&&E===k[1]&&w<k[0]||C[1]<k[1]&&E===C[1]&&w>=C[0])}};function y(w,E,C){for(;w.length<C;)w=E+w;return w}n.DomRendererRowFactory=m=c([p(1,o.ICharacterJoinerService),p(2,S.IOptionsService),p(3,o.ICoreBrowserService),p(4,S.ICoreService),p(5,S.IDecorationService),p(6,o.IThemeService)],m)},2550:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WidthCache=void 0,n.WidthCache=class{constructor(a){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=a.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const c=a.createElement("span"),p=a.createElement("span");p.style.fontWeight="bold";const u=a.createElement("span");u.style.fontStyle="italic";const v=a.createElement("span");v.style.fontWeight="bold",v.style.fontStyle="italic",this._measureElements=[c,p,u,v],this._container.appendChild(c),this._container.appendChild(p),this._container.appendChild(u),this._container.appendChild(v),a.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(a,c,p,u){a===this._font&&c===this._fontSize&&p===this._weight&&u===this._weightBold||(this._font=a,this._fontSize=c,this._weight=p,this._weightBold=u,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${p}`,this._measureElements[1].style.fontWeight=`${u}`,this._measureElements[2].style.fontWeight=`${p}`,this._measureElements[3].style.fontWeight=`${u}`,this.clear())}get(a,c,p){let u=0;if(!c&&!p&&a.length===1&&(u=a.charCodeAt(0))<256)return this._flat[u]!==-9999?this._flat[u]:this._flat[u]=this._measure(a,0);let v=a;c&&(v+="B"),p&&(v+="I");let g=this._holey.get(v);if(g===void 0){let S=0;c&&(S|=1),p&&(S|=2),g=this._measure(a,S),this._holey.set(v,g)}return g}_measure(a,c){const p=this._measureElements[c];return p.textContent=a.repeat(32),p.offsetWidth/32}}},2223:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TEXT_BASELINE=n.DIM_OPACITY=n.INVERTED_DEFAULT_COLOR=void 0;const c=a(6114);n.INVERTED_DEFAULT_COLOR=257,n.DIM_OPACITY=.5,n.TEXT_BASELINE=c.isFirefox||c.isLegacyEdge?"bottom":"ideographic"},6171:(_,n)=>{function a(c){return 57508<=c&&c<=57558}Object.defineProperty(n,"__esModule",{value:!0}),n.createRenderDimensions=n.excludeFromContrastRatioDemands=n.isRestrictedPowerlineGlyph=n.isPowerlineGlyph=n.throwIfFalsy=void 0,n.throwIfFalsy=function(c){if(!c)throw new Error("value must not be falsy");return c},n.isPowerlineGlyph=a,n.isRestrictedPowerlineGlyph=function(c){return 57520<=c&&c<=57527},n.excludeFromContrastRatioDemands=function(c){return a(c)||function(p){return 9472<=p&&p<=9631}(c)},n.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionModel=void 0,n.SelectionModel=class{constructor(a){this._bufferService=a,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?a%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)-1]:[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[a,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[Math.max(a,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const a=this.selectionStart,c=this.selectionEnd;return!(!a||!c)&&(a[1]>c[1]||a[1]===c[1]&&a[0]>c[0])}handleTrim(a){return this.selectionStart&&(this.selectionStart[1]-=a),this.selectionEnd&&(this.selectionEnd[1]-=a),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(_,n,a){var c=this&&this.__decorate||function(o,h,d,f){var m,y=arguments.length,w=y<3?h:f===null?f=Object.getOwnPropertyDescriptor(h,d):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(o,h,d,f);else for(var E=o.length-1;E>=0;E--)(m=o[E])&&(w=(y<3?m(w):y>3?m(h,d,w):m(h,d))||w);return y>3&&w&&Object.defineProperty(h,d,w),w},p=this&&this.__param||function(o,h){return function(d,f){h(d,f,o)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharSizeService=void 0;const u=a(2585),v=a(8460),g=a(844);let S=n.CharSizeService=class extends g.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(o,h,d){super(),this._optionsService=d,this.width=0,this.height=0,this._onCharSizeChange=this.register(new v.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new b(o,h,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const o=this._measureStrategy.measure();o.width===this.width&&o.height===this.height||(this.width=o.width,this.height=o.height,this._onCharSizeChange.fire())}};n.CharSizeService=S=c([p(2,u.IOptionsService)],S);class b{constructor(h,d,f){this._document=h,this._parentElement=d,this._optionsService=f,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const h={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return h.width!==0&&h.height!==0&&(this._result.width=h.width/32,this._result.height=Math.ceil(h.height)),this._result}}},4269:function(_,n,a){var c=this&&this.__decorate||function(h,d,f,m){var y,w=arguments.length,E=w<3?d:m===null?m=Object.getOwnPropertyDescriptor(d,f):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(h,d,f,m);else for(var C=h.length-1;C>=0;C--)(y=h[C])&&(E=(w<3?y(E):w>3?y(d,f,E):y(d,f))||E);return w>3&&E&&Object.defineProperty(d,f,E),E},p=this&&this.__param||function(h,d){return function(f,m){d(f,m,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterJoinerService=n.JoinedCellData=void 0;const u=a(3734),v=a(643),g=a(511),S=a(2585);class b extends u.AttributeData{constructor(d,f,m){super(),this.content=0,this.combinedData="",this.fg=d.fg,this.bg=d.bg,this.combinedData=f,this._width=m}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(d){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}n.JoinedCellData=b;let o=n.CharacterJoinerService=class bl{constructor(d){this._bufferService=d,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new g.CellData}register(d){const f={id:this._nextCharacterJoinerId++,handler:d};return this._characterJoiners.push(f),f.id}deregister(d){for(let f=0;f<this._characterJoiners.length;f++)if(this._characterJoiners[f].id===d)return this._characterJoiners.splice(f,1),!0;return!1}getJoinedCharacters(d){if(this._characterJoiners.length===0)return[];const f=this._bufferService.buffer.lines.get(d);if(!f||f.length===0)return[];const m=[],y=f.translateToString(!0);let w=0,E=0,C=0,k=f.getFg(0),D=f.getBg(0);for(let L=0;L<f.getTrimmedLength();L++)if(f.loadCell(L,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==k||this._workCell.bg!==D){if(L-w>1){const R=this._getJoinedRanges(y,C,E,f,w);for(let A=0;A<R.length;A++)m.push(R[A])}w=L,C=E,k=this._workCell.fg,D=this._workCell.bg}E+=this._workCell.getChars().length||v.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-w>1){const L=this._getJoinedRanges(y,C,E,f,w);for(let R=0;R<L.length;R++)m.push(L[R])}return m}_getJoinedRanges(d,f,m,y,w){const E=d.substring(f,m);let C=[];try{C=this._characterJoiners[0].handler(E)}catch(k){console.error(k)}for(let k=1;k<this._characterJoiners.length;k++)try{const D=this._characterJoiners[k].handler(E);for(let L=0;L<D.length;L++)bl._mergeRanges(C,D[L])}catch(D){console.error(D)}return this._stringRangesToCellRanges(C,y,w),C}_stringRangesToCellRanges(d,f,m){let y=0,w=!1,E=0,C=d[y];if(C){for(let k=m;k<this._bufferService.cols;k++){const D=f.getWidth(k),L=f.getString(k).length||v.WHITESPACE_CELL_CHAR.length;if(D!==0){if(!w&&C[0]<=E&&(C[0]=k,w=!0),C[1]<=E){if(C[1]=k,C=d[++y],!C)break;C[0]<=E?(C[0]=k,w=!0):w=!1}E+=L}}C&&(C[1]=this._bufferService.cols)}}static _mergeRanges(d,f){let m=!1;for(let y=0;y<d.length;y++){const w=d[y];if(m){if(f[1]<=w[0])return d[y-1][1]=f[1],d;if(f[1]<=w[1])return d[y-1][1]=Math.max(f[1],w[1]),d.splice(y,1),d;d.splice(y,1),y--}else{if(f[1]<=w[0])return d.splice(y,0,f),d;if(f[1]<=w[1])return w[0]=Math.min(f[0],w[0]),d;f[0]<w[1]&&(w[0]=Math.min(f[0],w[0]),m=!0)}}return m?d[d.length-1][1]=f[1]:d.push(f),d}};n.CharacterJoinerService=o=c([p(0,S.IBufferService)],o)},5114:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreBrowserService=void 0,n.CoreBrowserService=class{constructor(a,c){this._textarea=a,this.window=c,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(_,n,a){var c=this&&this.__decorate||function(S,b,o,h){var d,f=arguments.length,m=f<3?b:h===null?h=Object.getOwnPropertyDescriptor(b,o):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(S,b,o,h);else for(var y=S.length-1;y>=0;y--)(d=S[y])&&(m=(f<3?d(m):f>3?d(b,o,m):d(b,o))||m);return f>3&&m&&Object.defineProperty(b,o,m),m},p=this&&this.__param||function(S,b){return function(o,h){b(o,h,S)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseService=void 0;const u=a(4725),v=a(9806);let g=n.MouseService=class{constructor(S,b){this._renderService=S,this._charSizeService=b}getCoords(S,b,o,h,d){return(0,v.getCoords)(window,S,b,o,h,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,d)}getMouseReportCoords(S,b){const o=(0,v.getCoordsRelativeToElement)(window,S,b);if(this._charSizeService.hasValidSize)return o[0]=Math.min(Math.max(o[0],0),this._renderService.dimensions.css.canvas.width-1),o[1]=Math.min(Math.max(o[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(o[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(o[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(o[0]),y:Math.floor(o[1])}}};n.MouseService=g=c([p(0,u.IRenderService),p(1,u.ICharSizeService)],g)},3230:function(_,n,a){var c=this&&this.__decorate||function(m,y,w,E){var C,k=arguments.length,D=k<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,w):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(m,y,w,E);else for(var L=m.length-1;L>=0;L--)(C=m[L])&&(D=(k<3?C(D):k>3?C(y,w,D):C(y,w))||D);return k>3&&D&&Object.defineProperty(y,w,D),D},p=this&&this.__param||function(m,y){return function(w,E){y(w,E,m)}};Object.defineProperty(n,"__esModule",{value:!0}),n.RenderService=void 0;const u=a(3656),v=a(6193),g=a(5596),S=a(4725),b=a(8460),o=a(844),h=a(7226),d=a(2585);let f=n.RenderService=class extends o.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(m,y,w,E,C,k,D,L){if(super(),this._rowCount=m,this._charSizeService=E,this._renderer=this.register(new o.MutableDisposable),this._pausedResizeTask=new h.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new b.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new b.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new b.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new b.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new v.RenderDebouncer(D.window,(R,A)=>this._renderRows(R,A)),this.register(this._renderDebouncer),this._screenDprMonitor=new g.ScreenDprMonitor(D.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(k.onResize(()=>this._fullRefresh())),this.register(k.buffers.onBufferActivate(()=>{var R;return(R=this._renderer.value)===null||R===void 0?void 0:R.clear()})),this.register(w.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(C.onDecorationRegistered(()=>this._fullRefresh())),this.register(C.onDecorationRemoved(()=>this._fullRefresh())),this.register(w.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(k.cols,k.rows),this._fullRefresh()})),this.register(w.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(k.buffer.y,k.buffer.y,!0))),this.register((0,u.addDisposableDomListener)(D.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(L.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in D.window){const R=new D.window.IntersectionObserver(A=>this._handleIntersectionChange(A[A.length-1]),{threshold:0});R.observe(y),this.register({dispose:()=>R.disconnect()})}}_handleIntersectionChange(m){this._isPaused=m.isIntersecting===void 0?m.intersectionRatio===0:!m.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(m,y,w=!1){this._isPaused?this._needsFullRefresh=!0:(w||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(m,y,this._rowCount))}_renderRows(m,y){this._renderer.value&&(m=Math.min(m,this._rowCount-1),y=Math.min(y,this._rowCount-1),this._renderer.value.renderRows(m,y),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:m,end:y}),this._onRender.fire({start:m,end:y}),this._isNextRenderRedrawOnly=!0)}resize(m,y){this._rowCount=y,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(m){this._renderer.value=m,this._renderer.value.onRequestRedraw(y=>this.refreshRows(y.start,y.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(m){return this._renderDebouncer.addRefreshCallback(m)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var m,y;this._renderer.value&&((y=(m=this._renderer.value).clearTextureAtlas)===null||y===void 0||y.call(m),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(m,y){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(m,y)):this._renderer.value.handleResize(m,y),this._fullRefresh())}handleCharSizeChanged(){var m;(m=this._renderer.value)===null||m===void 0||m.handleCharSizeChanged()}handleBlur(){var m;(m=this._renderer.value)===null||m===void 0||m.handleBlur()}handleFocus(){var m;(m=this._renderer.value)===null||m===void 0||m.handleFocus()}handleSelectionChanged(m,y,w){var E;this._selectionState.start=m,this._selectionState.end=y,this._selectionState.columnSelectMode=w,(E=this._renderer.value)===null||E===void 0||E.handleSelectionChanged(m,y,w)}handleCursorMove(){var m;(m=this._renderer.value)===null||m===void 0||m.handleCursorMove()}clear(){var m;(m=this._renderer.value)===null||m===void 0||m.clear()}};n.RenderService=f=c([p(2,d.IOptionsService),p(3,S.ICharSizeService),p(4,d.IDecorationService),p(5,d.IBufferService),p(6,S.ICoreBrowserService),p(7,S.IThemeService)],f)},9312:function(_,n,a){var c=this&&this.__decorate||function(C,k,D,L){var R,A=arguments.length,N=A<3?k:L===null?L=Object.getOwnPropertyDescriptor(k,D):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(C,k,D,L);else for(var W=C.length-1;W>=0;W--)(R=C[W])&&(N=(A<3?R(N):A>3?R(k,D,N):R(k,D))||N);return A>3&&N&&Object.defineProperty(k,D,N),N},p=this&&this.__param||function(C,k){return function(D,L){k(D,L,C)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionService=void 0;const u=a(9806),v=a(9504),g=a(456),S=a(4725),b=a(8460),o=a(844),h=a(6114),d=a(4841),f=a(511),m=a(2585),y="",w=new RegExp(y,"g");let E=n.SelectionService=class extends o.Disposable{constructor(C,k,D,L,R,A,N,W,U){super(),this._element=C,this._screenElement=k,this._linkifier=D,this._bufferService=L,this._coreService=R,this._mouseService=A,this._optionsService=N,this._renderService=W,this._coreBrowserService=U,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new f.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new b.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new b.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new b.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new b.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=F=>this._handleMouseMove(F),this._mouseUpListener=F=>this._handleMouseUp(F),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(F=>this._handleTrim(F)),this.register(this._bufferService.buffers.onBufferActivate(F=>this._handleBufferActivate(F))),this.enable(),this._model=new g.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,o.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const C=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!(!C||!k||C[0]===k[0]&&C[1]===k[1])}get selectionText(){const C=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;if(!C||!k)return"";const D=this._bufferService.buffer,L=[];if(this._activeSelectionMode===3){if(C[0]===k[0])return"";const R=C[0]<k[0]?C[0]:k[0],A=C[0]<k[0]?k[0]:C[0];for(let N=C[1];N<=k[1];N++){const W=D.translateBufferLineToString(N,!0,R,A);L.push(W)}}else{const R=C[1]===k[1]?k[0]:void 0;L.push(D.translateBufferLineToString(C[1],!0,C[0],R));for(let A=C[1]+1;A<=k[1]-1;A++){const N=D.lines.get(A),W=D.translateBufferLineToString(A,!0);N!=null&&N.isWrapped?L[L.length-1]+=W:L.push(W)}if(C[1]!==k[1]){const A=D.lines.get(k[1]),N=D.translateBufferLineToString(k[1],!0,0,k[0]);A&&A.isWrapped?L[L.length-1]+=N:L.push(N)}}return L.map(R=>R.replace(w," ")).join(h.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(C){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),h.isLinux&&C&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(C){const k=this._getMouseBufferCoords(C),D=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;return!!(D&&L&&k)&&this._areCoordsInSelection(k,D,L)}isCellInSelection(C,k){const D=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;return!(!D||!L)&&this._areCoordsInSelection([C,k],D,L)}_areCoordsInSelection(C,k,D){return C[1]>k[1]&&C[1]<D[1]||k[1]===D[1]&&C[1]===k[1]&&C[0]>=k[0]&&C[0]<D[0]||k[1]<D[1]&&C[1]===D[1]&&C[0]<D[0]||k[1]<D[1]&&C[1]===k[1]&&C[0]>=k[0]}_selectWordAtCursor(C,k){var D,L;const R=(L=(D=this._linkifier.currentLink)===null||D===void 0?void 0:D.link)===null||L===void 0?void 0:L.range;if(R)return this._model.selectionStart=[R.start.x-1,R.start.y-1],this._model.selectionStartLength=(0,d.getRangeLength)(R,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const A=this._getMouseBufferCoords(C);return!!A&&(this._selectWordAt(A,k),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(C,k){this._model.clearSelection(),C=Math.max(C,0),k=Math.min(k,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,C],this._model.selectionEnd=[this._bufferService.cols,k],this.refresh(),this._onSelectionChange.fire()}_handleTrim(C){this._model.handleTrim(C)&&this.refresh()}_getMouseBufferCoords(C){const k=this._mouseService.getCoords(C,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(k)return k[0]--,k[1]--,k[1]+=this._bufferService.buffer.ydisp,k}_getMouseEventScrollAmount(C){let k=(0,u.getCoordsRelativeToElement)(this._coreBrowserService.window,C,this._screenElement)[1];const D=this._renderService.dimensions.css.canvas.height;return k>=0&&k<=D?0:(k>D&&(k-=D),k=Math.min(Math.max(k,-50),50),k/=50,k/Math.abs(k)+Math.round(14*k))}shouldForceSelection(C){return h.isMac?C.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:C.shiftKey}handleMouseDown(C){if(this._mouseDownTimeStamp=C.timeStamp,(C.button!==2||!this.hasSelection)&&C.button===0){if(!this._enabled){if(!this.shouldForceSelection(C))return;C.stopPropagation()}C.preventDefault(),this._dragScrollAmount=0,this._enabled&&C.shiftKey?this._handleIncrementalClick(C):C.detail===1?this._handleSingleClick(C):C.detail===2?this._handleDoubleClick(C):C.detail===3&&this._handleTripleClick(C),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(C){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(C))}_handleSingleClick(C){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(C)?3:0,this._model.selectionStart=this._getMouseBufferCoords(C),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const k=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);k&&k.length!==this._model.selectionStart[0]&&k.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(C){this._selectWordAtCursor(C,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(C){const k=this._getMouseBufferCoords(C);k&&(this._activeSelectionMode=2,this._selectLineAt(k[1]))}shouldColumnSelect(C){return C.altKey&&!(h.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(C){if(C.stopImmediatePropagation(),!this._model.selectionStart)return;const k=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(C),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(C),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const D=this._bufferService.buffer;if(this._model.selectionEnd[1]<D.lines.length){const L=D.lines.get(this._model.selectionEnd[1]);L&&L.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}k&&k[0]===this._model.selectionEnd[0]&&k[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const C=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(C.ydisp+this._bufferService.rows,C.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=C.ydisp),this.refresh()}}_handleMouseUp(C){const k=C.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&k<500&&C.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const D=this._mouseService.getCoords(C,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(D&&D[0]!==void 0&&D[1]!==void 0){const L=(0,v.moveToCellSequence)(D[0]-1,D[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(L,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const C=this._model.finalSelectionStart,k=this._model.finalSelectionEnd,D=!(!C||!k||C[0]===k[0]&&C[1]===k[1]);D?C&&k&&(this._oldSelectionStart&&this._oldSelectionEnd&&C[0]===this._oldSelectionStart[0]&&C[1]===this._oldSelectionStart[1]&&k[0]===this._oldSelectionEnd[0]&&k[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(C,k,D)):this._oldHasSelection&&this._fireOnSelectionChange(C,k,D)}_fireOnSelectionChange(C,k,D){this._oldSelectionStart=C,this._oldSelectionEnd=k,this._oldHasSelection=D,this._onSelectionChange.fire()}_handleBufferActivate(C){this.clearSelection(),this._trimListener.dispose(),this._trimListener=C.activeBuffer.lines.onTrim(k=>this._handleTrim(k))}_convertViewportColToCharacterIndex(C,k){let D=k;for(let L=0;k>=L;L++){const R=C.loadCell(L,this._workCell).getChars().length;this._workCell.getWidth()===0?D--:R>1&&k!==L&&(D+=R-1)}return D}setSelection(C,k,D){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[C,k],this._model.selectionStartLength=D,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(C){this._isClickInSelection(C)||(this._selectWordAtCursor(C,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(C,k,D=!0,L=!0){if(C[0]>=this._bufferService.cols)return;const R=this._bufferService.buffer,A=R.lines.get(C[1]);if(!A)return;const N=R.translateBufferLineToString(C[1],!1);let W=this._convertViewportColToCharacterIndex(A,C[0]),U=W;const F=C[0]-W;let x=0,M=0,B=0,P=0;if(N.charAt(W)===" "){for(;W>0&&N.charAt(W-1)===" ";)W--;for(;U<N.length&&N.charAt(U+1)===" ";)U++}else{let G=C[0],X=C[0];A.getWidth(G)===0&&(x++,G--),A.getWidth(X)===2&&(M++,X++);const ne=A.getString(X).length;for(ne>1&&(P+=ne-1,U+=ne-1);G>0&&W>0&&!this._isCharWordSeparator(A.loadCell(G-1,this._workCell));){A.loadCell(G-1,this._workCell);const T=this._workCell.getChars().length;this._workCell.getWidth()===0?(x++,G--):T>1&&(B+=T-1,W-=T-1),W--,G--}for(;X<A.length&&U+1<N.length&&!this._isCharWordSeparator(A.loadCell(X+1,this._workCell));){A.loadCell(X+1,this._workCell);const T=this._workCell.getChars().length;this._workCell.getWidth()===2?(M++,X++):T>1&&(P+=T-1,U+=T-1),U++,X++}}U++;let j=W+F-x+B,$=Math.min(this._bufferService.cols,U-W+x+M-B-P);if(k||N.slice(W,U).trim()!==""){if(D&&j===0&&A.getCodePoint(0)!==32){const G=R.lines.get(C[1]-1);if(G&&A.isWrapped&&G.getCodePoint(this._bufferService.cols-1)!==32){const X=this._getWordAt([this._bufferService.cols-1,C[1]-1],!1,!0,!1);if(X){const ne=this._bufferService.cols-X.start;j-=ne,$+=ne}}}if(L&&j+$===this._bufferService.cols&&A.getCodePoint(this._bufferService.cols-1)!==32){const G=R.lines.get(C[1]+1);if(G!=null&&G.isWrapped&&G.getCodePoint(0)!==32){const X=this._getWordAt([0,C[1]+1],!1,!1,!0);X&&($+=X.length)}}return{start:j,length:$}}}_selectWordAt(C,k){const D=this._getWordAt(C,k);if(D){for(;D.start<0;)D.start+=this._bufferService.cols,C[1]--;this._model.selectionStart=[D.start,C[1]],this._model.selectionStartLength=D.length}}_selectToWordAt(C){const k=this._getWordAt(C,!0);if(k){let D=C[1];for(;k.start<0;)k.start+=this._bufferService.cols,D--;if(!this._model.areSelectionValuesReversed())for(;k.start+k.length>this._bufferService.cols;)k.length-=this._bufferService.cols,D++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?k.start:k.start+k.length,D]}}_isCharWordSeparator(C){return C.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(C.getChars())>=0}_selectLineAt(C){const k=this._bufferService.buffer.getWrappedRangeForLine(C),D={start:{x:0,y:k.first},end:{x:this._bufferService.cols-1,y:k.last}};this._model.selectionStart=[0,k.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,d.getRangeLength)(D,this._bufferService.cols)}};n.SelectionService=E=c([p(3,m.IBufferService),p(4,m.ICoreService),p(5,S.IMouseService),p(6,m.IOptionsService),p(7,S.IRenderService),p(8,S.ICoreBrowserService)],E)},4725:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IThemeService=n.ICharacterJoinerService=n.ISelectionService=n.IRenderService=n.IMouseService=n.ICoreBrowserService=n.ICharSizeService=void 0;const c=a(8343);n.ICharSizeService=(0,c.createDecorator)("CharSizeService"),n.ICoreBrowserService=(0,c.createDecorator)("CoreBrowserService"),n.IMouseService=(0,c.createDecorator)("MouseService"),n.IRenderService=(0,c.createDecorator)("RenderService"),n.ISelectionService=(0,c.createDecorator)("SelectionService"),n.ICharacterJoinerService=(0,c.createDecorator)("CharacterJoinerService"),n.IThemeService=(0,c.createDecorator)("ThemeService")},6731:function(_,n,a){var c=this&&this.__decorate||function(E,C,k,D){var L,R=arguments.length,A=R<3?C:D===null?D=Object.getOwnPropertyDescriptor(C,k):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(E,C,k,D);else for(var N=E.length-1;N>=0;N--)(L=E[N])&&(A=(R<3?L(A):R>3?L(C,k,A):L(C,k))||A);return R>3&&A&&Object.defineProperty(C,k,A),A},p=this&&this.__param||function(E,C){return function(k,D){C(k,D,E)}};Object.defineProperty(n,"__esModule",{value:!0}),n.ThemeService=n.DEFAULT_ANSI_COLORS=void 0;const u=a(7239),v=a(8055),g=a(8460),S=a(844),b=a(2585),o=v.css.toColor("#ffffff"),h=v.css.toColor("#000000"),d=v.css.toColor("#ffffff"),f=v.css.toColor("#000000"),m={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};n.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const E=[v.css.toColor("#2e3436"),v.css.toColor("#cc0000"),v.css.toColor("#4e9a06"),v.css.toColor("#c4a000"),v.css.toColor("#3465a4"),v.css.toColor("#75507b"),v.css.toColor("#06989a"),v.css.toColor("#d3d7cf"),v.css.toColor("#555753"),v.css.toColor("#ef2929"),v.css.toColor("#8ae234"),v.css.toColor("#fce94f"),v.css.toColor("#729fcf"),v.css.toColor("#ad7fa8"),v.css.toColor("#34e2e2"),v.css.toColor("#eeeeec")],C=[0,95,135,175,215,255];for(let k=0;k<216;k++){const D=C[k/36%6|0],L=C[k/6%6|0],R=C[k%6];E.push({css:v.channels.toCss(D,L,R),rgba:v.channels.toRgba(D,L,R)})}for(let k=0;k<24;k++){const D=8+10*k;E.push({css:v.channels.toCss(D,D,D),rgba:v.channels.toRgba(D,D,D)})}return E})());let y=n.ThemeService=class extends S.Disposable{get colors(){return this._colors}constructor(E){super(),this._optionsService=E,this._contrastCache=new u.ColorContrastCache,this._halfContrastCache=new u.ColorContrastCache,this._onChangeColors=this.register(new g.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:o,background:h,cursor:d,cursorAccent:f,selectionForeground:void 0,selectionBackgroundTransparent:m,selectionBackgroundOpaque:v.color.blend(h,m),selectionInactiveBackgroundTransparent:m,selectionInactiveBackgroundOpaque:v.color.blend(h,m),ansi:n.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(E={}){const C=this._colors;if(C.foreground=w(E.foreground,o),C.background=w(E.background,h),C.cursor=w(E.cursor,d),C.cursorAccent=w(E.cursorAccent,f),C.selectionBackgroundTransparent=w(E.selectionBackground,m),C.selectionBackgroundOpaque=v.color.blend(C.background,C.selectionBackgroundTransparent),C.selectionInactiveBackgroundTransparent=w(E.selectionInactiveBackground,C.selectionBackgroundTransparent),C.selectionInactiveBackgroundOpaque=v.color.blend(C.background,C.selectionInactiveBackgroundTransparent),C.selectionForeground=E.selectionForeground?w(E.selectionForeground,v.NULL_COLOR):void 0,C.selectionForeground===v.NULL_COLOR&&(C.selectionForeground=void 0),v.color.isOpaque(C.selectionBackgroundTransparent)&&(C.selectionBackgroundTransparent=v.color.opacity(C.selectionBackgroundTransparent,.3)),v.color.isOpaque(C.selectionInactiveBackgroundTransparent)&&(C.selectionInactiveBackgroundTransparent=v.color.opacity(C.selectionInactiveBackgroundTransparent,.3)),C.ansi=n.DEFAULT_ANSI_COLORS.slice(),C.ansi[0]=w(E.black,n.DEFAULT_ANSI_COLORS[0]),C.ansi[1]=w(E.red,n.DEFAULT_ANSI_COLORS[1]),C.ansi[2]=w(E.green,n.DEFAULT_ANSI_COLORS[2]),C.ansi[3]=w(E.yellow,n.DEFAULT_ANSI_COLORS[3]),C.ansi[4]=w(E.blue,n.DEFAULT_ANSI_COLORS[4]),C.ansi[5]=w(E.magenta,n.DEFAULT_ANSI_COLORS[5]),C.ansi[6]=w(E.cyan,n.DEFAULT_ANSI_COLORS[6]),C.ansi[7]=w(E.white,n.DEFAULT_ANSI_COLORS[7]),C.ansi[8]=w(E.brightBlack,n.DEFAULT_ANSI_COLORS[8]),C.ansi[9]=w(E.brightRed,n.DEFAULT_ANSI_COLORS[9]),C.ansi[10]=w(E.brightGreen,n.DEFAULT_ANSI_COLORS[10]),C.ansi[11]=w(E.brightYellow,n.DEFAULT_ANSI_COLORS[11]),C.ansi[12]=w(E.brightBlue,n.DEFAULT_ANSI_COLORS[12]),C.ansi[13]=w(E.brightMagenta,n.DEFAULT_ANSI_COLORS[13]),C.ansi[14]=w(E.brightCyan,n.DEFAULT_ANSI_COLORS[14]),C.ansi[15]=w(E.brightWhite,n.DEFAULT_ANSI_COLORS[15]),E.extendedAnsi){const k=Math.min(C.ansi.length-16,E.extendedAnsi.length);for(let D=0;D<k;D++)C.ansi[D+16]=w(E.extendedAnsi[D],n.DEFAULT_ANSI_COLORS[D+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(E){this._restoreColor(E),this._onChangeColors.fire(this.colors)}_restoreColor(E){if(E!==void 0)switch(E){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[E]=this._restoreColors.ansi[E]}else for(let C=0;C<this._restoreColors.ansi.length;++C)this._colors.ansi[C]=this._restoreColors.ansi[C]}modifyColors(E){E(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function w(E,C){if(E!==void 0)try{return v.css.toColor(E)}catch{}return C}n.ThemeService=y=c([p(0,b.IOptionsService)],y)},6349:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CircularList=void 0;const c=a(8460),p=a(844);class u extends p.Disposable{constructor(g){super(),this._maxLength=g,this.onDeleteEmitter=this.register(new c.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new c.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new c.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(g){if(this._maxLength===g)return;const S=new Array(g);for(let b=0;b<Math.min(g,this.length);b++)S[b]=this._array[this._getCyclicIndex(b)];this._array=S,this._maxLength=g,this._startIndex=0}get length(){return this._length}set length(g){if(g>this._length)for(let S=this._length;S<g;S++)this._array[S]=void 0;this._length=g}get(g){return this._array[this._getCyclicIndex(g)]}set(g,S){this._array[this._getCyclicIndex(g)]=S}push(g){this._array[this._getCyclicIndex(this._length)]=g,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(g,S,...b){if(S){for(let o=g;o<this._length-S;o++)this._array[this._getCyclicIndex(o)]=this._array[this._getCyclicIndex(o+S)];this._length-=S,this.onDeleteEmitter.fire({index:g,amount:S})}for(let o=this._length-1;o>=g;o--)this._array[this._getCyclicIndex(o+b.length)]=this._array[this._getCyclicIndex(o)];for(let o=0;o<b.length;o++)this._array[this._getCyclicIndex(g+o)]=b[o];if(b.length&&this.onInsertEmitter.fire({index:g,amount:b.length}),this._length+b.length>this._maxLength){const o=this._length+b.length-this._maxLength;this._startIndex+=o,this._length=this._maxLength,this.onTrimEmitter.fire(o)}else this._length+=b.length}trimStart(g){g>this._length&&(g=this._length),this._startIndex+=g,this._length-=g,this.onTrimEmitter.fire(g)}shiftElements(g,S,b){if(!(S<=0)){if(g<0||g>=this._length)throw new Error("start argument out of range");if(g+b<0)throw new Error("Cannot shift elements in list beyond index 0");if(b>0){for(let h=S-1;h>=0;h--)this.set(g+h+b,this.get(g+h));const o=g+S+b-this._length;if(o>0)for(this._length+=o;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let o=0;o<S;o++)this.set(g+o+b,this.get(g+o))}}_getCyclicIndex(g){return(this._startIndex+g)%this._maxLength}}n.CircularList=u},1439:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.clone=void 0,n.clone=function a(c,p=5){if(typeof c!="object")return c;const u=Array.isArray(c)?[]:{};for(const v in c)u[v]=p<=1?c[v]:c[v]&&a(c[v],p-1);return u}},8055:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.contrastRatio=n.toPaddedHex=n.rgba=n.rgb=n.css=n.color=n.channels=n.NULL_COLOR=void 0;const c=a(6114);let p=0,u=0,v=0,g=0;var S,b,o,h,d;function f(y){const w=y.toString(16);return w.length<2?"0"+w:w}function m(y,w){return y<w?(w+.05)/(y+.05):(y+.05)/(w+.05)}n.NULL_COLOR={css:"#00000000",rgba:0},function(y){y.toCss=function(w,E,C,k){return k!==void 0?`#${f(w)}${f(E)}${f(C)}${f(k)}`:`#${f(w)}${f(E)}${f(C)}`},y.toRgba=function(w,E,C,k=255){return(w<<24|E<<16|C<<8|k)>>>0}}(S||(n.channels=S={})),function(y){function w(E,C){return g=Math.round(255*C),[p,u,v]=d.toChannels(E.rgba),{css:S.toCss(p,u,v,g),rgba:S.toRgba(p,u,v,g)}}y.blend=function(E,C){if(g=(255&C.rgba)/255,g===1)return{css:C.css,rgba:C.rgba};const k=C.rgba>>24&255,D=C.rgba>>16&255,L=C.rgba>>8&255,R=E.rgba>>24&255,A=E.rgba>>16&255,N=E.rgba>>8&255;return p=R+Math.round((k-R)*g),u=A+Math.round((D-A)*g),v=N+Math.round((L-N)*g),{css:S.toCss(p,u,v),rgba:S.toRgba(p,u,v)}},y.isOpaque=function(E){return(255&E.rgba)==255},y.ensureContrastRatio=function(E,C,k){const D=d.ensureContrastRatio(E.rgba,C.rgba,k);if(D)return d.toColor(D>>24&255,D>>16&255,D>>8&255)},y.opaque=function(E){const C=(255|E.rgba)>>>0;return[p,u,v]=d.toChannels(C),{css:S.toCss(p,u,v),rgba:C}},y.opacity=w,y.multiplyOpacity=function(E,C){return g=255&E.rgba,w(E,g*C/255)},y.toColorRGB=function(E){return[E.rgba>>24&255,E.rgba>>16&255,E.rgba>>8&255]}}(b||(n.color=b={})),function(y){let w,E;if(!c.isNode){const C=document.createElement("canvas");C.width=1,C.height=1;const k=C.getContext("2d",{willReadFrequently:!0});k&&(w=k,w.globalCompositeOperation="copy",E=w.createLinearGradient(0,0,1,1))}y.toColor=function(C){if(C.match(/#[\da-f]{3,8}/i))switch(C.length){case 4:return p=parseInt(C.slice(1,2).repeat(2),16),u=parseInt(C.slice(2,3).repeat(2),16),v=parseInt(C.slice(3,4).repeat(2),16),d.toColor(p,u,v);case 5:return p=parseInt(C.slice(1,2).repeat(2),16),u=parseInt(C.slice(2,3).repeat(2),16),v=parseInt(C.slice(3,4).repeat(2),16),g=parseInt(C.slice(4,5).repeat(2),16),d.toColor(p,u,v,g);case 7:return{css:C,rgba:(parseInt(C.slice(1),16)<<8|255)>>>0};case 9:return{css:C,rgba:parseInt(C.slice(1),16)>>>0}}const k=C.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(k)return p=parseInt(k[1]),u=parseInt(k[2]),v=parseInt(k[3]),g=Math.round(255*(k[5]===void 0?1:parseFloat(k[5]))),d.toColor(p,u,v,g);if(!w||!E)throw new Error("css.toColor: Unsupported css format");if(w.fillStyle=E,w.fillStyle=C,typeof w.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(w.fillRect(0,0,1,1),[p,u,v,g]=w.getImageData(0,0,1,1).data,g!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:S.toRgba(p,u,v,g),css:C}}}(o||(n.css=o={})),function(y){function w(E,C,k){const D=E/255,L=C/255,R=k/255;return .2126*(D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4))+.7152*(L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4))+.0722*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))}y.relativeLuminance=function(E){return w(E>>16&255,E>>8&255,255&E)},y.relativeLuminance2=w}(h||(n.rgb=h={})),function(y){function w(C,k,D){const L=C>>24&255,R=C>>16&255,A=C>>8&255;let N=k>>24&255,W=k>>16&255,U=k>>8&255,F=m(h.relativeLuminance2(N,W,U),h.relativeLuminance2(L,R,A));for(;F<D&&(N>0||W>0||U>0);)N-=Math.max(0,Math.ceil(.1*N)),W-=Math.max(0,Math.ceil(.1*W)),U-=Math.max(0,Math.ceil(.1*U)),F=m(h.relativeLuminance2(N,W,U),h.relativeLuminance2(L,R,A));return(N<<24|W<<16|U<<8|255)>>>0}function E(C,k,D){const L=C>>24&255,R=C>>16&255,A=C>>8&255;let N=k>>24&255,W=k>>16&255,U=k>>8&255,F=m(h.relativeLuminance2(N,W,U),h.relativeLuminance2(L,R,A));for(;F<D&&(N<255||W<255||U<255);)N=Math.min(255,N+Math.ceil(.1*(255-N))),W=Math.min(255,W+Math.ceil(.1*(255-W))),U=Math.min(255,U+Math.ceil(.1*(255-U))),F=m(h.relativeLuminance2(N,W,U),h.relativeLuminance2(L,R,A));return(N<<24|W<<16|U<<8|255)>>>0}y.ensureContrastRatio=function(C,k,D){const L=h.relativeLuminance(C>>8),R=h.relativeLuminance(k>>8);if(m(L,R)<D){if(R<L){const W=w(C,k,D),U=m(L,h.relativeLuminance(W>>8));if(U<D){const F=E(C,k,D);return U>m(L,h.relativeLuminance(F>>8))?W:F}return W}const A=E(C,k,D),N=m(L,h.relativeLuminance(A>>8));if(N<D){const W=w(C,k,D);return N>m(L,h.relativeLuminance(W>>8))?A:W}return A}},y.reduceLuminance=w,y.increaseLuminance=E,y.toChannels=function(C){return[C>>24&255,C>>16&255,C>>8&255,255&C]},y.toColor=function(C,k,D,L){return{css:S.toCss(C,k,D,L),rgba:S.toRgba(C,k,D,L)}}}(d||(n.rgba=d={})),n.toPaddedHex=f,n.contrastRatio=m},8969:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreTerminal=void 0;const c=a(844),p=a(2585),u=a(4348),v=a(7866),g=a(744),S=a(7302),b=a(6975),o=a(8460),h=a(1753),d=a(1480),f=a(7994),m=a(9282),y=a(5435),w=a(5981),E=a(2660);let C=!1;class k extends c.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new o.EventEmitter),this._onScroll.event(L=>{var R;(R=this._onScrollApi)===null||R===void 0||R.fire(L.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(L){for(const R in L)this.optionsService.options[R]=L[R]}constructor(L){super(),this._windowsWrappingHeuristics=this.register(new c.MutableDisposable),this._onBinary=this.register(new o.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new o.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new o.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new o.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new o.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new o.EventEmitter),this._instantiationService=new u.InstantiationService,this.optionsService=this.register(new S.OptionsService(L)),this._instantiationService.setService(p.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(g.BufferService)),this._instantiationService.setService(p.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(v.LogService)),this._instantiationService.setService(p.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(b.CoreService)),this._instantiationService.setService(p.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(h.CoreMouseService)),this._instantiationService.setService(p.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(d.UnicodeService)),this._instantiationService.setService(p.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(f.CharsetService),this._instantiationService.setService(p.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(E.OscLinkService),this._instantiationService.setService(p.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new y.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,o.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,o.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,o.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,o.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(R=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(R=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new w.WriteBuffer((R,A)=>this._inputHandler.parse(R,A))),this.register((0,o.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(L,R){this._writeBuffer.write(L,R)}writeSync(L,R){this._logService.logLevel<=p.LogLevelEnum.WARN&&!C&&(this._logService.warn("writeSync is unreliable and will be removed soon."),C=!0),this._writeBuffer.writeSync(L,R)}resize(L,R){isNaN(L)||isNaN(R)||(L=Math.max(L,g.MINIMUM_COLS),R=Math.max(R,g.MINIMUM_ROWS),this._bufferService.resize(L,R))}scroll(L,R=!1){this._bufferService.scroll(L,R)}scrollLines(L,R,A){this._bufferService.scrollLines(L,R,A)}scrollPages(L){this.scrollLines(L*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(L){const R=L-this._bufferService.buffer.ydisp;R!==0&&this.scrollLines(R)}registerEscHandler(L,R){return this._inputHandler.registerEscHandler(L,R)}registerDcsHandler(L,R){return this._inputHandler.registerDcsHandler(L,R)}registerCsiHandler(L,R){return this._inputHandler.registerCsiHandler(L,R)}registerOscHandler(L,R){return this._inputHandler.registerOscHandler(L,R)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let L=!1;const R=this.optionsService.rawOptions.windowsPty;R&&R.buildNumber!==void 0&&R.buildNumber!==void 0?L=R.backend==="conpty"&&R.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(L=!0),L?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const L=[];L.push(this.onLineFeed(m.updateWindowsModeWrappedState.bind(null,this._bufferService))),L.push(this.registerCsiHandler({final:"H"},()=>((0,m.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,c.toDisposable)(()=>{for(const R of L)R.dispose()})}}}n.CoreTerminal=k},8460:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.forwardEvent=n.EventEmitter=void 0,n.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=a=>(this._listeners.push(a),{dispose:()=>{if(!this._disposed){for(let c=0;c<this._listeners.length;c++)if(this._listeners[c]===a)return void this._listeners.splice(c,1)}}})),this._event}fire(a,c){const p=[];for(let u=0;u<this._listeners.length;u++)p.push(this._listeners[u]);for(let u=0;u<p.length;u++)p[u].call(void 0,a,c)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},n.forwardEvent=function(a,c){return a(p=>c.fire(p))}},5435:function(_,n,a){var c=this&&this.__decorate||function(F,x,M,B){var P,j=arguments.length,$=j<3?x:B===null?B=Object.getOwnPropertyDescriptor(x,M):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(F,x,M,B);else for(var G=F.length-1;G>=0;G--)(P=F[G])&&($=(j<3?P($):j>3?P(x,M,$):P(x,M))||$);return j>3&&$&&Object.defineProperty(x,M,$),$},p=this&&this.__param||function(F,x){return function(M,B){x(M,B,F)}};Object.defineProperty(n,"__esModule",{value:!0}),n.InputHandler=n.WindowsOptionsReportType=void 0;const u=a(2584),v=a(7116),g=a(2015),S=a(844),b=a(482),o=a(8437),h=a(8460),d=a(643),f=a(511),m=a(3734),y=a(2585),w=a(6242),E=a(6351),C=a(5941),k={"(":0,")":1,"*":2,"+":3,"-":1,".":2},D=131072;function L(F,x){if(F>24)return x.setWinLines||!1;switch(F){case 1:return!!x.restoreWin;case 2:return!!x.minimizeWin;case 3:return!!x.setWinPosition;case 4:return!!x.setWinSizePixels;case 5:return!!x.raiseWin;case 6:return!!x.lowerWin;case 7:return!!x.refreshWin;case 8:return!!x.setWinSizeChars;case 9:return!!x.maximizeWin;case 10:return!!x.fullscreenWin;case 11:return!!x.getWinState;case 13:return!!x.getWinPosition;case 14:return!!x.getWinSizePixels;case 15:return!!x.getScreenSizePixels;case 16:return!!x.getCellSizePixels;case 18:return!!x.getWinSizeChars;case 19:return!!x.getScreenSizeChars;case 20:return!!x.getIconTitle;case 21:return!!x.getWinTitle;case 22:return!!x.pushTitle;case 23:return!!x.popTitle;case 24:return!!x.setWinLines}return!1}var R;(function(F){F[F.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",F[F.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(R||(n.WindowsOptionsReportType=R={}));let A=0;class N extends S.Disposable{getAttrData(){return this._curAttrData}constructor(x,M,B,P,j,$,G,X,ne=new g.EscapeSequenceParser){super(),this._bufferService=x,this._charsetService=M,this._coreService=B,this._logService=P,this._optionsService=j,this._oscLinkService=$,this._coreMouseService=G,this._unicodeService=X,this._parser=ne,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new b.StringToUtf32,this._utf8Decoder=new b.Utf8ToUtf32,this._workCell=new f.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=o.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new h.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new h.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new h.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new h.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new h.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new h.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new h.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new h.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new h.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new h.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new h.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new h.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new W(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(T=>this._activeBuffer=T.activeBuffer)),this._parser.setCsiHandlerFallback((T,H)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(T),params:H.toArray()})}),this._parser.setEscHandlerFallback(T=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(T)})}),this._parser.setExecuteHandlerFallback(T=>{this._logService.debug("Unknown EXECUTE code: ",{code:T})}),this._parser.setOscHandlerFallback((T,H,z)=>{this._logService.debug("Unknown OSC code: ",{identifier:T,action:H,data:z})}),this._parser.setDcsHandlerFallback((T,H,z)=>{H==="HOOK"&&(z=z.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(T),action:H,payload:z})}),this._parser.setPrintHandler((T,H,z)=>this.print(T,H,z)),this._parser.registerCsiHandler({final:"@"},T=>this.insertChars(T)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},T=>this.scrollLeft(T)),this._parser.registerCsiHandler({final:"A"},T=>this.cursorUp(T)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},T=>this.scrollRight(T)),this._parser.registerCsiHandler({final:"B"},T=>this.cursorDown(T)),this._parser.registerCsiHandler({final:"C"},T=>this.cursorForward(T)),this._parser.registerCsiHandler({final:"D"},T=>this.cursorBackward(T)),this._parser.registerCsiHandler({final:"E"},T=>this.cursorNextLine(T)),this._parser.registerCsiHandler({final:"F"},T=>this.cursorPrecedingLine(T)),this._parser.registerCsiHandler({final:"G"},T=>this.cursorCharAbsolute(T)),this._parser.registerCsiHandler({final:"H"},T=>this.cursorPosition(T)),this._parser.registerCsiHandler({final:"I"},T=>this.cursorForwardTab(T)),this._parser.registerCsiHandler({final:"J"},T=>this.eraseInDisplay(T,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},T=>this.eraseInDisplay(T,!0)),this._parser.registerCsiHandler({final:"K"},T=>this.eraseInLine(T,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},T=>this.eraseInLine(T,!0)),this._parser.registerCsiHandler({final:"L"},T=>this.insertLines(T)),this._parser.registerCsiHandler({final:"M"},T=>this.deleteLines(T)),this._parser.registerCsiHandler({final:"P"},T=>this.deleteChars(T)),this._parser.registerCsiHandler({final:"S"},T=>this.scrollUp(T)),this._parser.registerCsiHandler({final:"T"},T=>this.scrollDown(T)),this._parser.registerCsiHandler({final:"X"},T=>this.eraseChars(T)),this._parser.registerCsiHandler({final:"Z"},T=>this.cursorBackwardTab(T)),this._parser.registerCsiHandler({final:"`"},T=>this.charPosAbsolute(T)),this._parser.registerCsiHandler({final:"a"},T=>this.hPositionRelative(T)),this._parser.registerCsiHandler({final:"b"},T=>this.repeatPrecedingCharacter(T)),this._parser.registerCsiHandler({final:"c"},T=>this.sendDeviceAttributesPrimary(T)),this._parser.registerCsiHandler({prefix:">",final:"c"},T=>this.sendDeviceAttributesSecondary(T)),this._parser.registerCsiHandler({final:"d"},T=>this.linePosAbsolute(T)),this._parser.registerCsiHandler({final:"e"},T=>this.vPositionRelative(T)),this._parser.registerCsiHandler({final:"f"},T=>this.hVPosition(T)),this._parser.registerCsiHandler({final:"g"},T=>this.tabClear(T)),this._parser.registerCsiHandler({final:"h"},T=>this.setMode(T)),this._parser.registerCsiHandler({prefix:"?",final:"h"},T=>this.setModePrivate(T)),this._parser.registerCsiHandler({final:"l"},T=>this.resetMode(T)),this._parser.registerCsiHandler({prefix:"?",final:"l"},T=>this.resetModePrivate(T)),this._parser.registerCsiHandler({final:"m"},T=>this.charAttributes(T)),this._parser.registerCsiHandler({final:"n"},T=>this.deviceStatus(T)),this._parser.registerCsiHandler({prefix:"?",final:"n"},T=>this.deviceStatusPrivate(T)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},T=>this.softReset(T)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},T=>this.setCursorStyle(T)),this._parser.registerCsiHandler({final:"r"},T=>this.setScrollRegion(T)),this._parser.registerCsiHandler({final:"s"},T=>this.saveCursor(T)),this._parser.registerCsiHandler({final:"t"},T=>this.windowOptions(T)),this._parser.registerCsiHandler({final:"u"},T=>this.restoreCursor(T)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},T=>this.insertColumns(T)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},T=>this.deleteColumns(T)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},T=>this.selectProtected(T)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},T=>this.requestMode(T,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},T=>this.requestMode(T,!1)),this._parser.setExecuteHandler(u.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(u.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(u.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(u.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(u.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(u.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(u.C1.IND,()=>this.index()),this._parser.setExecuteHandler(u.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(u.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new w.OscHandler(T=>(this.setTitle(T),this.setIconName(T),!0))),this._parser.registerOscHandler(1,new w.OscHandler(T=>this.setIconName(T))),this._parser.registerOscHandler(2,new w.OscHandler(T=>this.setTitle(T))),this._parser.registerOscHandler(4,new w.OscHandler(T=>this.setOrReportIndexedColor(T))),this._parser.registerOscHandler(8,new w.OscHandler(T=>this.setHyperlink(T))),this._parser.registerOscHandler(10,new w.OscHandler(T=>this.setOrReportFgColor(T))),this._parser.registerOscHandler(11,new w.OscHandler(T=>this.setOrReportBgColor(T))),this._parser.registerOscHandler(12,new w.OscHandler(T=>this.setOrReportCursorColor(T))),this._parser.registerOscHandler(104,new w.OscHandler(T=>this.restoreIndexedColor(T))),this._parser.registerOscHandler(110,new w.OscHandler(T=>this.restoreFgColor(T))),this._parser.registerOscHandler(111,new w.OscHandler(T=>this.restoreBgColor(T))),this._parser.registerOscHandler(112,new w.OscHandler(T=>this.restoreCursorColor(T))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const T in v.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:T},()=>this.selectCharset("("+T)),this._parser.registerEscHandler({intermediates:")",final:T},()=>this.selectCharset(")"+T)),this._parser.registerEscHandler({intermediates:"*",final:T},()=>this.selectCharset("*"+T)),this._parser.registerEscHandler({intermediates:"+",final:T},()=>this.selectCharset("+"+T)),this._parser.registerEscHandler({intermediates:"-",final:T},()=>this.selectCharset("-"+T)),this._parser.registerEscHandler({intermediates:".",final:T},()=>this.selectCharset("."+T)),this._parser.registerEscHandler({intermediates:"/",final:T},()=>this.selectCharset("/"+T));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(T=>(this._logService.error("Parsing error: ",T),T)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new E.DcsHandler((T,H)=>this.requestStatusString(T,H)))}_preserveStack(x,M,B,P){this._parseStack.paused=!0,this._parseStack.cursorStartX=x,this._parseStack.cursorStartY=M,this._parseStack.decodedLength=B,this._parseStack.position=P}_logSlowResolvingAsync(x){this._logService.logLevel<=y.LogLevelEnum.WARN&&Promise.race([x,new Promise((M,B)=>setTimeout(()=>B("#SLOW_TIMEOUT"),5e3))]).catch(M=>{if(M!=="#SLOW_TIMEOUT")throw M;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(x,M){let B,P=this._activeBuffer.x,j=this._activeBuffer.y,$=0;const G=this._parseStack.paused;if(G){if(B=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,M))return this._logSlowResolvingAsync(B),B;P=this._parseStack.cursorStartX,j=this._parseStack.cursorStartY,this._parseStack.paused=!1,x.length>D&&($=this._parseStack.position+D)}if(this._logService.logLevel<=y.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof x=="string"?` "${x}"`:` "${Array.prototype.map.call(x,X=>String.fromCharCode(X)).join("")}"`),typeof x=="string"?x.split("").map(X=>X.charCodeAt(0)):x),this._parseBuffer.length<x.length&&this._parseBuffer.length<D&&(this._parseBuffer=new Uint32Array(Math.min(x.length,D))),G||this._dirtyRowTracker.clearRange(),x.length>D)for(let X=$;X<x.length;X+=D){const ne=X+D<x.length?X+D:x.length,T=typeof x=="string"?this._stringDecoder.decode(x.substring(X,ne),this._parseBuffer):this._utf8Decoder.decode(x.subarray(X,ne),this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,T))return this._preserveStack(P,j,T,X),this._logSlowResolvingAsync(B),B}else if(!G){const X=typeof x=="string"?this._stringDecoder.decode(x,this._parseBuffer):this._utf8Decoder.decode(x,this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,X))return this._preserveStack(P,j,X,0),this._logSlowResolvingAsync(B),B}this._activeBuffer.x===P&&this._activeBuffer.y===j||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(x,M,B){let P,j;const $=this._charsetService.charset,G=this._optionsService.rawOptions.screenReaderMode,X=this._bufferService.cols,ne=this._coreService.decPrivateModes.wraparound,T=this._coreService.modes.insertMode,H=this._curAttrData;let z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&B-M>0&&z.getWidth(this._activeBuffer.x-1)===2&&z.setCellFromCodePoint(this._activeBuffer.x-1,0,1,H.fg,H.bg,H.extended);for(let K=M;K<B;++K){if(P=x[K],j=this._unicodeService.wcwidth(P),P<127&&$){const Q=$[String.fromCharCode(P)];Q&&(P=Q.charCodeAt(0))}if(G&&this._onA11yChar.fire((0,b.stringFromCodePoint)(P)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),j||!this._activeBuffer.x){if(this._activeBuffer.x+j-1>=X){if(ne){for(;this._activeBuffer.x<X;)z.setCellFromCodePoint(this._activeBuffer.x++,0,1,H.fg,H.bg,H.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=X-1,j===2)continue}if(T&&(z.insertCells(this._activeBuffer.x,j,this._activeBuffer.getNullCell(H),H),z.getWidth(X-1)===2&&z.setCellFromCodePoint(X-1,d.NULL_CELL_CODE,d.NULL_CELL_WIDTH,H.fg,H.bg,H.extended)),z.setCellFromCodePoint(this._activeBuffer.x++,P,j,H.fg,H.bg,H.extended),j>0)for(;--j;)z.setCellFromCodePoint(this._activeBuffer.x++,0,0,H.fg,H.bg,H.extended)}else z.getWidth(this._activeBuffer.x-1)?z.addCodepointToCell(this._activeBuffer.x-1,P):z.addCodepointToCell(this._activeBuffer.x-2,P)}B-M>0&&(z.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<X&&B-M>0&&z.getWidth(this._activeBuffer.x)===0&&!z.hasContent(this._activeBuffer.x)&&z.setCellFromCodePoint(this._activeBuffer.x,0,1,H.fg,H.bg,H.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(x,M){return x.final!=="t"||x.prefix||x.intermediates?this._parser.registerCsiHandler(x,M):this._parser.registerCsiHandler(x,B=>!L(B.params[0],this._optionsService.rawOptions.windowOptions)||M(B))}registerDcsHandler(x,M){return this._parser.registerDcsHandler(x,new E.DcsHandler(M))}registerEscHandler(x,M){return this._parser.registerEscHandler(x,M)}registerOscHandler(x,M){return this._parser.registerOscHandler(x,new w.OscHandler(M))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var x;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||x===void 0)&&x.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);M.hasWidth(this._activeBuffer.x)&&!M.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const x=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-x),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(x=this._bufferService.cols-1){this._activeBuffer.x=Math.min(x,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(x,M){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=x,this._activeBuffer.y=this._activeBuffer.scrollTop+M):(this._activeBuffer.x=x,this._activeBuffer.y=M),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(x,M){this._restrictCursor(),this._setCursor(this._activeBuffer.x+x,this._activeBuffer.y+M)}cursorUp(x){const M=this._activeBuffer.y-this._activeBuffer.scrollTop;return M>=0?this._moveCursor(0,-Math.min(M,x.params[0]||1)):this._moveCursor(0,-(x.params[0]||1)),!0}cursorDown(x){const M=this._activeBuffer.scrollBottom-this._activeBuffer.y;return M>=0?this._moveCursor(0,Math.min(M,x.params[0]||1)):this._moveCursor(0,x.params[0]||1),!0}cursorForward(x){return this._moveCursor(x.params[0]||1,0),!0}cursorBackward(x){return this._moveCursor(-(x.params[0]||1),0),!0}cursorNextLine(x){return this.cursorDown(x),this._activeBuffer.x=0,!0}cursorPrecedingLine(x){return this.cursorUp(x),this._activeBuffer.x=0,!0}cursorCharAbsolute(x){return this._setCursor((x.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(x){return this._setCursor(x.length>=2?(x.params[1]||1)-1:0,(x.params[0]||1)-1),!0}charPosAbsolute(x){return this._setCursor((x.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(x){return this._moveCursor(x.params[0]||1,0),!0}linePosAbsolute(x){return this._setCursor(this._activeBuffer.x,(x.params[0]||1)-1),!0}vPositionRelative(x){return this._moveCursor(0,x.params[0]||1),!0}hVPosition(x){return this.cursorPosition(x),!0}tabClear(x){const M=x.params[0];return M===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:M===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(x){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let M=x.params[0]||1;for(;M--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(x){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let M=x.params[0]||1;for(;M--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(x){const M=x.params[0];return M===1&&(this._curAttrData.bg|=536870912),M!==2&&M!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(x,M,B,P=!1,j=!1){const $=this._activeBuffer.lines.get(this._activeBuffer.ybase+x);$.replaceCells(M,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),j),P&&($.isWrapped=!1)}_resetBufferLine(x,M=!1){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+x);B&&(B.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),M),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+x),B.isWrapped=!1)}eraseInDisplay(x,M=!1){let B;switch(this._restrictCursor(this._bufferService.cols),x.params[0]){case 0:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,M);B<this._bufferService.rows;B++)this._resetBufferLine(B,M);this._dirtyRowTracker.markDirty(B);break;case 1:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B,0,this._activeBuffer.x+1,!0,M),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(B+1).isWrapped=!1);B--;)this._resetBufferLine(B,M);this._dirtyRowTracker.markDirty(0);break;case 2:for(B=this._bufferService.rows,this._dirtyRowTracker.markDirty(B-1);B--;)this._resetBufferLine(B,M);this._dirtyRowTracker.markDirty(0);break;case 3:const P=this._activeBuffer.lines.length-this._bufferService.rows;P>0&&(this._activeBuffer.lines.trimStart(P),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-P,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-P,0),this._onScroll.fire(0))}return!0}eraseInLine(x,M=!1){switch(this._restrictCursor(this._bufferService.cols),x.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,M);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,M);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,M)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(x){this._restrictCursor();let M=x.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y,P=this._bufferService.rows-1-this._activeBuffer.scrollBottom,j=this._bufferService.rows-1+this._activeBuffer.ybase-P+1;for(;M--;)this._activeBuffer.lines.splice(j-1,1),this._activeBuffer.lines.splice(B,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(x){this._restrictCursor();let M=x.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y;let P;for(P=this._bufferService.rows-1-this._activeBuffer.scrollBottom,P=this._bufferService.rows-1+this._activeBuffer.ybase-P;M--;)this._activeBuffer.lines.splice(B,1),this._activeBuffer.lines.splice(P,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(x){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.insertCells(this._activeBuffer.x,x.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(x){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.deleteCells(this._activeBuffer.x,x.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(x){let M=x.params[0]||1;for(;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(x){let M=x.params[0]||1;for(;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(o.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=x.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);P.deleteCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=x.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);P.insertCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=x.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);P.insertCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=x.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);P.deleteCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),P.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(x){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(x.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(x){if(!this._parser.precedingCodepoint)return!0;const M=x.params[0]||1,B=new Uint32Array(M);for(let P=0;P<M;++P)B[P]=this._parser.precedingCodepoint;return this.print(B,0,B.length),!0}sendDeviceAttributesPrimary(x){return x.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(u.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(u.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(x){return x.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(u.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(u.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(x.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(u.C0.ESC+"[>83;40003;0c")),!0}_is(x){return(this._optionsService.rawOptions.termName+"").indexOf(x)===0}setMode(x){for(let M=0;M<x.length;M++)switch(x.params[M]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(x){for(let M=0;M<x.length;M++)switch(x.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),this._charsetService.setgCharset(1,v.DEFAULT_CHARSET),this._charsetService.setgCharset(2,v.DEFAULT_CHARSET),this._charsetService.setgCharset(3,v.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(x){for(let M=0;M<x.length;M++)switch(x.params[M]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(x){for(let M=0;M<x.length;M++)switch(x.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),x.params[M]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(x,M){const B=this._coreService.decPrivateModes,{activeProtocol:P,activeEncoding:j}=this._coreMouseService,$=this._coreService,{buffers:G,cols:X}=this._bufferService,{active:ne,alt:T}=G,H=this._optionsService.rawOptions,z=te=>te?1:2,K=x.params[0];return Q=K,V=M?K===2?4:K===4?z($.modes.insertMode):K===12?3:K===20?z(H.convertEol):0:K===1?z(B.applicationCursorKeys):K===3?H.windowOptions.setWinLines?X===80?2:X===132?1:0:0:K===6?z(B.origin):K===7?z(B.wraparound):K===8?3:K===9?z(P==="X10"):K===12?z(H.cursorBlink):K===25?z(!$.isCursorHidden):K===45?z(B.reverseWraparound):K===66?z(B.applicationKeypad):K===67?4:K===1e3?z(P==="VT200"):K===1002?z(P==="DRAG"):K===1003?z(P==="ANY"):K===1004?z(B.sendFocus):K===1005?4:K===1006?z(j==="SGR"):K===1015?4:K===1016?z(j==="SGR_PIXELS"):K===1048?1:K===47||K===1047||K===1049?z(ne===T):K===2004?z(B.bracketedPasteMode):0,$.triggerDataEvent(`${u.C0.ESC}[${M?"":"?"}${Q};${V}$y`),!0;var Q,V}_updateAttrColor(x,M,B,P,j){return M===2?(x|=50331648,x&=-16777216,x|=m.AttributeData.fromColorRGB([B,P,j])):M===5&&(x&=-50331904,x|=33554432|255&B),x}_extractColor(x,M,B){const P=[0,0,-1,0,0,0];let j=0,$=0;do{if(P[$+j]=x.params[M+$],x.hasSubParams(M+$)){const G=x.getSubParams(M+$);let X=0;do P[1]===5&&(j=1),P[$+X+1+j]=G[X];while(++X<G.length&&X+$+1+j<P.length);break}if(P[1]===5&&$+j>=2||P[1]===2&&$+j>=5)break;P[1]&&(j=1)}while(++$+M<x.length&&$+j<P.length);for(let G=2;G<P.length;++G)P[G]===-1&&(P[G]=0);switch(P[0]){case 38:B.fg=this._updateAttrColor(B.fg,P[1],P[3],P[4],P[5]);break;case 48:B.bg=this._updateAttrColor(B.bg,P[1],P[3],P[4],P[5]);break;case 58:B.extended=B.extended.clone(),B.extended.underlineColor=this._updateAttrColor(B.extended.underlineColor,P[1],P[3],P[4],P[5])}return $}_processUnderline(x,M){M.extended=M.extended.clone(),(!~x||x>5)&&(x=1),M.extended.underlineStyle=x,M.fg|=268435456,x===0&&(M.fg&=-268435457),M.updateExtended()}_processSGR0(x){x.fg=o.DEFAULT_ATTR_DATA.fg,x.bg=o.DEFAULT_ATTR_DATA.bg,x.extended=x.extended.clone(),x.extended.underlineStyle=0,x.extended.underlineColor&=-67108864,x.updateExtended()}charAttributes(x){if(x.length===1&&x.params[0]===0)return this._processSGR0(this._curAttrData),!0;const M=x.length;let B;const P=this._curAttrData;for(let j=0;j<M;j++)B=x.params[j],B>=30&&B<=37?(P.fg&=-50331904,P.fg|=16777216|B-30):B>=40&&B<=47?(P.bg&=-50331904,P.bg|=16777216|B-40):B>=90&&B<=97?(P.fg&=-50331904,P.fg|=16777224|B-90):B>=100&&B<=107?(P.bg&=-50331904,P.bg|=16777224|B-100):B===0?this._processSGR0(P):B===1?P.fg|=134217728:B===3?P.bg|=67108864:B===4?(P.fg|=268435456,this._processUnderline(x.hasSubParams(j)?x.getSubParams(j)[0]:1,P)):B===5?P.fg|=536870912:B===7?P.fg|=67108864:B===8?P.fg|=1073741824:B===9?P.fg|=2147483648:B===2?P.bg|=134217728:B===21?this._processUnderline(2,P):B===22?(P.fg&=-134217729,P.bg&=-134217729):B===23?P.bg&=-67108865:B===24?(P.fg&=-268435457,this._processUnderline(0,P)):B===25?P.fg&=-536870913:B===27?P.fg&=-67108865:B===28?P.fg&=-1073741825:B===29?P.fg&=2147483647:B===39?(P.fg&=-67108864,P.fg|=16777215&o.DEFAULT_ATTR_DATA.fg):B===49?(P.bg&=-67108864,P.bg|=16777215&o.DEFAULT_ATTR_DATA.bg):B===38||B===48||B===58?j+=this._extractColor(x,j,P):B===53?P.bg|=1073741824:B===55?P.bg&=-1073741825:B===59?(P.extended=P.extended.clone(),P.extended.underlineColor=-1,P.updateExtended()):B===100?(P.fg&=-67108864,P.fg|=16777215&o.DEFAULT_ATTR_DATA.fg,P.bg&=-67108864,P.bg|=16777215&o.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",B);return!0}deviceStatus(x){switch(x.params[0]){case 5:this._coreService.triggerDataEvent(`${u.C0.ESC}[0n`);break;case 6:const M=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${u.C0.ESC}[${M};${B}R`)}return!0}deviceStatusPrivate(x){if(x.params[0]===6){const M=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${u.C0.ESC}[?${M};${B}R`)}return!0}softReset(x){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(x){const M=x.params[0]||1;switch(M){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const B=M%2==1;return this._optionsService.options.cursorBlink=B,!0}setScrollRegion(x){const M=x.params[0]||1;let B;return(x.length<2||(B=x.params[1])>this._bufferService.rows||B===0)&&(B=this._bufferService.rows),B>M&&(this._activeBuffer.scrollTop=M-1,this._activeBuffer.scrollBottom=B-1,this._setCursor(0,0)),!0}windowOptions(x){if(!L(x.params[0],this._optionsService.rawOptions.windowOptions))return!0;const M=x.length>1?x.params[1]:0;switch(x.params[0]){case 14:M!==2&&this._onRequestWindowsOptionsReport.fire(R.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(R.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${u.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:M!==0&&M!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),M!==0&&M!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:M!==0&&M!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),M!==0&&M!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(x){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(x){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(x){return this._windowTitle=x,this._onTitleChange.fire(x),!0}setIconName(x){return this._iconName=x,!0}setOrReportIndexedColor(x){const M=[],B=x.split(";");for(;B.length>1;){const P=B.shift(),j=B.shift();if(/^\d+$/.exec(P)){const $=parseInt(P);if(U($))if(j==="?")M.push({type:0,index:$});else{const G=(0,C.parseColor)(j);G&&M.push({type:1,index:$,color:G})}}}return M.length&&this._onColor.fire(M),!0}setHyperlink(x){const M=x.split(";");return!(M.length<2)&&(M[1]?this._createHyperlink(M[0],M[1]):!M[0]&&this._finishHyperlink())}_createHyperlink(x,M){this._getCurrentLinkId()&&this._finishHyperlink();const B=x.split(":");let P;const j=B.findIndex($=>$.startsWith("id="));return j!==-1&&(P=B[j].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:P,uri:M}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(x,M){const B=x.split(";");for(let P=0;P<B.length&&!(M>=this._specialColors.length);++P,++M)if(B[P]==="?")this._onColor.fire([{type:0,index:this._specialColors[M]}]);else{const j=(0,C.parseColor)(B[P]);j&&this._onColor.fire([{type:1,index:this._specialColors[M],color:j}])}return!0}setOrReportFgColor(x){return this._setOrReportSpecialColor(x,0)}setOrReportBgColor(x){return this._setOrReportSpecialColor(x,1)}setOrReportCursorColor(x){return this._setOrReportSpecialColor(x,2)}restoreIndexedColor(x){if(!x)return this._onColor.fire([{type:2}]),!0;const M=[],B=x.split(";");for(let P=0;P<B.length;++P)if(/^\d+$/.exec(B[P])){const j=parseInt(B[P]);U(j)&&M.push({type:2,index:j})}return M.length&&this._onColor.fire(M),!0}restoreFgColor(x){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(x){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(x){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),!0}selectCharset(x){return x.length!==2?(this.selectDefaultCharset(),!0):(x[0]==="/"||this._charsetService.setgCharset(k[x[0]],v.CHARSETS[x[1]]||v.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const x=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,x,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=o.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(x){return this._charsetService.setgLevel(x),!0}screenAlignmentPattern(){const x=new f.CellData;x.content=4194373,x.fg=this._curAttrData.fg,x.bg=this._curAttrData.bg,this._setCursor(0,0);for(let M=0;M<this._bufferService.rows;++M){const B=this._activeBuffer.ybase+this._activeBuffer.y+M,P=this._activeBuffer.lines.get(B);P&&(P.fill(x),P.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(x,M){const B=this._bufferService.buffer,P=this._optionsService.rawOptions;return(j=>(this._coreService.triggerDataEvent(`${u.C0.ESC}${j}${u.C0.ESC}\\`),!0))(x==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:x==='"p'?'P1$r61;1"p':x==="r"?`P1$r${B.scrollTop+1};${B.scrollBottom+1}r`:x==="m"?"P1$r0m":x===" q"?`P1$r${{block:2,underline:4,bar:6}[P.cursorStyle]-(P.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(x,M){this._dirtyRowTracker.markRangeDirty(x,M)}}n.InputHandler=N;let W=class{constructor(F){this._bufferService=F,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(F){F<this.start?this.start=F:F>this.end&&(this.end=F)}markRangeDirty(F,x){F>x&&(A=F,F=x,x=A),F<this.start&&(this.start=F),x>this.end&&(this.end=x)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function U(F){return 0<=F&&F<256}W=c([p(0,y.IBufferService)],W)},844:(_,n)=>{function a(c){for(const p of c)p.dispose();c.length=0}Object.defineProperty(n,"__esModule",{value:!0}),n.getDisposeArrayDisposable=n.disposeArray=n.toDisposable=n.MutableDisposable=n.Disposable=void 0,n.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const c of this._disposables)c.dispose();this._disposables.length=0}register(c){return this._disposables.push(c),c}unregister(c){const p=this._disposables.indexOf(c);p!==-1&&this._disposables.splice(p,1)}},n.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(c){var p;this._isDisposed||c===this._value||((p=this._value)===null||p===void 0||p.dispose(),this._value=c)}clear(){this.value=void 0}dispose(){var c;this._isDisposed=!0,(c=this._value)===null||c===void 0||c.dispose(),this._value=void 0}},n.toDisposable=function(c){return{dispose:c}},n.disposeArray=a,n.getDisposeArrayDisposable=function(c){return{dispose:()=>a(c)}}},1505:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FourKeyMap=n.TwoKeyMap=void 0;class a{constructor(){this._data={}}set(p,u,v){this._data[p]||(this._data[p]={}),this._data[p][u]=v}get(p,u){return this._data[p]?this._data[p][u]:void 0}clear(){this._data={}}}n.TwoKeyMap=a,n.FourKeyMap=class{constructor(){this._data=new a}set(c,p,u,v,g){this._data.get(c,p)||this._data.set(c,p,new a),this._data.get(c,p).set(u,v,g)}get(c,p,u,v){var g;return(g=this._data.get(c,p))===null||g===void 0?void 0:g.get(u,v)}clear(){this._data.clear()}}},6114:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isChromeOS=n.isLinux=n.isWindows=n.isIphone=n.isIpad=n.isMac=n.getSafariVersion=n.isSafari=n.isLegacyEdge=n.isFirefox=n.isNode=void 0,n.isNode=typeof navigator>"u";const a=n.isNode?"node":navigator.userAgent,c=n.isNode?"node":navigator.platform;n.isFirefox=a.includes("Firefox"),n.isLegacyEdge=a.includes("Edge"),n.isSafari=/^((?!chrome|android).)*safari/i.test(a),n.getSafariVersion=function(){if(!n.isSafari)return 0;const p=a.match(/Version\/(\d+)/);return p===null||p.length<2?0:parseInt(p[1])},n.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(c),n.isIpad=c==="iPad",n.isIphone=c==="iPhone",n.isWindows=["Windows","Win16","Win32","WinCE"].includes(c),n.isLinux=c.indexOf("Linux")>=0,n.isChromeOS=/\bCrOS\b/.test(a)},6106:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SortedList=void 0;let a=0;n.SortedList=class{constructor(c){this._getKey=c,this._array=[]}clear(){this._array.length=0}insert(c){this._array.length!==0?(a=this._search(this._getKey(c)),this._array.splice(a,0,c)):this._array.push(c)}delete(c){if(this._array.length===0)return!1;const p=this._getKey(c);if(p===void 0||(a=this._search(p),a===-1)||this._getKey(this._array[a])!==p)return!1;do if(this._array[a]===c)return this._array.splice(a,1),!0;while(++a<this._array.length&&this._getKey(this._array[a])===p);return!1}*getKeyIterator(c){if(this._array.length!==0&&(a=this._search(c),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===c))do yield this._array[a];while(++a<this._array.length&&this._getKey(this._array[a])===c)}forEachByKey(c,p){if(this._array.length!==0&&(a=this._search(c),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===c))do p(this._array[a]);while(++a<this._array.length&&this._getKey(this._array[a])===c)}values(){return[...this._array].values()}_search(c){let p=0,u=this._array.length-1;for(;u>=p;){let v=p+u>>1;const g=this._getKey(this._array[v]);if(g>c)u=v-1;else{if(!(g<c)){for(;v>0&&this._getKey(this._array[v-1])===c;)v--;return v}p=v+1}}return p}}},7226:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DebouncedIdleTask=n.IdleTaskQueue=n.PriorityTaskQueue=void 0;const c=a(6114);class p{constructor(){this._tasks=[],this._i=0}enqueue(g){this._tasks.push(g),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(g){this._idleCallback=void 0;let S=0,b=0,o=g.timeRemaining(),h=0;for(;this._i<this._tasks.length;){if(S=Date.now(),this._tasks[this._i]()||this._i++,S=Math.max(1,Date.now()-S),b=Math.max(S,b),h=g.timeRemaining(),1.5*b>h)return o-S<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(o-S))}ms`),void this._start();o=h}this.clear()}}class u extends p{_requestCallback(g){return setTimeout(()=>g(this._createDeadline(16)))}_cancelCallback(g){clearTimeout(g)}_createDeadline(g){const S=Date.now()+g;return{timeRemaining:()=>Math.max(0,S-Date.now())}}}n.PriorityTaskQueue=u,n.IdleTaskQueue=!c.isNode&&"requestIdleCallback"in window?class extends p{_requestCallback(v){return requestIdleCallback(v)}_cancelCallback(v){cancelIdleCallback(v)}}:u,n.DebouncedIdleTask=class{constructor(){this._queue=new n.IdleTaskQueue}set(v){this._queue.clear(),this._queue.enqueue(v)}flush(){this._queue.flush()}}},9282:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.updateWindowsModeWrappedState=void 0;const c=a(643);n.updateWindowsModeWrappedState=function(p){const u=p.buffer.lines.get(p.buffer.ybase+p.buffer.y-1),v=u==null?void 0:u.get(p.cols-1),g=p.buffer.lines.get(p.buffer.ybase+p.buffer.y);g&&v&&(g.isWrapped=v[c.CHAR_DATA_CODE_INDEX]!==c.NULL_CELL_CODE&&v[c.CHAR_DATA_CODE_INDEX]!==c.WHITESPACE_CELL_CODE)}},3734:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ExtendedAttrs=n.AttributeData=void 0;class a{constructor(){this.fg=0,this.bg=0,this.extended=new c}static toColorRGB(u){return[u>>>16&255,u>>>8&255,255&u]}static fromColorRGB(u){return(255&u[0])<<16|(255&u[1])<<8|255&u[2]}clone(){const u=new a;return u.fg=this.fg,u.bg=this.bg,u.extended=this.extended.clone(),u}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}n.AttributeData=a;class c{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(u){this._ext=u}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(u){this._ext&=-469762049,this._ext|=u<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(u){this._ext&=-67108864,this._ext|=67108863&u}get urlId(){return this._urlId}set urlId(u){this._urlId=u}constructor(u=0,v=0){this._ext=0,this._urlId=0,this._ext=u,this._urlId=v}clone(){return new c(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}n.ExtendedAttrs=c},9092:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Buffer=n.MAX_BUFFER_SIZE=void 0;const c=a(6349),p=a(7226),u=a(3734),v=a(8437),g=a(4634),S=a(511),b=a(643),o=a(4863),h=a(7116);n.MAX_BUFFER_SIZE=4294967295,n.Buffer=class{constructor(d,f,m){this._hasScrollback=d,this._optionsService=f,this._bufferService=m,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=v.DEFAULT_ATTR_DATA.clone(),this.savedCharset=h.DEFAULT_CHARSET,this.markers=[],this._nullCell=S.CellData.fromCharData([0,b.NULL_CELL_CHAR,b.NULL_CELL_WIDTH,b.NULL_CELL_CODE]),this._whitespaceCell=S.CellData.fromCharData([0,b.WHITESPACE_CELL_CHAR,b.WHITESPACE_CELL_WIDTH,b.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new p.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(d){return d?(this._nullCell.fg=d.fg,this._nullCell.bg=d.bg,this._nullCell.extended=d.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new u.ExtendedAttrs),this._nullCell}getWhitespaceCell(d){return d?(this._whitespaceCell.fg=d.fg,this._whitespaceCell.bg=d.bg,this._whitespaceCell.extended=d.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new u.ExtendedAttrs),this._whitespaceCell}getBlankLine(d,f){return new v.BufferLine(this._bufferService.cols,this.getNullCell(d),f)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const d=this.ybase+this.y-this.ydisp;return d>=0&&d<this._rows}_getCorrectBufferLength(d){if(!this._hasScrollback)return d;const f=d+this._optionsService.rawOptions.scrollback;return f>n.MAX_BUFFER_SIZE?n.MAX_BUFFER_SIZE:f}fillViewportRows(d){if(this.lines.length===0){d===void 0&&(d=v.DEFAULT_ATTR_DATA);let f=this._rows;for(;f--;)this.lines.push(this.getBlankLine(d))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(d,f){const m=this.getNullCell(v.DEFAULT_ATTR_DATA);let y=0;const w=this._getCorrectBufferLength(f);if(w>this.lines.maxLength&&(this.lines.maxLength=w),this.lines.length>0){if(this._cols<d)for(let C=0;C<this.lines.length;C++)y+=+this.lines.get(C).resize(d,m);let E=0;if(this._rows<f)for(let C=this._rows;C<f;C++)this.lines.length<f+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new v.BufferLine(d,m)):this.ybase>0&&this.lines.length<=this.ybase+this.y+E+1?(this.ybase--,E++,this.ydisp>0&&this.ydisp--):this.lines.push(new v.BufferLine(d,m)));else for(let C=this._rows;C>f;C--)this.lines.length>f+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(w<this.lines.maxLength){const C=this.lines.length-w;C>0&&(this.lines.trimStart(C),this.ybase=Math.max(this.ybase-C,0),this.ydisp=Math.max(this.ydisp-C,0),this.savedY=Math.max(this.savedY-C,0)),this.lines.maxLength=w}this.x=Math.min(this.x,d-1),this.y=Math.min(this.y,f-1),E&&(this.y+=E),this.savedX=Math.min(this.savedX,d-1),this.scrollTop=0}if(this.scrollBottom=f-1,this._isReflowEnabled&&(this._reflow(d,f),this._cols>d))for(let E=0;E<this.lines.length;E++)y+=+this.lines.get(E).resize(d,m);this._cols=d,this._rows=f,this._memoryCleanupQueue.clear(),y>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let d=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,d=!1);let f=0;for(;this._memoryCleanupPosition<this.lines.length;)if(f+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),f>100)return!0;return d}get _isReflowEnabled(){const d=this._optionsService.rawOptions.windowsPty;return d&&d.buildNumber?this._hasScrollback&&d.backend==="conpty"&&d.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(d,f){this._cols!==d&&(d>this._cols?this._reflowLarger(d,f):this._reflowSmaller(d,f))}_reflowLarger(d,f){const m=(0,g.reflowLargerGetLinesToRemove)(this.lines,this._cols,d,this.ybase+this.y,this.getNullCell(v.DEFAULT_ATTR_DATA));if(m.length>0){const y=(0,g.reflowLargerCreateNewLayout)(this.lines,m);(0,g.reflowLargerApplyNewLayout)(this.lines,y.layout),this._reflowLargerAdjustViewport(d,f,y.countRemoved)}}_reflowLargerAdjustViewport(d,f,m){const y=this.getNullCell(v.DEFAULT_ATTR_DATA);let w=m;for(;w-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<f&&this.lines.push(new v.BufferLine(d,y))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-m,0)}_reflowSmaller(d,f){const m=this.getNullCell(v.DEFAULT_ATTR_DATA),y=[];let w=0;for(let E=this.lines.length-1;E>=0;E--){let C=this.lines.get(E);if(!C||!C.isWrapped&&C.getTrimmedLength()<=d)continue;const k=[C];for(;C.isWrapped&&E>0;)C=this.lines.get(--E),k.unshift(C);const D=this.ybase+this.y;if(D>=E&&D<E+k.length)continue;const L=k[k.length-1].getTrimmedLength(),R=(0,g.reflowSmallerGetNewLineLengths)(k,this._cols,d),A=R.length-k.length;let N;N=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+A):Math.max(0,this.lines.length-this.lines.maxLength+A);const W=[];for(let P=0;P<A;P++){const j=this.getBlankLine(v.DEFAULT_ATTR_DATA,!0);W.push(j)}W.length>0&&(y.push({start:E+k.length+w,newLines:W}),w+=W.length),k.push(...W);let U=R.length-1,F=R[U];F===0&&(U--,F=R[U]);let x=k.length-A-1,M=L;for(;x>=0;){const P=Math.min(M,F);if(k[U]===void 0)break;if(k[U].copyCellsFrom(k[x],M-P,F-P,P,!0),F-=P,F===0&&(U--,F=R[U]),M-=P,M===0){x--;const j=Math.max(x,0);M=(0,g.getWrappedLineTrimmedLength)(k,j,this._cols)}}for(let P=0;P<k.length;P++)R[P]<d&&k[P].setCell(R[P],m);let B=A-N;for(;B-- >0;)this.ybase===0?this.y<f-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+w)-f&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+A,this.ybase+f-1)}if(y.length>0){const E=[],C=[];for(let U=0;U<this.lines.length;U++)C.push(this.lines.get(U));const k=this.lines.length;let D=k-1,L=0,R=y[L];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+w);let A=0;for(let U=Math.min(this.lines.maxLength-1,k+w-1);U>=0;U--)if(R&&R.start>D+A){for(let F=R.newLines.length-1;F>=0;F--)this.lines.set(U--,R.newLines[F]);U++,E.push({index:D+1,amount:R.newLines.length}),A+=R.newLines.length,R=y[++L]}else this.lines.set(U,C[D--]);let N=0;for(let U=E.length-1;U>=0;U--)E[U].index+=N,this.lines.onInsertEmitter.fire(E[U]),N+=E[U].amount;const W=Math.max(0,k+w-this.lines.maxLength);W>0&&this.lines.onTrimEmitter.fire(W)}}translateBufferLineToString(d,f,m=0,y){const w=this.lines.get(d);return w?w.translateToString(f,m,y):""}getWrappedRangeForLine(d){let f=d,m=d;for(;f>0&&this.lines.get(f).isWrapped;)f--;for(;m+1<this.lines.length&&this.lines.get(m+1).isWrapped;)m++;return{first:f,last:m}}setupTabStops(d){for(d!=null?this.tabs[d]||(d=this.prevStop(d)):(this.tabs={},d=0);d<this._cols;d+=this._optionsService.rawOptions.tabStopWidth)this.tabs[d]=!0}prevStop(d){for(d==null&&(d=this.x);!this.tabs[--d]&&d>0;);return d>=this._cols?this._cols-1:d<0?0:d}nextStop(d){for(d==null&&(d=this.x);!this.tabs[++d]&&d<this._cols;);return d>=this._cols?this._cols-1:d<0?0:d}clearMarkers(d){this._isClearing=!0;for(let f=0;f<this.markers.length;f++)this.markers[f].line===d&&(this.markers[f].dispose(),this.markers.splice(f--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].dispose(),this.markers.splice(d--,1);this._isClearing=!1}addMarker(d){const f=new o.Marker(d);return this.markers.push(f),f.register(this.lines.onTrim(m=>{f.line-=m,f.line<0&&f.dispose()})),f.register(this.lines.onInsert(m=>{f.line>=m.index&&(f.line+=m.amount)})),f.register(this.lines.onDelete(m=>{f.line>=m.index&&f.line<m.index+m.amount&&f.dispose(),f.line>m.index&&(f.line-=m.amount)})),f.register(f.onDispose(()=>this._removeMarker(f))),f}_removeMarker(d){this._isClearing||this.markers.splice(this.markers.indexOf(d),1)}}},8437:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLine=n.DEFAULT_ATTR_DATA=void 0;const c=a(3734),p=a(511),u=a(643),v=a(482);n.DEFAULT_ATTR_DATA=Object.freeze(new c.AttributeData);let g=0;class S{constructor(o,h,d=!1){this.isWrapped=d,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*o);const f=h||p.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]);for(let m=0;m<o;++m)this.setCell(m,f);this.length=o}get(o){const h=this._data[3*o+0],d=2097151&h;return[this._data[3*o+1],2097152&h?this._combined[o]:d?(0,v.stringFromCodePoint)(d):"",h>>22,2097152&h?this._combined[o].charCodeAt(this._combined[o].length-1):d]}set(o,h){this._data[3*o+1]=h[u.CHAR_DATA_ATTR_INDEX],h[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[o]=h[1],this._data[3*o+0]=2097152|o|h[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*o+0]=h[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|h[u.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(o){return this._data[3*o+0]>>22}hasWidth(o){return 12582912&this._data[3*o+0]}getFg(o){return this._data[3*o+1]}getBg(o){return this._data[3*o+2]}hasContent(o){return 4194303&this._data[3*o+0]}getCodePoint(o){const h=this._data[3*o+0];return 2097152&h?this._combined[o].charCodeAt(this._combined[o].length-1):2097151&h}isCombined(o){return 2097152&this._data[3*o+0]}getString(o){const h=this._data[3*o+0];return 2097152&h?this._combined[o]:2097151&h?(0,v.stringFromCodePoint)(2097151&h):""}isProtected(o){return 536870912&this._data[3*o+2]}loadCell(o,h){return g=3*o,h.content=this._data[g+0],h.fg=this._data[g+1],h.bg=this._data[g+2],2097152&h.content&&(h.combinedData=this._combined[o]),268435456&h.bg&&(h.extended=this._extendedAttrs[o]),h}setCell(o,h){2097152&h.content&&(this._combined[o]=h.combinedData),268435456&h.bg&&(this._extendedAttrs[o]=h.extended),this._data[3*o+0]=h.content,this._data[3*o+1]=h.fg,this._data[3*o+2]=h.bg}setCellFromCodePoint(o,h,d,f,m,y){268435456&m&&(this._extendedAttrs[o]=y),this._data[3*o+0]=h|d<<22,this._data[3*o+1]=f,this._data[3*o+2]=m}addCodepointToCell(o,h){let d=this._data[3*o+0];2097152&d?this._combined[o]+=(0,v.stringFromCodePoint)(h):(2097151&d?(this._combined[o]=(0,v.stringFromCodePoint)(2097151&d)+(0,v.stringFromCodePoint)(h),d&=-2097152,d|=2097152):d=h|4194304,this._data[3*o+0]=d)}insertCells(o,h,d,f){if((o%=this.length)&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new c.ExtendedAttrs),h<this.length-o){const m=new p.CellData;for(let y=this.length-o-h-1;y>=0;--y)this.setCell(o+h+y,this.loadCell(o+y,m));for(let y=0;y<h;++y)this.setCell(o+y,d)}else for(let m=o;m<this.length;++m)this.setCell(m,d);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new c.ExtendedAttrs)}deleteCells(o,h,d,f){if(o%=this.length,h<this.length-o){const m=new p.CellData;for(let y=0;y<this.length-o-h;++y)this.setCell(o+y,this.loadCell(o+h+y,m));for(let y=this.length-h;y<this.length;++y)this.setCell(y,d)}else for(let m=o;m<this.length;++m)this.setCell(m,d);o&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new c.ExtendedAttrs),this.getWidth(o)!==0||this.hasContent(o)||this.setCellFromCodePoint(o,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new c.ExtendedAttrs)}replaceCells(o,h,d,f,m=!1){if(m)for(o&&this.getWidth(o-1)===2&&!this.isProtected(o-1)&&this.setCellFromCodePoint(o-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new c.ExtendedAttrs),h<this.length&&this.getWidth(h-1)===2&&!this.isProtected(h)&&this.setCellFromCodePoint(h,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new c.ExtendedAttrs);o<h&&o<this.length;)this.isProtected(o)||this.setCell(o,d),o++;else for(o&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new c.ExtendedAttrs),h<this.length&&this.getWidth(h-1)===2&&this.setCellFromCodePoint(h,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new c.ExtendedAttrs);o<h&&o<this.length;)this.setCell(o++,d)}resize(o,h){if(o===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const d=3*o;if(o>this.length){if(this._data.buffer.byteLength>=4*d)this._data=new Uint32Array(this._data.buffer,0,d);else{const f=new Uint32Array(d);f.set(this._data),this._data=f}for(let f=this.length;f<o;++f)this.setCell(f,h)}else{this._data=this._data.subarray(0,d);const f=Object.keys(this._combined);for(let y=0;y<f.length;y++){const w=parseInt(f[y],10);w>=o&&delete this._combined[w]}const m=Object.keys(this._extendedAttrs);for(let y=0;y<m.length;y++){const w=parseInt(m[y],10);w>=o&&delete this._extendedAttrs[w]}}return this.length=o,4*d*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const o=new Uint32Array(this._data.length);return o.set(this._data),this._data=o,1}return 0}fill(o,h=!1){if(h)for(let d=0;d<this.length;++d)this.isProtected(d)||this.setCell(d,o);else{this._combined={},this._extendedAttrs={};for(let d=0;d<this.length;++d)this.setCell(d,o)}}copyFrom(o){this.length!==o.length?this._data=new Uint32Array(o._data):this._data.set(o._data),this.length=o.length,this._combined={};for(const h in o._combined)this._combined[h]=o._combined[h];this._extendedAttrs={};for(const h in o._extendedAttrs)this._extendedAttrs[h]=o._extendedAttrs[h];this.isWrapped=o.isWrapped}clone(){const o=new S(0);o._data=new Uint32Array(this._data),o.length=this.length;for(const h in this._combined)o._combined[h]=this._combined[h];for(const h in this._extendedAttrs)o._extendedAttrs[h]=this._extendedAttrs[h];return o.isWrapped=this.isWrapped,o}getTrimmedLength(){for(let o=this.length-1;o>=0;--o)if(4194303&this._data[3*o+0])return o+(this._data[3*o+0]>>22);return 0}getNoBgTrimmedLength(){for(let o=this.length-1;o>=0;--o)if(4194303&this._data[3*o+0]||50331648&this._data[3*o+2])return o+(this._data[3*o+0]>>22);return 0}copyCellsFrom(o,h,d,f,m){const y=o._data;if(m)for(let E=f-1;E>=0;E--){for(let C=0;C<3;C++)this._data[3*(d+E)+C]=y[3*(h+E)+C];268435456&y[3*(h+E)+2]&&(this._extendedAttrs[d+E]=o._extendedAttrs[h+E])}else for(let E=0;E<f;E++){for(let C=0;C<3;C++)this._data[3*(d+E)+C]=y[3*(h+E)+C];268435456&y[3*(h+E)+2]&&(this._extendedAttrs[d+E]=o._extendedAttrs[h+E])}const w=Object.keys(o._combined);for(let E=0;E<w.length;E++){const C=parseInt(w[E],10);C>=h&&(this._combined[C-h+d]=o._combined[C])}}translateToString(o=!1,h=0,d=this.length){o&&(d=Math.min(d,this.getTrimmedLength()));let f="";for(;h<d;){const m=this._data[3*h+0],y=2097151&m;f+=2097152&m?this._combined[h]:y?(0,v.stringFromCodePoint)(y):u.WHITESPACE_CELL_CHAR,h+=m>>22||1}return f}}n.BufferLine=S},4841:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getRangeLength=void 0,n.getRangeLength=function(a,c){if(a.start.y>a.end.y)throw new Error(`Buffer range end (${a.end.x}, ${a.end.y}) cannot be before start (${a.start.x}, ${a.start.y})`);return c*(a.end.y-a.start.y)+(a.end.x-a.start.x+1)}},4634:(_,n)=>{function a(c,p,u){if(p===c.length-1)return c[p].getTrimmedLength();const v=!c[p].hasContent(u-1)&&c[p].getWidth(u-1)===1,g=c[p+1].getWidth(0)===2;return v&&g?u-1:u}Object.defineProperty(n,"__esModule",{value:!0}),n.getWrappedLineTrimmedLength=n.reflowSmallerGetNewLineLengths=n.reflowLargerApplyNewLayout=n.reflowLargerCreateNewLayout=n.reflowLargerGetLinesToRemove=void 0,n.reflowLargerGetLinesToRemove=function(c,p,u,v,g){const S=[];for(let b=0;b<c.length-1;b++){let o=b,h=c.get(++o);if(!h.isWrapped)continue;const d=[c.get(b)];for(;o<c.length&&h.isWrapped;)d.push(h),h=c.get(++o);if(v>=b&&v<o){b+=d.length-1;continue}let f=0,m=a(d,f,p),y=1,w=0;for(;y<d.length;){const C=a(d,y,p),k=C-w,D=u-m,L=Math.min(k,D);d[f].copyCellsFrom(d[y],w,m,L,!1),m+=L,m===u&&(f++,m=0),w+=L,w===C&&(y++,w=0),m===0&&f!==0&&d[f-1].getWidth(u-1)===2&&(d[f].copyCellsFrom(d[f-1],u-1,m++,1,!1),d[f-1].setCell(u-1,g))}d[f].replaceCells(m,u,g);let E=0;for(let C=d.length-1;C>0&&(C>f||d[C].getTrimmedLength()===0);C--)E++;E>0&&(S.push(b+d.length-E),S.push(E)),b+=d.length-1}return S},n.reflowLargerCreateNewLayout=function(c,p){const u=[];let v=0,g=p[v],S=0;for(let b=0;b<c.length;b++)if(g===b){const o=p[++v];c.onDeleteEmitter.fire({index:b-S,amount:o}),b+=o-1,S+=o,g=p[++v]}else u.push(b);return{layout:u,countRemoved:S}},n.reflowLargerApplyNewLayout=function(c,p){const u=[];for(let v=0;v<p.length;v++)u.push(c.get(p[v]));for(let v=0;v<u.length;v++)c.set(v,u[v]);c.length=p.length},n.reflowSmallerGetNewLineLengths=function(c,p,u){const v=[],g=c.map((h,d)=>a(c,d,p)).reduce((h,d)=>h+d);let S=0,b=0,o=0;for(;o<g;){if(g-o<u){v.push(g-o);break}S+=u;const h=a(c,b,p);S>h&&(S-=h,b++);const d=c[b].getWidth(S-1)===2;d&&S--;const f=d?u-1:u;v.push(f),o+=f}return v},n.getWrappedLineTrimmedLength=a},5295:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferSet=void 0;const c=a(8460),p=a(844),u=a(9092);class v extends p.Disposable{constructor(S,b){super(),this._optionsService=S,this._bufferService=b,this._onBufferActivate=this.register(new c.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new u.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new u.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(S){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(S),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(S,b){this._normal.resize(S,b),this._alt.resize(S,b),this.setupTabStops(S)}setupTabStops(S){this._normal.setupTabStops(S),this._alt.setupTabStops(S)}}n.BufferSet=v},511:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CellData=void 0;const c=a(482),p=a(643),u=a(3734);class v extends u.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new u.ExtendedAttrs,this.combinedData=""}static fromCharData(S){const b=new v;return b.setFromCharData(S),b}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,c.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(S){this.fg=S[p.CHAR_DATA_ATTR_INDEX],this.bg=0;let b=!1;if(S[p.CHAR_DATA_CHAR_INDEX].length>2)b=!0;else if(S[p.CHAR_DATA_CHAR_INDEX].length===2){const o=S[p.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=o&&o<=56319){const h=S[p.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=h&&h<=57343?this.content=1024*(o-55296)+h-56320+65536|S[p.CHAR_DATA_WIDTH_INDEX]<<22:b=!0}else b=!0}else this.content=S[p.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|S[p.CHAR_DATA_WIDTH_INDEX]<<22;b&&(this.combinedData=S[p.CHAR_DATA_CHAR_INDEX],this.content=2097152|S[p.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}n.CellData=v},643:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WHITESPACE_CELL_CODE=n.WHITESPACE_CELL_WIDTH=n.WHITESPACE_CELL_CHAR=n.NULL_CELL_CODE=n.NULL_CELL_WIDTH=n.NULL_CELL_CHAR=n.CHAR_DATA_CODE_INDEX=n.CHAR_DATA_WIDTH_INDEX=n.CHAR_DATA_CHAR_INDEX=n.CHAR_DATA_ATTR_INDEX=n.DEFAULT_EXT=n.DEFAULT_ATTR=n.DEFAULT_COLOR=void 0,n.DEFAULT_COLOR=0,n.DEFAULT_ATTR=256|n.DEFAULT_COLOR<<9,n.DEFAULT_EXT=0,n.CHAR_DATA_ATTR_INDEX=0,n.CHAR_DATA_CHAR_INDEX=1,n.CHAR_DATA_WIDTH_INDEX=2,n.CHAR_DATA_CODE_INDEX=3,n.NULL_CELL_CHAR="",n.NULL_CELL_WIDTH=1,n.NULL_CELL_CODE=0,n.WHITESPACE_CELL_CHAR=" ",n.WHITESPACE_CELL_WIDTH=1,n.WHITESPACE_CELL_CODE=32},4863:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Marker=void 0;const c=a(8460),p=a(844);class u{get id(){return this._id}constructor(g){this.line=g,this.isDisposed=!1,this._disposables=[],this._id=u._nextId++,this._onDispose=this.register(new c.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,p.disposeArray)(this._disposables),this._disposables.length=0)}register(g){return this._disposables.push(g),g}}n.Marker=u,u._nextId=1},7116:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_CHARSET=n.CHARSETS=void 0,n.CHARSETS={},n.DEFAULT_CHARSET=n.CHARSETS.B,n.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},n.CHARSETS.A={"#":""},n.CHARSETS.B=void 0,n.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},n.CHARSETS.C=n.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},n.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},n.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.E=n.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},n.CHARSETS.H=n.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(_,n)=>{var a,c,p;Object.defineProperty(n,"__esModule",{value:!0}),n.C1_ESCAPED=n.C1=n.C0=void 0,function(u){u.NUL="\0",u.SOH="",u.STX="",u.ETX="",u.EOT="",u.ENQ="",u.ACK="",u.BEL="\x07",u.BS="\b",u.HT="	",u.LF=`
`,u.VT="\v",u.FF="\f",u.CR="\r",u.SO="",u.SI="",u.DLE="",u.DC1="",u.DC2="",u.DC3="",u.DC4="",u.NAK="",u.SYN="",u.ETB="",u.CAN="",u.EM="",u.SUB="",u.ESC="\x1B",u.FS="",u.GS="",u.RS="",u.US="",u.SP=" ",u.DEL=""}(a||(n.C0=a={})),function(u){u.PAD="",u.HOP="",u.BPH="",u.NBH="",u.IND="",u.NEL="",u.SSA="",u.ESA="",u.HTS="",u.HTJ="",u.VTS="",u.PLD="",u.PLU="",u.RI="",u.SS2="",u.SS3="",u.DCS="",u.PU1="",u.PU2="",u.STS="",u.CCH="",u.MW="",u.SPA="",u.EPA="",u.SOS="",u.SGCI="",u.SCI="",u.CSI="",u.ST="",u.OSC="",u.PM="",u.APC=""}(c||(n.C1=c={})),function(u){u.ST=`${a.ESC}\\`}(p||(n.C1_ESCAPED=p={}))},7399:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.evaluateKeyboardEvent=void 0;const c=a(2584),p={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};n.evaluateKeyboardEvent=function(u,v,g,S){const b={type:0,cancel:!1,key:void 0},o=(u.shiftKey?1:0)|(u.altKey?2:0)|(u.ctrlKey?4:0)|(u.metaKey?8:0);switch(u.keyCode){case 0:u.key==="UIKeyInputUpArrow"?b.key=v?c.C0.ESC+"OA":c.C0.ESC+"[A":u.key==="UIKeyInputLeftArrow"?b.key=v?c.C0.ESC+"OD":c.C0.ESC+"[D":u.key==="UIKeyInputRightArrow"?b.key=v?c.C0.ESC+"OC":c.C0.ESC+"[C":u.key==="UIKeyInputDownArrow"&&(b.key=v?c.C0.ESC+"OB":c.C0.ESC+"[B");break;case 8:if(u.altKey){b.key=c.C0.ESC+c.C0.DEL;break}b.key=c.C0.DEL;break;case 9:if(u.shiftKey){b.key=c.C0.ESC+"[Z";break}b.key=c.C0.HT,b.cancel=!0;break;case 13:b.key=u.altKey?c.C0.ESC+c.C0.CR:c.C0.CR,b.cancel=!0;break;case 27:b.key=c.C0.ESC,u.altKey&&(b.key=c.C0.ESC+c.C0.ESC),b.cancel=!0;break;case 37:if(u.metaKey)break;o?(b.key=c.C0.ESC+"[1;"+(o+1)+"D",b.key===c.C0.ESC+"[1;3D"&&(b.key=c.C0.ESC+(g?"b":"[1;5D"))):b.key=v?c.C0.ESC+"OD":c.C0.ESC+"[D";break;case 39:if(u.metaKey)break;o?(b.key=c.C0.ESC+"[1;"+(o+1)+"C",b.key===c.C0.ESC+"[1;3C"&&(b.key=c.C0.ESC+(g?"f":"[1;5C"))):b.key=v?c.C0.ESC+"OC":c.C0.ESC+"[C";break;case 38:if(u.metaKey)break;o?(b.key=c.C0.ESC+"[1;"+(o+1)+"A",g||b.key!==c.C0.ESC+"[1;3A"||(b.key=c.C0.ESC+"[1;5A")):b.key=v?c.C0.ESC+"OA":c.C0.ESC+"[A";break;case 40:if(u.metaKey)break;o?(b.key=c.C0.ESC+"[1;"+(o+1)+"B",g||b.key!==c.C0.ESC+"[1;3B"||(b.key=c.C0.ESC+"[1;5B")):b.key=v?c.C0.ESC+"OB":c.C0.ESC+"[B";break;case 45:u.shiftKey||u.ctrlKey||(b.key=c.C0.ESC+"[2~");break;case 46:b.key=o?c.C0.ESC+"[3;"+(o+1)+"~":c.C0.ESC+"[3~";break;case 36:b.key=o?c.C0.ESC+"[1;"+(o+1)+"H":v?c.C0.ESC+"OH":c.C0.ESC+"[H";break;case 35:b.key=o?c.C0.ESC+"[1;"+(o+1)+"F":v?c.C0.ESC+"OF":c.C0.ESC+"[F";break;case 33:u.shiftKey?b.type=2:u.ctrlKey?b.key=c.C0.ESC+"[5;"+(o+1)+"~":b.key=c.C0.ESC+"[5~";break;case 34:u.shiftKey?b.type=3:u.ctrlKey?b.key=c.C0.ESC+"[6;"+(o+1)+"~":b.key=c.C0.ESC+"[6~";break;case 112:b.key=o?c.C0.ESC+"[1;"+(o+1)+"P":c.C0.ESC+"OP";break;case 113:b.key=o?c.C0.ESC+"[1;"+(o+1)+"Q":c.C0.ESC+"OQ";break;case 114:b.key=o?c.C0.ESC+"[1;"+(o+1)+"R":c.C0.ESC+"OR";break;case 115:b.key=o?c.C0.ESC+"[1;"+(o+1)+"S":c.C0.ESC+"OS";break;case 116:b.key=o?c.C0.ESC+"[15;"+(o+1)+"~":c.C0.ESC+"[15~";break;case 117:b.key=o?c.C0.ESC+"[17;"+(o+1)+"~":c.C0.ESC+"[17~";break;case 118:b.key=o?c.C0.ESC+"[18;"+(o+1)+"~":c.C0.ESC+"[18~";break;case 119:b.key=o?c.C0.ESC+"[19;"+(o+1)+"~":c.C0.ESC+"[19~";break;case 120:b.key=o?c.C0.ESC+"[20;"+(o+1)+"~":c.C0.ESC+"[20~";break;case 121:b.key=o?c.C0.ESC+"[21;"+(o+1)+"~":c.C0.ESC+"[21~";break;case 122:b.key=o?c.C0.ESC+"[23;"+(o+1)+"~":c.C0.ESC+"[23~";break;case 123:b.key=o?c.C0.ESC+"[24;"+(o+1)+"~":c.C0.ESC+"[24~";break;default:if(!u.ctrlKey||u.shiftKey||u.altKey||u.metaKey)if(g&&!S||!u.altKey||u.metaKey)!g||u.altKey||u.ctrlKey||u.shiftKey||!u.metaKey?u.key&&!u.ctrlKey&&!u.altKey&&!u.metaKey&&u.keyCode>=48&&u.key.length===1?b.key=u.key:u.key&&u.ctrlKey&&(u.key==="_"&&(b.key=c.C0.US),u.key==="@"&&(b.key=c.C0.NUL)):u.keyCode===65&&(b.type=1);else{const h=p[u.keyCode],d=h==null?void 0:h[u.shiftKey?1:0];if(d)b.key=c.C0.ESC+d;else if(u.keyCode>=65&&u.keyCode<=90){const f=u.ctrlKey?u.keyCode-64:u.keyCode+32;let m=String.fromCharCode(f);u.shiftKey&&(m=m.toUpperCase()),b.key=c.C0.ESC+m}else if(u.keyCode===32)b.key=c.C0.ESC+(u.ctrlKey?c.C0.NUL:" ");else if(u.key==="Dead"&&u.code.startsWith("Key")){let f=u.code.slice(3,4);u.shiftKey||(f=f.toLowerCase()),b.key=c.C0.ESC+f,b.cancel=!0}}else u.keyCode>=65&&u.keyCode<=90?b.key=String.fromCharCode(u.keyCode-64):u.keyCode===32?b.key=c.C0.NUL:u.keyCode>=51&&u.keyCode<=55?b.key=String.fromCharCode(u.keyCode-51+27):u.keyCode===56?b.key=c.C0.DEL:u.keyCode===219?b.key=c.C0.ESC:u.keyCode===220?b.key=c.C0.FS:u.keyCode===221&&(b.key=c.C0.GS)}return b}},482:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Utf8ToUtf32=n.StringToUtf32=n.utf32ToString=n.stringFromCodePoint=void 0,n.stringFromCodePoint=function(a){return a>65535?(a-=65536,String.fromCharCode(55296+(a>>10))+String.fromCharCode(a%1024+56320)):String.fromCharCode(a)},n.utf32ToString=function(a,c=0,p=a.length){let u="";for(let v=c;v<p;++v){let g=a[v];g>65535?(g-=65536,u+=String.fromCharCode(55296+(g>>10))+String.fromCharCode(g%1024+56320)):u+=String.fromCharCode(g)}return u},n.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(a,c){const p=a.length;if(!p)return 0;let u=0,v=0;if(this._interim){const g=a.charCodeAt(v++);56320<=g&&g<=57343?c[u++]=1024*(this._interim-55296)+g-56320+65536:(c[u++]=this._interim,c[u++]=g),this._interim=0}for(let g=v;g<p;++g){const S=a.charCodeAt(g);if(55296<=S&&S<=56319){if(++g>=p)return this._interim=S,u;const b=a.charCodeAt(g);56320<=b&&b<=57343?c[u++]=1024*(S-55296)+b-56320+65536:(c[u++]=S,c[u++]=b)}else S!==65279&&(c[u++]=S)}return u}},n.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(a,c){const p=a.length;if(!p)return 0;let u,v,g,S,b=0,o=0,h=0;if(this.interim[0]){let m=!1,y=this.interim[0];y&=(224&y)==192?31:(240&y)==224?15:7;let w,E=0;for(;(w=63&this.interim[++E])&&E<4;)y<<=6,y|=w;const C=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,k=C-E;for(;h<k;){if(h>=p)return 0;if(w=a[h++],(192&w)!=128){h--,m=!0;break}this.interim[E++]=w,y<<=6,y|=63&w}m||(C===2?y<128?h--:c[b++]=y:C===3?y<2048||y>=55296&&y<=57343||y===65279||(c[b++]=y):y<65536||y>1114111||(c[b++]=y)),this.interim.fill(0)}const d=p-4;let f=h;for(;f<p;){for(;!(!(f<d)||128&(u=a[f])||128&(v=a[f+1])||128&(g=a[f+2])||128&(S=a[f+3]));)c[b++]=u,c[b++]=v,c[b++]=g,c[b++]=S,f+=4;if(u=a[f++],u<128)c[b++]=u;else if((224&u)==192){if(f>=p)return this.interim[0]=u,b;if(v=a[f++],(192&v)!=128){f--;continue}if(o=(31&u)<<6|63&v,o<128){f--;continue}c[b++]=o}else if((240&u)==224){if(f>=p)return this.interim[0]=u,b;if(v=a[f++],(192&v)!=128){f--;continue}if(f>=p)return this.interim[0]=u,this.interim[1]=v,b;if(g=a[f++],(192&g)!=128){f--;continue}if(o=(15&u)<<12|(63&v)<<6|63&g,o<2048||o>=55296&&o<=57343||o===65279)continue;c[b++]=o}else if((248&u)==240){if(f>=p)return this.interim[0]=u,b;if(v=a[f++],(192&v)!=128){f--;continue}if(f>=p)return this.interim[0]=u,this.interim[1]=v,b;if(g=a[f++],(192&g)!=128){f--;continue}if(f>=p)return this.interim[0]=u,this.interim[1]=v,this.interim[2]=g,b;if(S=a[f++],(192&S)!=128){f--;continue}if(o=(7&u)<<18|(63&v)<<12|(63&g)<<6|63&S,o<65536||o>1114111)continue;c[b++]=o}}return b}}},225:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeV6=void 0;const a=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],c=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let p;n.UnicodeV6=class{constructor(){if(this.version="6",!p){p=new Uint8Array(65536),p.fill(1),p[0]=0,p.fill(0,1,32),p.fill(0,127,160),p.fill(2,4352,4448),p[9001]=2,p[9002]=2,p.fill(2,11904,42192),p[12351]=1,p.fill(2,44032,55204),p.fill(2,63744,64256),p.fill(2,65040,65050),p.fill(2,65072,65136),p.fill(2,65280,65377),p.fill(2,65504,65511);for(let u=0;u<a.length;++u)p.fill(0,a[u][0],a[u][1]+1)}}wcwidth(u){return u<32?0:u<127?1:u<65536?p[u]:function(v,g){let S,b=0,o=g.length-1;if(v<g[0][0]||v>g[o][1])return!1;for(;o>=b;)if(S=b+o>>1,v>g[S][1])b=S+1;else{if(!(v<g[S][0]))return!0;o=S-1}return!1}(u,c)?0:u>=131072&&u<=196605||u>=196608&&u<=262141?2:1}}},5981:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WriteBuffer=void 0;const c=a(8460),p=a(844);class u extends p.Disposable{constructor(g){super(),this._action=g,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(g,S){if(S!==void 0&&this._syncCalls>S)return void(this._syncCalls=0);if(this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let b;for(this._isSyncWriting=!0;b=this._writeBuffer.shift();){this._action(b);const o=this._callbacks.shift();o&&o()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(g,S){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(S),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(S)}_innerWrite(g=0,S=!0){const b=g||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const o=this._writeBuffer[this._bufferOffset],h=this._action(o,S);if(h){const f=m=>Date.now()-b>=12?setTimeout(()=>this._innerWrite(0,m)):this._innerWrite(b,m);return void h.catch(m=>(queueMicrotask(()=>{throw m}),Promise.resolve(!1))).then(f)}const d=this._callbacks[this._bufferOffset];if(d&&d(),this._bufferOffset++,this._pendingData-=o.length,Date.now()-b>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}n.WriteBuffer=u},5941:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.toRgbString=n.parseColor=void 0;const a=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,c=/^[\da-f]+$/;function p(u,v){const g=u.toString(16),S=g.length<2?"0"+g:g;switch(v){case 4:return g[0];case 8:return S;case 12:return(S+S).slice(0,3);default:return S+S}}n.parseColor=function(u){if(!u)return;let v=u.toLowerCase();if(v.indexOf("rgb:")===0){v=v.slice(4);const g=a.exec(v);if(g){const S=g[1]?15:g[4]?255:g[7]?4095:65535;return[Math.round(parseInt(g[1]||g[4]||g[7]||g[10],16)/S*255),Math.round(parseInt(g[2]||g[5]||g[8]||g[11],16)/S*255),Math.round(parseInt(g[3]||g[6]||g[9]||g[12],16)/S*255)]}}else if(v.indexOf("#")===0&&(v=v.slice(1),c.exec(v)&&[3,6,9,12].includes(v.length))){const g=v.length/3,S=[0,0,0];for(let b=0;b<3;++b){const o=parseInt(v.slice(g*b,g*b+g),16);S[b]=g===1?o<<4:g===2?o:g===3?o>>4:o>>8}return S}},n.toRgbString=function(u,v=16){const[g,S,b]=u;return`rgb:${p(g,v)}/${p(S,v)}/${p(b,v)}`}},5770:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PAYLOAD_LIMIT=void 0,n.PAYLOAD_LIMIT=1e7},6351:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DcsHandler=n.DcsParser=void 0;const c=a(482),p=a(8742),u=a(5770),v=[];n.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=v,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=v}registerHandler(S,b){this._handlers[S]===void 0&&(this._handlers[S]=[]);const o=this._handlers[S];return o.push(b),{dispose:()=>{const h=o.indexOf(b);h!==-1&&o.splice(h,1)}}}clearHandler(S){this._handlers[S]&&delete this._handlers[S]}setHandlerFallback(S){this._handlerFb=S}reset(){if(this._active.length)for(let S=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;S>=0;--S)this._active[S].unhook(!1);this._stack.paused=!1,this._active=v,this._ident=0}hook(S,b){if(this.reset(),this._ident=S,this._active=this._handlers[S]||v,this._active.length)for(let o=this._active.length-1;o>=0;o--)this._active[o].hook(b);else this._handlerFb(this._ident,"HOOK",b)}put(S,b,o){if(this._active.length)for(let h=this._active.length-1;h>=0;h--)this._active[h].put(S,b,o);else this._handlerFb(this._ident,"PUT",(0,c.utf32ToString)(S,b,o))}unhook(S,b=!0){if(this._active.length){let o=!1,h=this._active.length-1,d=!1;if(this._stack.paused&&(h=this._stack.loopPosition-1,o=b,d=this._stack.fallThrough,this._stack.paused=!1),!d&&o===!1){for(;h>=0&&(o=this._active[h].unhook(S),o!==!0);h--)if(o instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=h,this._stack.fallThrough=!1,o;h--}for(;h>=0;h--)if(o=this._active[h].unhook(!1),o instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=h,this._stack.fallThrough=!0,o}else this._handlerFb(this._ident,"UNHOOK",S);this._active=v,this._ident=0}};const g=new p.Params;g.addParam(0),n.DcsHandler=class{constructor(S){this._handler=S,this._data="",this._params=g,this._hitLimit=!1}hook(S){this._params=S.length>1||S.params[0]?S.clone():g,this._data="",this._hitLimit=!1}put(S,b,o){this._hitLimit||(this._data+=(0,c.utf32ToString)(S,b,o),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(S){let b=!1;if(this._hitLimit)b=!1;else if(S&&(b=this._handler(this._data,this._params),b instanceof Promise))return b.then(o=>(this._params=g,this._data="",this._hitLimit=!1,o));return this._params=g,this._data="",this._hitLimit=!1,b}}},2015:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.EscapeSequenceParser=n.VT500_TRANSITION_TABLE=n.TransitionTable=void 0;const c=a(844),p=a(8742),u=a(6242),v=a(6351);class g{constructor(h){this.table=new Uint8Array(h)}setDefault(h,d){this.table.fill(h<<4|d)}add(h,d,f,m){this.table[d<<8|h]=f<<4|m}addMany(h,d,f,m){for(let y=0;y<h.length;y++)this.table[d<<8|h[y]]=f<<4|m}}n.TransitionTable=g;const S=160;n.VT500_TRANSITION_TABLE=function(){const o=new g(4095),h=Array.apply(null,Array(256)).map((E,C)=>C),d=(E,C)=>h.slice(E,C),f=d(32,127),m=d(0,24);m.push(25),m.push.apply(m,d(28,32));const y=d(0,14);let w;for(w in o.setDefault(1,0),o.addMany(f,0,2,0),y)o.addMany([24,26,153,154],w,3,0),o.addMany(d(128,144),w,3,0),o.addMany(d(144,152),w,3,0),o.add(156,w,0,0),o.add(27,w,11,1),o.add(157,w,4,8),o.addMany([152,158,159],w,0,7),o.add(155,w,11,3),o.add(144,w,11,9);return o.addMany(m,0,3,0),o.addMany(m,1,3,1),o.add(127,1,0,1),o.addMany(m,8,0,8),o.addMany(m,3,3,3),o.add(127,3,0,3),o.addMany(m,4,3,4),o.add(127,4,0,4),o.addMany(m,6,3,6),o.addMany(m,5,3,5),o.add(127,5,0,5),o.addMany(m,2,3,2),o.add(127,2,0,2),o.add(93,1,4,8),o.addMany(f,8,5,8),o.add(127,8,5,8),o.addMany([156,27,24,26,7],8,6,0),o.addMany(d(28,32),8,0,8),o.addMany([88,94,95],1,0,7),o.addMany(f,7,0,7),o.addMany(m,7,0,7),o.add(156,7,0,0),o.add(127,7,0,7),o.add(91,1,11,3),o.addMany(d(64,127),3,7,0),o.addMany(d(48,60),3,8,4),o.addMany([60,61,62,63],3,9,4),o.addMany(d(48,60),4,8,4),o.addMany(d(64,127),4,7,0),o.addMany([60,61,62,63],4,0,6),o.addMany(d(32,64),6,0,6),o.add(127,6,0,6),o.addMany(d(64,127),6,0,0),o.addMany(d(32,48),3,9,5),o.addMany(d(32,48),5,9,5),o.addMany(d(48,64),5,0,6),o.addMany(d(64,127),5,7,0),o.addMany(d(32,48),4,9,5),o.addMany(d(32,48),1,9,2),o.addMany(d(32,48),2,9,2),o.addMany(d(48,127),2,10,0),o.addMany(d(48,80),1,10,0),o.addMany(d(81,88),1,10,0),o.addMany([89,90,92],1,10,0),o.addMany(d(96,127),1,10,0),o.add(80,1,11,9),o.addMany(m,9,0,9),o.add(127,9,0,9),o.addMany(d(28,32),9,0,9),o.addMany(d(32,48),9,9,12),o.addMany(d(48,60),9,8,10),o.addMany([60,61,62,63],9,9,10),o.addMany(m,11,0,11),o.addMany(d(32,128),11,0,11),o.addMany(d(28,32),11,0,11),o.addMany(m,10,0,10),o.add(127,10,0,10),o.addMany(d(28,32),10,0,10),o.addMany(d(48,60),10,8,10),o.addMany([60,61,62,63],10,0,11),o.addMany(d(32,48),10,9,12),o.addMany(m,12,0,12),o.add(127,12,0,12),o.addMany(d(28,32),12,0,12),o.addMany(d(32,48),12,9,12),o.addMany(d(48,64),12,0,11),o.addMany(d(64,127),12,12,13),o.addMany(d(64,127),10,12,13),o.addMany(d(64,127),9,12,13),o.addMany(m,13,13,13),o.addMany(f,13,13,13),o.add(127,13,0,13),o.addMany([27,156,24,26],13,14,0),o.add(S,0,2,0),o.add(S,8,5,8),o.add(S,6,0,6),o.add(S,11,0,11),o.add(S,13,13,13),o}();class b extends c.Disposable{constructor(h=n.VT500_TRANSITION_TABLE){super(),this._transitions=h,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new p.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(d,f,m)=>{},this._executeHandlerFb=d=>{},this._csiHandlerFb=(d,f)=>{},this._escHandlerFb=d=>{},this._errorHandlerFb=d=>d,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,c.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new u.OscParser),this._dcsParser=this.register(new v.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(h,d=[64,126]){let f=0;if(h.prefix){if(h.prefix.length>1)throw new Error("only one byte as prefix supported");if(f=h.prefix.charCodeAt(0),f&&60>f||f>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(h.intermediates){if(h.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let y=0;y<h.intermediates.length;++y){const w=h.intermediates.charCodeAt(y);if(32>w||w>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");f<<=8,f|=w}}if(h.final.length!==1)throw new Error("final must be a single byte");const m=h.final.charCodeAt(0);if(d[0]>m||m>d[1])throw new Error(`final must be in range ${d[0]} .. ${d[1]}`);return f<<=8,f|=m,f}identToString(h){const d=[];for(;h;)d.push(String.fromCharCode(255&h)),h>>=8;return d.reverse().join("")}setPrintHandler(h){this._printHandler=h}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(h,d){const f=this._identifier(h,[48,126]);this._escHandlers[f]===void 0&&(this._escHandlers[f]=[]);const m=this._escHandlers[f];return m.push(d),{dispose:()=>{const y=m.indexOf(d);y!==-1&&m.splice(y,1)}}}clearEscHandler(h){this._escHandlers[this._identifier(h,[48,126])]&&delete this._escHandlers[this._identifier(h,[48,126])]}setEscHandlerFallback(h){this._escHandlerFb=h}setExecuteHandler(h,d){this._executeHandlers[h.charCodeAt(0)]=d}clearExecuteHandler(h){this._executeHandlers[h.charCodeAt(0)]&&delete this._executeHandlers[h.charCodeAt(0)]}setExecuteHandlerFallback(h){this._executeHandlerFb=h}registerCsiHandler(h,d){const f=this._identifier(h);this._csiHandlers[f]===void 0&&(this._csiHandlers[f]=[]);const m=this._csiHandlers[f];return m.push(d),{dispose:()=>{const y=m.indexOf(d);y!==-1&&m.splice(y,1)}}}clearCsiHandler(h){this._csiHandlers[this._identifier(h)]&&delete this._csiHandlers[this._identifier(h)]}setCsiHandlerFallback(h){this._csiHandlerFb=h}registerDcsHandler(h,d){return this._dcsParser.registerHandler(this._identifier(h),d)}clearDcsHandler(h){this._dcsParser.clearHandler(this._identifier(h))}setDcsHandlerFallback(h){this._dcsParser.setHandlerFallback(h)}registerOscHandler(h,d){return this._oscParser.registerHandler(h,d)}clearOscHandler(h){this._oscParser.clearHandler(h)}setOscHandlerFallback(h){this._oscParser.setHandlerFallback(h)}setErrorHandler(h){this._errorHandler=h}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(h,d,f,m,y){this._parseStack.state=h,this._parseStack.handlers=d,this._parseStack.handlerPos=f,this._parseStack.transition=m,this._parseStack.chunkPos=y}parse(h,d,f){let m,y=0,w=0,E=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,E=this._parseStack.chunkPos+1;else{if(f===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const C=this._parseStack.handlers;let k=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(f===!1&&k>-1){for(;k>=0&&(m=C[k](this._params),m!==!0);k--)if(m instanceof Promise)return this._parseStack.handlerPos=k,m}this._parseStack.handlers=[];break;case 4:if(f===!1&&k>-1){for(;k>=0&&(m=C[k](),m!==!0);k--)if(m instanceof Promise)return this._parseStack.handlerPos=k,m}this._parseStack.handlers=[];break;case 6:if(y=h[this._parseStack.chunkPos],m=this._dcsParser.unhook(y!==24&&y!==26,f),m)return m;y===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(y=h[this._parseStack.chunkPos],m=this._oscParser.end(y!==24&&y!==26,f),m)return m;y===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,E=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let C=E;C<d;++C){switch(y=h[C],w=this._transitions.table[this.currentState<<8|(y<160?y:S)],w>>4){case 2:for(let A=C+1;;++A){if(A>=d||(y=h[A])<32||y>126&&y<S){this._printHandler(h,C,A),C=A-1;break}if(++A>=d||(y=h[A])<32||y>126&&y<S){this._printHandler(h,C,A),C=A-1;break}if(++A>=d||(y=h[A])<32||y>126&&y<S){this._printHandler(h,C,A),C=A-1;break}if(++A>=d||(y=h[A])<32||y>126&&y<S){this._printHandler(h,C,A),C=A-1;break}}break;case 3:this._executeHandlers[y]?this._executeHandlers[y]():this._executeHandlerFb(y),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:C,code:y,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const k=this._csiHandlers[this._collect<<8|y];let D=k?k.length-1:-1;for(;D>=0&&(m=k[D](this._params),m!==!0);D--)if(m instanceof Promise)return this._preserveStack(3,k,D,w,C),m;D<0&&this._csiHandlerFb(this._collect<<8|y,this._params),this.precedingCodepoint=0;break;case 8:do switch(y){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(y-48)}while(++C<d&&(y=h[C])>47&&y<60);C--;break;case 9:this._collect<<=8,this._collect|=y;break;case 10:const L=this._escHandlers[this._collect<<8|y];let R=L?L.length-1:-1;for(;R>=0&&(m=L[R](),m!==!0);R--)if(m instanceof Promise)return this._preserveStack(4,L,R,w,C),m;R<0&&this._escHandlerFb(this._collect<<8|y),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|y,this._params);break;case 13:for(let A=C+1;;++A)if(A>=d||(y=h[A])===24||y===26||y===27||y>127&&y<S){this._dcsParser.put(h,C,A),C=A-1;break}break;case 14:if(m=this._dcsParser.unhook(y!==24&&y!==26),m)return this._preserveStack(6,[],0,w,C),m;y===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let A=C+1;;A++)if(A>=d||(y=h[A])<32||y>127&&y<S){this._oscParser.put(h,C,A),C=A-1;break}break;case 6:if(m=this._oscParser.end(y!==24&&y!==26),m)return this._preserveStack(5,[],0,w,C),m;y===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&w}}}n.EscapeSequenceParser=b},6242:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OscHandler=n.OscParser=void 0;const c=a(5770),p=a(482),u=[];n.OscParser=class{constructor(){this._state=0,this._active=u,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(v,g){this._handlers[v]===void 0&&(this._handlers[v]=[]);const S=this._handlers[v];return S.push(g),{dispose:()=>{const b=S.indexOf(g);b!==-1&&S.splice(b,1)}}}clearHandler(v){this._handlers[v]&&delete this._handlers[v]}setHandlerFallback(v){this._handlerFb=v}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=u}reset(){if(this._state===2)for(let v=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;v>=0;--v)this._active[v].end(!1);this._stack.paused=!1,this._active=u,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||u,this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].start();else this._handlerFb(this._id,"START")}_put(v,g,S){if(this._active.length)for(let b=this._active.length-1;b>=0;b--)this._active[b].put(v,g,S);else this._handlerFb(this._id,"PUT",(0,p.utf32ToString)(v,g,S))}start(){this.reset(),this._state=1}put(v,g,S){if(this._state!==3){if(this._state===1)for(;g<S;){const b=v[g++];if(b===59){this._state=2,this._start();break}if(b<48||57<b)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+b-48}this._state===2&&S-g>0&&this._put(v,g,S)}}end(v,g=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let S=!1,b=this._active.length-1,o=!1;if(this._stack.paused&&(b=this._stack.loopPosition-1,S=g,o=this._stack.fallThrough,this._stack.paused=!1),!o&&S===!1){for(;b>=0&&(S=this._active[b].end(v),S!==!0);b--)if(S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=b,this._stack.fallThrough=!1,S;b--}for(;b>=0;b--)if(S=this._active[b].end(!1),S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=b,this._stack.fallThrough=!0,S}else this._handlerFb(this._id,"END",v);this._active=u,this._id=-1,this._state=0}}},n.OscHandler=class{constructor(v){this._handler=v,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(v,g,S){this._hitLimit||(this._data+=(0,p.utf32ToString)(v,g,S),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(v){let g=!1;if(this._hitLimit)g=!1;else if(v&&(g=this._handler(this._data),g instanceof Promise))return g.then(S=>(this._data="",this._hitLimit=!1,S));return this._data="",this._hitLimit=!1,g}}},8742:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Params=void 0;const a=2147483647;class c{static fromArray(u){const v=new c;if(!u.length)return v;for(let g=Array.isArray(u[0])?1:0;g<u.length;++g){const S=u[g];if(Array.isArray(S))for(let b=0;b<S.length;++b)v.addSubParam(S[b]);else v.addParam(S)}return v}constructor(u=32,v=32){if(this.maxLength=u,this.maxSubParamsLength=v,v>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(u),this.length=0,this._subParams=new Int32Array(v),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(u),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const u=new c(this.maxLength,this.maxSubParamsLength);return u.params.set(this.params),u.length=this.length,u._subParams.set(this._subParams),u._subParamsLength=this._subParamsLength,u._subParamsIdx.set(this._subParamsIdx),u._rejectDigits=this._rejectDigits,u._rejectSubDigits=this._rejectSubDigits,u._digitIsSub=this._digitIsSub,u}toArray(){const u=[];for(let v=0;v<this.length;++v){u.push(this.params[v]);const g=this._subParamsIdx[v]>>8,S=255&this._subParamsIdx[v];S-g>0&&u.push(Array.prototype.slice.call(this._subParams,g,S))}return u}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(u){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=u>a?a:u}}addSubParam(u){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=u>a?a:u,this._subParamsIdx[this.length-1]++}}hasSubParams(u){return(255&this._subParamsIdx[u])-(this._subParamsIdx[u]>>8)>0}getSubParams(u){const v=this._subParamsIdx[u]>>8,g=255&this._subParamsIdx[u];return g-v>0?this._subParams.subarray(v,g):null}getSubParamsAll(){const u={};for(let v=0;v<this.length;++v){const g=this._subParamsIdx[v]>>8,S=255&this._subParamsIdx[v];S-g>0&&(u[v]=this._subParams.slice(g,S))}return u}addDigit(u){let v;if(this._rejectDigits||!(v=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const g=this._digitIsSub?this._subParams:this.params,S=g[v-1];g[v-1]=~S?Math.min(10*S+u,a):u}}n.Params=c},5741:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AddonManager=void 0,n.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let a=this._addons.length-1;a>=0;a--)this._addons[a].instance.dispose()}loadAddon(a,c){const p={instance:c,dispose:c.dispose,isDisposed:!1};this._addons.push(p),c.dispose=()=>this._wrappedAddonDispose(p),c.activate(a)}_wrappedAddonDispose(a){if(a.isDisposed)return;let c=-1;for(let p=0;p<this._addons.length;p++)if(this._addons[p]===a){c=p;break}if(c===-1)throw new Error("Could not dispose an addon that has not been loaded");a.isDisposed=!0,a.dispose.apply(a.instance),this._addons.splice(c,1)}}},8771:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferApiView=void 0;const c=a(3785),p=a(511);n.BufferApiView=class{constructor(u,v){this._buffer=u,this.type=v}init(u){return this._buffer=u,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(u){const v=this._buffer.lines.get(u);if(v)return new c.BufferLineApiView(v)}getNullCell(){return new p.CellData}}},3785:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLineApiView=void 0;const c=a(511);n.BufferLineApiView=class{constructor(p){this._line=p}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(p,u){if(!(p<0||p>=this._line.length))return u?(this._line.loadCell(p,u),u):this._line.loadCell(p,new c.CellData)}translateToString(p,u,v){return this._line.translateToString(p,u,v)}}},8285:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferNamespaceApi=void 0;const c=a(8771),p=a(8460),u=a(844);class v extends u.Disposable{constructor(S){super(),this._core=S,this._onBufferChange=this.register(new p.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new c.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new c.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}n.BufferNamespaceApi=v},7975:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ParserApi=void 0,n.ParserApi=class{constructor(a){this._core=a}registerCsiHandler(a,c){return this._core.registerCsiHandler(a,p=>c(p.toArray()))}addCsiHandler(a,c){return this.registerCsiHandler(a,c)}registerDcsHandler(a,c){return this._core.registerDcsHandler(a,(p,u)=>c(p,u.toArray()))}addDcsHandler(a,c){return this.registerDcsHandler(a,c)}registerEscHandler(a,c){return this._core.registerEscHandler(a,c)}addEscHandler(a,c){return this.registerEscHandler(a,c)}registerOscHandler(a,c){return this._core.registerOscHandler(a,c)}addOscHandler(a,c){return this.registerOscHandler(a,c)}}},7090:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeApi=void 0,n.UnicodeApi=class{constructor(a){this._core=a}register(a){this._core.unicodeService.register(a)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(a){this._core.unicodeService.activeVersion=a}}},744:function(_,n,a){var c=this&&this.__decorate||function(o,h,d,f){var m,y=arguments.length,w=y<3?h:f===null?f=Object.getOwnPropertyDescriptor(h,d):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(o,h,d,f);else for(var E=o.length-1;E>=0;E--)(m=o[E])&&(w=(y<3?m(w):y>3?m(h,d,w):m(h,d))||w);return y>3&&w&&Object.defineProperty(h,d,w),w},p=this&&this.__param||function(o,h){return function(d,f){h(d,f,o)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferService=n.MINIMUM_ROWS=n.MINIMUM_COLS=void 0;const u=a(8460),v=a(844),g=a(5295),S=a(2585);n.MINIMUM_COLS=2,n.MINIMUM_ROWS=1;let b=n.BufferService=class extends v.Disposable{get buffer(){return this.buffers.active}constructor(o){super(),this.isUserScrolling=!1,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new u.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(o.rawOptions.cols||0,n.MINIMUM_COLS),this.rows=Math.max(o.rawOptions.rows||0,n.MINIMUM_ROWS),this.buffers=this.register(new g.BufferSet(o,this))}resize(o,h){this.cols=o,this.rows=h,this.buffers.resize(o,h),this._onResize.fire({cols:o,rows:h})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(o,h=!1){const d=this.buffer;let f;f=this._cachedBlankLine,f&&f.length===this.cols&&f.getFg(0)===o.fg&&f.getBg(0)===o.bg||(f=d.getBlankLine(o,h),this._cachedBlankLine=f),f.isWrapped=h;const m=d.ybase+d.scrollTop,y=d.ybase+d.scrollBottom;if(d.scrollTop===0){const w=d.lines.isFull;y===d.lines.length-1?w?d.lines.recycle().copyFrom(f):d.lines.push(f.clone()):d.lines.splice(y+1,0,f.clone()),w?this.isUserScrolling&&(d.ydisp=Math.max(d.ydisp-1,0)):(d.ybase++,this.isUserScrolling||d.ydisp++)}else{const w=y-m+1;d.lines.shiftElements(m+1,w-1,-1),d.lines.set(y,f.clone())}this.isUserScrolling||(d.ydisp=d.ybase),this._onScroll.fire(d.ydisp)}scrollLines(o,h,d){const f=this.buffer;if(o<0){if(f.ydisp===0)return;this.isUserScrolling=!0}else o+f.ydisp>=f.ybase&&(this.isUserScrolling=!1);const m=f.ydisp;f.ydisp=Math.max(Math.min(f.ydisp+o,f.ybase),0),m!==f.ydisp&&(h||this._onScroll.fire(f.ydisp))}};n.BufferService=b=c([p(0,S.IOptionsService)],b)},7994:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CharsetService=void 0,n.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(a){this.glevel=a,this.charset=this._charsets[a]}setgCharset(a,c){this._charsets[a]=c,this.glevel===a&&(this.charset=c)}}},1753:function(_,n,a){var c=this&&this.__decorate||function(f,m,y,w){var E,C=arguments.length,k=C<3?m:w===null?w=Object.getOwnPropertyDescriptor(m,y):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(f,m,y,w);else for(var D=f.length-1;D>=0;D--)(E=f[D])&&(k=(C<3?E(k):C>3?E(m,y,k):E(m,y))||k);return C>3&&k&&Object.defineProperty(m,y,k),k},p=this&&this.__param||function(f,m){return function(y,w){m(y,w,f)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreMouseService=void 0;const u=a(2585),v=a(8460),g=a(844),S={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:f=>f.button!==4&&f.action===1&&(f.ctrl=!1,f.alt=!1,f.shift=!1,!0)},VT200:{events:19,restrict:f=>f.action!==32},DRAG:{events:23,restrict:f=>f.action!==32||f.button!==3},ANY:{events:31,restrict:f=>!0}};function b(f,m){let y=(f.ctrl?16:0)|(f.shift?4:0)|(f.alt?8:0);return f.button===4?(y|=64,y|=f.action):(y|=3&f.button,4&f.button&&(y|=64),8&f.button&&(y|=128),f.action===32?y|=32:f.action!==0||m||(y|=3)),y}const o=String.fromCharCode,h={DEFAULT:f=>{const m=[b(f,!1)+32,f.col+32,f.row+32];return m[0]>255||m[1]>255||m[2]>255?"":`\x1B[M${o(m[0])}${o(m[1])}${o(m[2])}`},SGR:f=>{const m=f.action===0&&f.button!==4?"m":"M";return`\x1B[<${b(f,!0)};${f.col};${f.row}${m}`},SGR_PIXELS:f=>{const m=f.action===0&&f.button!==4?"m":"M";return`\x1B[<${b(f,!0)};${f.x};${f.y}${m}`}};let d=n.CoreMouseService=class extends g.Disposable{constructor(f,m){super(),this._bufferService=f,this._coreService=m,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new v.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const y of Object.keys(S))this.addProtocol(y,S[y]);for(const y of Object.keys(h))this.addEncoding(y,h[y]);this.reset()}addProtocol(f,m){this._protocols[f]=m}addEncoding(f,m){this._encodings[f]=m}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(f){if(!this._protocols[f])throw new Error(`unknown protocol "${f}"`);this._activeProtocol=f,this._onProtocolChange.fire(this._protocols[f].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(f){if(!this._encodings[f])throw new Error(`unknown encoding "${f}"`);this._activeEncoding=f}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(f){if(f.col<0||f.col>=this._bufferService.cols||f.row<0||f.row>=this._bufferService.rows||f.button===4&&f.action===32||f.button===3&&f.action!==32||f.button!==4&&(f.action===2||f.action===3)||(f.col++,f.row++,f.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,f,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(f))return!1;const m=this._encodings[this._activeEncoding](f);return m&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(m):this._coreService.triggerDataEvent(m,!0)),this._lastEvent=f,!0}explainEvents(f){return{down:!!(1&f),up:!!(2&f),drag:!!(4&f),move:!!(8&f),wheel:!!(16&f)}}_equalEvents(f,m,y){if(y){if(f.x!==m.x||f.y!==m.y)return!1}else if(f.col!==m.col||f.row!==m.row)return!1;return f.button===m.button&&f.action===m.action&&f.ctrl===m.ctrl&&f.alt===m.alt&&f.shift===m.shift}};n.CoreMouseService=d=c([p(0,u.IBufferService),p(1,u.ICoreService)],d)},6975:function(_,n,a){var c=this&&this.__decorate||function(d,f,m,y){var w,E=arguments.length,C=E<3?f:y===null?y=Object.getOwnPropertyDescriptor(f,m):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(d,f,m,y);else for(var k=d.length-1;k>=0;k--)(w=d[k])&&(C=(E<3?w(C):E>3?w(f,m,C):w(f,m))||C);return E>3&&C&&Object.defineProperty(f,m,C),C},p=this&&this.__param||function(d,f){return function(m,y){f(m,y,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreService=void 0;const u=a(1439),v=a(8460),g=a(844),S=a(2585),b=Object.freeze({insertMode:!1}),o=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let h=n.CoreService=class extends g.Disposable{constructor(d,f,m){super(),this._bufferService=d,this._logService=f,this._optionsService=m,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new v.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new v.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new v.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new v.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,u.clone)(b),this.decPrivateModes=(0,u.clone)(o)}reset(){this.modes=(0,u.clone)(b),this.decPrivateModes=(0,u.clone)(o)}triggerDataEvent(d,f=!1){if(this._optionsService.rawOptions.disableStdin)return;const m=this._bufferService.buffer;f&&this._optionsService.rawOptions.scrollOnUserInput&&m.ybase!==m.ydisp&&this._onRequestScrollToBottom.fire(),f&&this._onUserInput.fire(),this._logService.debug(`sending data "${d}"`,()=>d.split("").map(y=>y.charCodeAt(0))),this._onData.fire(d)}triggerBinaryEvent(d){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${d}"`,()=>d.split("").map(f=>f.charCodeAt(0))),this._onBinary.fire(d))}};n.CoreService=h=c([p(0,S.IBufferService),p(1,S.ILogService),p(2,S.IOptionsService)],h)},9074:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DecorationService=void 0;const c=a(8055),p=a(8460),u=a(844),v=a(6106);let g=0,S=0;class b extends u.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new v.SortedList(d=>d==null?void 0:d.marker.line),this._onDecorationRegistered=this.register(new p.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new p.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,u.toDisposable)(()=>this.reset()))}registerDecoration(d){if(d.marker.isDisposed)return;const f=new o(d);if(f){const m=f.marker.onDispose(()=>f.dispose());f.onDispose(()=>{f&&(this._decorations.delete(f)&&this._onDecorationRemoved.fire(f),m.dispose())}),this._decorations.insert(f),this._onDecorationRegistered.fire(f)}return f}reset(){for(const d of this._decorations.values())d.dispose();this._decorations.clear()}*getDecorationsAtCell(d,f,m){var y,w,E;let C=0,k=0;for(const D of this._decorations.getKeyIterator(f))C=(y=D.options.x)!==null&&y!==void 0?y:0,k=C+((w=D.options.width)!==null&&w!==void 0?w:1),d>=C&&d<k&&(!m||((E=D.options.layer)!==null&&E!==void 0?E:"bottom")===m)&&(yield D)}forEachDecorationAtCell(d,f,m,y){this._decorations.forEachByKey(f,w=>{var E,C,k;g=(E=w.options.x)!==null&&E!==void 0?E:0,S=g+((C=w.options.width)!==null&&C!==void 0?C:1),d>=g&&d<S&&(!m||((k=w.options.layer)!==null&&k!==void 0?k:"bottom")===m)&&y(w)})}}n.DecorationService=b;class o extends u.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=c.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=c.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(d){super(),this.options=d,this.onRenderEmitter=this.register(new p.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new p.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=d.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.InstantiationService=n.ServiceCollection=void 0;const c=a(2585),p=a(8343);class u{constructor(...g){this._entries=new Map;for(const[S,b]of g)this.set(S,b)}set(g,S){const b=this._entries.get(g);return this._entries.set(g,S),b}forEach(g){for(const[S,b]of this._entries.entries())g(S,b)}has(g){return this._entries.has(g)}get(g){return this._entries.get(g)}}n.ServiceCollection=u,n.InstantiationService=class{constructor(){this._services=new u,this._services.set(c.IInstantiationService,this)}setService(v,g){this._services.set(v,g)}getService(v){return this._services.get(v)}createInstance(v,...g){const S=(0,p.getServiceDependencies)(v).sort((h,d)=>h.index-d.index),b=[];for(const h of S){const d=this._services.get(h.id);if(!d)throw new Error(`[createInstance] ${v.name} depends on UNKNOWN service ${h.id}.`);b.push(d)}const o=S.length>0?S[0].index:g.length;if(g.length!==o)throw new Error(`[createInstance] First service dependency of ${v.name} at position ${o+1} conflicts with ${g.length} static arguments`);return new v(...g,...b)}}},7866:function(_,n,a){var c=this&&this.__decorate||function(o,h,d,f){var m,y=arguments.length,w=y<3?h:f===null?f=Object.getOwnPropertyDescriptor(h,d):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(o,h,d,f);else for(var E=o.length-1;E>=0;E--)(m=o[E])&&(w=(y<3?m(w):y>3?m(h,d,w):m(h,d))||w);return y>3&&w&&Object.defineProperty(h,d,w),w},p=this&&this.__param||function(o,h){return function(d,f){h(d,f,o)}};Object.defineProperty(n,"__esModule",{value:!0}),n.traceCall=n.setTraceLogger=n.LogService=void 0;const u=a(844),v=a(2585),g={trace:v.LogLevelEnum.TRACE,debug:v.LogLevelEnum.DEBUG,info:v.LogLevelEnum.INFO,warn:v.LogLevelEnum.WARN,error:v.LogLevelEnum.ERROR,off:v.LogLevelEnum.OFF};let S,b=n.LogService=class extends u.Disposable{get logLevel(){return this._logLevel}constructor(o){super(),this._optionsService=o,this._logLevel=v.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),S=this}_updateLogLevel(){this._logLevel=g[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(o){for(let h=0;h<o.length;h++)typeof o[h]=="function"&&(o[h]=o[h]())}_log(o,h,d){this._evalLazyOptionalParams(d),o.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+h,...d)}trace(o,...h){var d,f;this._logLevel<=v.LogLevelEnum.TRACE&&this._log((f=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.trace.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.log,o,h)}debug(o,...h){var d,f;this._logLevel<=v.LogLevelEnum.DEBUG&&this._log((f=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.debug.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.log,o,h)}info(o,...h){var d,f;this._logLevel<=v.LogLevelEnum.INFO&&this._log((f=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.info.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.info,o,h)}warn(o,...h){var d,f;this._logLevel<=v.LogLevelEnum.WARN&&this._log((f=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.warn.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.warn,o,h)}error(o,...h){var d,f;this._logLevel<=v.LogLevelEnum.ERROR&&this._log((f=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.error.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.error,o,h)}};n.LogService=b=c([p(0,v.IOptionsService)],b),n.setTraceLogger=function(o){S=o},n.traceCall=function(o,h,d){if(typeof d.value!="function")throw new Error("not supported");const f=d.value;d.value=function(...m){if(S.logLevel!==v.LogLevelEnum.TRACE)return f.apply(this,m);S.trace(`GlyphRenderer#${f.name}(${m.map(w=>JSON.stringify(w)).join(", ")})`);const y=f.apply(this,m);return S.trace(`GlyphRenderer#${f.name} return`,y),y}}},7302:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OptionsService=n.DEFAULT_OPTIONS=void 0;const c=a(8460),p=a(844),u=a(6114);n.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:u.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const v=["normal","bold","100","200","300","400","500","600","700","800","900"];class g extends p.Disposable{constructor(b){super(),this._onOptionChange=this.register(new c.EventEmitter),this.onOptionChange=this._onOptionChange.event;const o=Object.assign({},n.DEFAULT_OPTIONS);for(const h in b)if(h in o)try{const d=b[h];o[h]=this._sanitizeAndValidateOption(h,d)}catch(d){console.error(d)}this.rawOptions=o,this.options=Object.assign({},o),this._setupOptions()}onSpecificOptionChange(b,o){return this.onOptionChange(h=>{h===b&&o(this.rawOptions[b])})}onMultipleOptionChange(b,o){return this.onOptionChange(h=>{b.indexOf(h)!==-1&&o()})}_setupOptions(){const b=h=>{if(!(h in n.DEFAULT_OPTIONS))throw new Error(`No option with key "${h}"`);return this.rawOptions[h]},o=(h,d)=>{if(!(h in n.DEFAULT_OPTIONS))throw new Error(`No option with key "${h}"`);d=this._sanitizeAndValidateOption(h,d),this.rawOptions[h]!==d&&(this.rawOptions[h]=d,this._onOptionChange.fire(h))};for(const h in this.rawOptions){const d={get:b.bind(this,h),set:o.bind(this,h)};Object.defineProperty(this.options,h,d)}}_sanitizeAndValidateOption(b,o){switch(b){case"cursorStyle":if(o||(o=n.DEFAULT_OPTIONS[b]),!function(h){return h==="block"||h==="underline"||h==="bar"}(o))throw new Error(`"${o}" is not a valid value for ${b}`);break;case"wordSeparator":o||(o=n.DEFAULT_OPTIONS[b]);break;case"fontWeight":case"fontWeightBold":if(typeof o=="number"&&1<=o&&o<=1e3)break;o=v.includes(o)?o:n.DEFAULT_OPTIONS[b];break;case"cursorWidth":o=Math.floor(o);case"lineHeight":case"tabStopWidth":if(o<1)throw new Error(`${b} cannot be less than 1, value: ${o}`);break;case"minimumContrastRatio":o=Math.max(1,Math.min(21,Math.round(10*o)/10));break;case"scrollback":if((o=Math.min(o,4294967295))<0)throw new Error(`${b} cannot be less than 0, value: ${o}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(o<=0)throw new Error(`${b} cannot be less than or equal to 0, value: ${o}`);break;case"rows":case"cols":if(!o&&o!==0)throw new Error(`${b} must be numeric, value: ${o}`);break;case"windowsPty":o=o??{}}return o}}n.OptionsService=g},2660:function(_,n,a){var c=this&&this.__decorate||function(g,S,b,o){var h,d=arguments.length,f=d<3?S:o===null?o=Object.getOwnPropertyDescriptor(S,b):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(g,S,b,o);else for(var m=g.length-1;m>=0;m--)(h=g[m])&&(f=(d<3?h(f):d>3?h(S,b,f):h(S,b))||f);return d>3&&f&&Object.defineProperty(S,b,f),f},p=this&&this.__param||function(g,S){return function(b,o){S(b,o,g)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OscLinkService=void 0;const u=a(2585);let v=n.OscLinkService=class{constructor(g){this._bufferService=g,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(g){const S=this._bufferService.buffer;if(g.id===void 0){const m=S.addMarker(S.ybase+S.y),y={data:g,id:this._nextId++,lines:[m]};return m.onDispose(()=>this._removeMarkerFromLink(y,m)),this._dataByLinkId.set(y.id,y),y.id}const b=g,o=this._getEntryIdKey(b),h=this._entriesWithId.get(o);if(h)return this.addLineToLink(h.id,S.ybase+S.y),h.id;const d=S.addMarker(S.ybase+S.y),f={id:this._nextId++,key:this._getEntryIdKey(b),data:b,lines:[d]};return d.onDispose(()=>this._removeMarkerFromLink(f,d)),this._entriesWithId.set(f.key,f),this._dataByLinkId.set(f.id,f),f.id}addLineToLink(g,S){const b=this._dataByLinkId.get(g);if(b&&b.lines.every(o=>o.line!==S)){const o=this._bufferService.buffer.addMarker(S);b.lines.push(o),o.onDispose(()=>this._removeMarkerFromLink(b,o))}}getLinkData(g){var S;return(S=this._dataByLinkId.get(g))===null||S===void 0?void 0:S.data}_getEntryIdKey(g){return`${g.id};;${g.uri}`}_removeMarkerFromLink(g,S){const b=g.lines.indexOf(S);b!==-1&&(g.lines.splice(b,1),g.lines.length===0&&(g.data.id!==void 0&&this._entriesWithId.delete(g.key),this._dataByLinkId.delete(g.id)))}};n.OscLinkService=v=c([p(0,u.IBufferService)],v)},8343:(_,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createDecorator=n.getServiceDependencies=n.serviceRegistry=void 0;const a="di$target",c="di$dependencies";n.serviceRegistry=new Map,n.getServiceDependencies=function(p){return p[c]||[]},n.createDecorator=function(p){if(n.serviceRegistry.has(p))return n.serviceRegistry.get(p);const u=function(v,g,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(b,o,h){o[a]===o?o[c].push({id:b,index:h}):(o[c]=[{id:b,index:h}],o[a]=o)})(u,v,S)};return u.toString=()=>p,n.serviceRegistry.set(p,u),u}},2585:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IDecorationService=n.IUnicodeService=n.IOscLinkService=n.IOptionsService=n.ILogService=n.LogLevelEnum=n.IInstantiationService=n.ICharsetService=n.ICoreService=n.ICoreMouseService=n.IBufferService=void 0;const c=a(8343);var p;n.IBufferService=(0,c.createDecorator)("BufferService"),n.ICoreMouseService=(0,c.createDecorator)("CoreMouseService"),n.ICoreService=(0,c.createDecorator)("CoreService"),n.ICharsetService=(0,c.createDecorator)("CharsetService"),n.IInstantiationService=(0,c.createDecorator)("InstantiationService"),function(u){u[u.TRACE=0]="TRACE",u[u.DEBUG=1]="DEBUG",u[u.INFO=2]="INFO",u[u.WARN=3]="WARN",u[u.ERROR=4]="ERROR",u[u.OFF=5]="OFF"}(p||(n.LogLevelEnum=p={})),n.ILogService=(0,c.createDecorator)("LogService"),n.IOptionsService=(0,c.createDecorator)("OptionsService"),n.IOscLinkService=(0,c.createDecorator)("OscLinkService"),n.IUnicodeService=(0,c.createDecorator)("UnicodeService"),n.IDecorationService=(0,c.createDecorator)("DecorationService")},1480:(_,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeService=void 0;const c=a(8460),p=a(225);n.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new c.EventEmitter,this.onChange=this._onChange.event;const u=new p.UnicodeV6;this.register(u),this._active=u.version,this._activeProvider=u}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(u){if(!this._providers[u])throw new Error(`unknown Unicode version "${u}"`);this._active=u,this._activeProvider=this._providers[u],this._onChange.fire(u)}register(u){this._providers[u.version]=u}wcwidth(u){return this._activeProvider.wcwidth(u)}getStringCellWidth(u){let v=0;const g=u.length;for(let S=0;S<g;++S){let b=u.charCodeAt(S);if(55296<=b&&b<=56319){if(++S>=g)return v+this.wcwidth(b);const o=u.charCodeAt(S);56320<=o&&o<=57343?b=1024*(b-55296)+o-56320+65536:v+=this.wcwidth(o)}v+=this.wcwidth(b)}return v}}}},t={};function s(_){var n=t[_];if(n!==void 0)return n.exports;var a=t[_]={exports:{}};return i[_].call(a.exports,a,a.exports,s),a.exports}var l={};return(()=>{var _=l;Object.defineProperty(_,"__esModule",{value:!0}),_.Terminal=void 0;const n=s(9042),a=s(3236),c=s(844),p=s(5741),u=s(8285),v=s(7975),g=s(7090),S=["cols","rows"];class b extends c.Disposable{constructor(h){super(),this._core=this.register(new a.Terminal(h)),this._addonManager=this.register(new p.AddonManager),this._publicOptions=Object.assign({},this._core.options);const d=m=>this._core.options[m],f=(m,y)=>{this._checkReadonlyOptions(m),this._core.options[m]=y};for(const m in this._core.options){const y={get:d.bind(this,m),set:f.bind(this,m)};Object.defineProperty(this._publicOptions,m,y)}}_checkReadonlyOptions(h){if(S.includes(h))throw new Error(`Option "${h}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new v.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new g.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new u.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const h=this._core.coreService.decPrivateModes;let d="none";switch(this._core.coreMouseService.activeProtocol){case"X10":d="x10";break;case"VT200":d="vt200";break;case"DRAG":d="drag";break;case"ANY":d="any"}return{applicationCursorKeysMode:h.applicationCursorKeys,applicationKeypadMode:h.applicationKeypad,bracketedPasteMode:h.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:d,originMode:h.origin,reverseWraparoundMode:h.reverseWraparound,sendFocusMode:h.sendFocus,wraparoundMode:h.wraparound}}get options(){return this._publicOptions}set options(h){for(const d in h)this._publicOptions[d]=h[d]}blur(){this._core.blur()}focus(){this._core.focus()}resize(h,d){this._verifyIntegers(h,d),this._core.resize(h,d)}open(h){this._core.open(h)}attachCustomKeyEventHandler(h){this._core.attachCustomKeyEventHandler(h)}registerLinkProvider(h){return this._core.registerLinkProvider(h)}registerCharacterJoiner(h){return this._checkProposedApi(),this._core.registerCharacterJoiner(h)}deregisterCharacterJoiner(h){this._checkProposedApi(),this._core.deregisterCharacterJoiner(h)}registerMarker(h=0){return this._verifyIntegers(h),this._core.registerMarker(h)}registerDecoration(h){var d,f,m;return this._checkProposedApi(),this._verifyPositiveIntegers((d=h.x)!==null&&d!==void 0?d:0,(f=h.width)!==null&&f!==void 0?f:0,(m=h.height)!==null&&m!==void 0?m:0),this._core.registerDecoration(h)}hasSelection(){return this._core.hasSelection()}select(h,d,f){this._verifyIntegers(h,d,f),this._core.select(h,d,f)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(h,d){this._verifyIntegers(h,d),this._core.selectLines(h,d)}dispose(){super.dispose()}scrollLines(h){this._verifyIntegers(h),this._core.scrollLines(h)}scrollPages(h){this._verifyIntegers(h),this._core.scrollPages(h)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(h){this._verifyIntegers(h),this._core.scrollToLine(h)}clear(){this._core.clear()}write(h,d){this._core.write(h,d)}writeln(h,d){this._core.write(h),this._core.write(`\r
`,d)}paste(h){this._core.paste(h)}refresh(h,d){this._verifyIntegers(h,d),this._core.refresh(h,d)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(h){this._addonManager.loadAddon(this,h)}static get strings(){return n}_verifyIntegers(...h){for(const d of h)if(d===1/0||isNaN(d)||d%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...h){for(const d of h)if(d&&(d===1/0||isNaN(d)||d%1!=0||d<0))throw new Error("This API only accepts positive integers")}}_.Terminal=b})(),l})())}(fs)),fs.exports}var lv=av(),_s={exports:{}},cl;function cv(){return cl||(cl=1,function(e,r){(function(i,t){e.exports=t()})(self,()=>(()=>{var i={};return(()=>{var t=i;Object.defineProperty(t,"__esModule",{value:!0}),t.FitAddon=void 0,t.FitAddon=class{activate(s){this._terminal=s}dispose(){}fit(){const s=this.proposeDimensions();if(!s||!this._terminal||isNaN(s.cols)||isNaN(s.rows))return;const l=this._terminal._core;this._terminal.rows===s.rows&&this._terminal.cols===s.cols||(l._renderService.clear(),this._terminal.resize(s.cols,s.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const s=this._terminal._core,l=s._renderService.dimensions;if(l.css.cell.width===0||l.css.cell.height===0)return;const _=this._terminal.options.scrollback===0?0:s.viewport.scrollBarWidth,n=window.getComputedStyle(this._terminal.element.parentElement),a=parseInt(n.getPropertyValue("height")),c=Math.max(0,parseInt(n.getPropertyValue("width"))),p=window.getComputedStyle(this._terminal.element),u=a-(parseInt(p.getPropertyValue("padding-top"))+parseInt(p.getPropertyValue("padding-bottom"))),v=c-(parseInt(p.getPropertyValue("padding-right"))+parseInt(p.getPropertyValue("padding-left")))-_;return{cols:Math.max(2,Math.floor(v/l.css.cell.width)),rows:Math.max(1,Math.floor(u/l.css.cell.height))}}}})(),i})())}(_s)),_s.exports}var uv=cv();let Wr="";function hv(e){const r=/ie_(us|ue)/g,i=e.match(r);return i?i.length:0}const dv=e=>{const r=new WebSocket("ws://localhost:4001/ws/term");return r.onopen=()=>{r.send(`rm -rf ExecDocs && mkdir ExecDocs && cd ExecDocs
`),r.send(`wget -q -O ie https://github.com/Azure/InnovationEngine/releases/download/$VERSION/ie
`),r.send(`chmod +x ie && mkdir -p ~/.local/bin && mv ie ~/.local/bin
`)},r.onmessage=i=>{let t="";if(typeof i.data=="object")try{t=new TextDecoder("utf-8").decode(i.data)}catch{}if(typeof i.data=="string"&&(t=i.data),Wr+=t,hv(Wr)>=2){Wr.split("ie_us")[1].split("ie_ue",2)[0];const l=Wr.indexOf("ie_ue")+5;Wr=Wr.slice(l)}},e.current.onData(i=>{}),r},fv=(e,r)=>{const i=new WebSocket("ws://localhost:4001/ws/resize"),t=new ResizeObserver(()=>{r.current.fit();const{cols:s,rows:l}=e.current;i.send(JSON.stringify({cols:s,rows:l}))});return t.observe(e.current.element),{resizeSocket:i,resizeObserver:t}},_v=()=>{const e=qe.useRef(null),r=qe.useRef(new uv.FitAddon),i=qe.useRef(new lv.Terminal({cursorBlink:!0})),t=qe.useContext(nn);return qe.useEffect(()=>{var a,c;i.current.loadAddon(r.current),i.current.open(e.current),r.current.fit();const s=dv(i),{resizeObserver:l,resizeSocket:_}=fv(i,r);(a=t.setTerminalSocket)==null||a.call(t,s),(c=t.setResizeSocket)==null||c.call(t,_);const n=new ov.AttachAddon(s);return i.current.loadAddon(n),i.current.writeln("Welcome to the Executable Docs Terminal!"),i.current.writeln("We will leverage this cli experience to orchestrate the Executable Docs deployment."),i.current.writeln(""),()=>{i.current.dispose(),s.close(),_.close(),l.disconnect()}},[]),fe.jsx("div",{ref:e,style:{backgroundColor:"black",height:"100%",width:"100%"}})};nr.registerSidebarEntry({name:"mypluginsidebar",label:"Executable Docs",url:"/Executable-Docs",icon:"mdi:comment-quote",sidebar:"HOME"}),nr.registerRoute({path:"/Executable-Docs",sidebar:{item:"Executable-Docs",sidebar:"Innovation-engine"},useClusterURL:!1,noAuthRequired:!0,name:"Executable-Docs",exact:!0,component:()=>fe.jsx(wl,{children:fe.jsxs("div",{style:{height:"100%"},children:[fe.jsx("title",{style:{fontWeight:"bold",fontSize:"24px",marginBottom:"10px",display:"block"},children:"Executable Docs Headlamp Integration"}),fe.jsxs("div",{style:{display:"flex",height:"100%"},children:[fe.jsx("div",{style:{width:"50%"},children:fe.jsx(nv,{})}),fe.jsx("div",{style:{flex:1,width:"50%"},children:fe.jsx(_v,{})})]})]})})}),nr.registerSidebarEntry({name:"backtohome",label:"Back to Home",url:"/",icon:"mdi:hexagon",sidebar:"Innovation-engine"})});
